creation date: 2025-12-19 18:43
tags:
  - NAS
  - SAN
keywords:
source:
status: üåü
Parent: "Area-Sistemas"
cssclasses:
  - hide-embedded-header1
categories: "[Sistemas](/sistemas/sistemas/)"
public_note: "true"
# SAN

## Concepto general
- [Sistemas](/sistemas/sistemas/) de almacenamiento en **red dedicada**
- Dise√±ada para **alta demanda de E/S**
- Arquitectura basada en **bloques**, no en archivos
- Se presenta a los hosts como **discos locales sin formato**
	- El **SO** es responsable del **formateo**, **filesystem** y gesti√≥n de vol√∫menes

## Arquitectura y componentes
- **Red de bloques**
	- Acceso directo a bloques de datos
	- Baja latencia y alto rendimiento
- **Servidores (hosts)**
	- Adaptadores de red / HBA (Host Bus Adapter)
	- Acceso simult√°neo a los mismos vol√∫menes
- **Dispositivos de almacenamiento**
	- Cabinas SAN
	- LUNs (Logical Unit Numbers)
- **Conmutadores**
	- Switches de fibra optica o Ethernet
	- Red dedicada, aislada del tr√°fico general
- **Grupos de almacenamiento**
	- Pools de discos
	- Asignaci√≥n din√°mica de capacidad

## Casos de uso de alta demanda
- **E/S intensiva**
	- [Databases](/databases/databases/)
	- Sistemas transaccionales
- **[Virtualizacion](/devops/virtualizacion/)**
	- Almacenamiento compartido entre nodos
	- Alta disponibilidad
	- Consolidaci√≥n de cargas
- **vMotion**
	- Migraci√≥n en vivo de m√°quinas virtuales
	- Balanceo din√°mico de carga entre nodos
	- Requiere acceso concurrente al mismo datastore

## Comunicaci√≥n y acceso a datos
- **Peticiones al filesystem**
	- El host env√≠a comandos SCSI
	- La SAN responde a nivel de bloque
- **Alta velocidad**
	- Latencias muy bajas
	- Throughput elevado
- **Red dedicada**
	- Evita congesti√≥n
	- Mejora seguridad y previsibilidad

## Escalabilidad
- Escalado **horizontal**
	- A√±adiendo switches
	- A√±adiendo hosts
	- A√±adiendo cabinas de almacenamiento
- Escalado **de capacidad**
	- Expansi√≥n de pools
	- Nuevos LUNs sin impacto en los hosts
- Escalado **de rendimiento**
	- Multipathing
	- Balanceo de carga

## Tecnolog√≠as de transporte
- **iSCSI sobre Ehternet**
	- SAN sobre IP
	- Menor coste
	- Usa infraestructura Ethernet existente
- **fibra optica**
	- Red dedicada de alto rendimiento
	- Muy baja latencia
	- Alta fiabilidad

## Protocolos SAN
- **FCP (Fibre Channel Protocol)**
	- Protocolo nativo de Fibre Channel
	- Transporte de comandos SCSI
	- Muy usado en entornos enterprise
- **iSCSI (Internet Small Computer System Interface)**
	- Transporta comandos SCSI a trav√©s de redes IP
	- Funciona sobre TCP/IP
	- M√°s flexible y econ√≥mico que Fibre Channel

# SAN ‚Äî Conceptos avanzados y temas complementarios

## Gesti√≥n y control de acceso
- **Zoning**
	- Segmentaci√≥n l√≥gica de la red SAN
	- Controla qu√© hosts pueden ver qu√© dispositivos
	- Reduce dominios de fallo y mejora seguridad
- **LUN Masking**
	- Presentaci√≥n selectiva de LUNs a hosts espec√≠ficos
	- Evita accesos no autorizados o accidentales
	- Se gestiona en la cabina de almacenamiento

## Alta disponibilidad y resiliencia
- **Multipathing**
	- M√∫ltiples rutas entre host y almacenamiento
	- Failover autom√°tico ante fallos de enlaces o switches
	- Balanceo de carga a nivel de I/O
- **Redundancia**
	- Switches duplicados
	- Controladoras activas/activas en cabinas
	- Enlaces f√≠sicos redundantes
- **Tolerancia a fallos**
	- Continuidad de servicio ante fallos de hardware
	- Requisito clave en entornos cr√≠ticos

## Rendimiento y optimizaci√≥n
- **IOPS y latencia**
	- M√©tricas clave en SAN
	- Impactan directamente en aplicaciones cr√≠ticas
- **Colas de I/O**
	- Ajuste de queue depth en hosts
	- Influye en el aprovechamiento del backend
- **Caching**
	- Cach√© en controladoras
	- Escritura diferida y lectura anticipada
- **Alineaci√≥n de bloques**
	- Importante para bases de datos y virtualizaci√≥n
	- Reduce sobrecarga de escritura

## Seguridad en SAN
- **Aislamiento f√≠sico**
	- Redes separadas del tr√°fico de usuario
- **Autenticaci√≥n**
	- CHAP en iSCSI
	- Control de acceso a nivel de switch
- **Cifrado**
	- En tr√°nsito (seg√∫n tecnolog√≠a)
	- En reposo en cabinas modernas
- **Auditor√≠a**
	- Registro de accesos y cambios de configuraci√≥n

## Administraci√≥n y operaci√≥n
- **Provisioning**
	- Thin provisioning
	- Asignaci√≥n flexible de capacidad
- **Snapshots**
	- Copias instant√°neas a nivel de bloque
	- Bajo impacto en rendimiento
- **Replicaci√≥n**
	- Sincr√≥nica
	- Asincr√≥nica
	- Soporte para recuperaci√≥n ante desastres
- **Monitoreo**
	- Uso de capacidad
	- Rendimiento
	- Estado de enlaces y controladoras

## Integraci√≥n con sistemas y plataformas
- **Sistemas operativos**
	- Drivers y HBA espec√≠ficos
	- Soporte de multipathing nativo
- **Hipervisores**
	- Datastores compartidos
	- Clustering y HA
- **Clusters de aplicaciones**
	- Acceso concurrente a vol√∫menes
	- Coordinaci√≥n mediante software de cluster

## Evoluci√≥n de SAN
- **Convergencia**
	- Integraci√≥n con redes IP
	- Infraestructura m√°s flexible
- **NVMe over Fabrics**
	- Acceso NVMe remoto
	- Latencias extremadamente bajas
	- Uso sobre Ethernet o Fibre Channel
- **Automatizaci√≥n**
	- APIs de cabinas
	- Integraci√≥n con herramientas de orquestaci√≥n
- **Infraestructura como c√≥digo**
	- Definici√≥n declarativa de almacenamiento
	- Repetibilidad y reducci√≥n de errores humanos

## Comparaci√≥n conceptual
- **SAN vs [NAS](/sistemas/nas/)**
	- SAN: acceso a nivel de bloque
	- NAS: acceso a nivel de archivo
	- Diferentes casos de uso y patrones de carga
- **SAN tradicional vs definida por software**
	- Hardware dedicado vs abstracci√≥n por software
	- Flexibilidad frente a rendimiento puro

# SAN ‚Äî Arquitectura, casos de uso e implementaciones

## Arquitecturas SAN

### Arquitectura cl√°sica Fibre Channel
- Red dedicada basada en fibra optica
- Switches Fibre Channel redundantes
- Hosts con HBA FC
- Cabinas con controladoras activas/activas
- Uso del protocolo FCP
- Topolog√≠as comunes
	- Core-Edge
	- Mesh parcial
- Orientada a
	- Latencia m√≠nima
	- M√°xima fiabilidad
	- Entornos enterprise cr√≠ticos

### Arquitectura iSCSI sobre Ethernet
- SAN implementada sobre Ehternet
- Switches Ethernet dedicados o VLANs aisladas
- Hosts con NIC est√°ndar o NIC con offload iSCSI
- Uso del protocolo iSCSI
- Componentes habituales
	- Jumbo Frames
	- Multipathing IP
- Orientada a
	- Reducci√≥n de costes
	- Flexibilidad
	- Integraci√≥n con redes existentes

### Arquitectura SAN redundante (dual fabric)
- Dos fabrics completamente aislados
- Cada host conectado a ambos fabrics
- Cada cabina expone LUNs por m√∫ltiples controladoras
- Requiere multipathing
- Objetivo
	- Eliminar puntos √∫nicos de fallo
	- Alta disponibilidad total

### Arquitectura SAN convergente
- Tr√°fico de datos y almacenamiento coexistiendo
- Uso de Ethernet de alta velocidad
- Consolidaci√≥n de infraestructura
- Requiere
	- QoS
	- Priorizaci√≥n de tr√°fico
- Escenarios h√≠bridos SAN + IP

## Casos de uso

### Virtualizaci√≥n empresarial
- Datastores compartidos entre hosts
- Soporte para
	- [Virtualizacion](/devops/virtualizacion/)
	- Clustering
	- Alta disponibilidad
- Funcionalidades clave
	- vMotion
	- Migraci√≥n en vivo
	- Balanceo autom√°tico
- Beneficio
	- M√°xima flexibilidad operativa

### Bases de datos de alto rendimiento
- Acceso a nivel de bloque
- Baja latencia y alto IOPS
- Uso intensivo en
	- [Databases](/databases/databases/) relacionales
	- Sistemas OLTP
- Ventajas
	- Control preciso del layout de discos
	- Optimizaci√≥n del filesystem

### Sistemas cr√≠ticos y transaccionales
- ERP
- CRM
- Plataformas financieras
- Requisitos
	- Consistencia
	- Disponibilidad continua
	- Recuperaci√≥n r√°pida ante fallos

### Clusters de aplicaciones
- Acceso concurrente a vol√∫menes
- Coordinaci√≥n mediante software de cluster
- Uso de locking distribuido
- Escenarios
	- Alta disponibilidad
	- Escalado horizontal controlado

### Entornos de backup y recuperaci√≥n
- Snapshots a nivel de bloque
- Replicaci√≥n entre cabinas
- Recuperaci√≥n ante desastres
- Separaci√≥n entre producci√≥n y backup

## Implementaciones pr√°cticas

### Implementaci√≥n SAN para virtualizaci√≥n
- Hosts con multipathing configurado
- Datastores sobre LUNs compartidos
- Cabina con thin provisioning
- Snapshots para backup r√°pido
- Replicaci√≥n para DR
- Beneficio operativo
	- Mantenimiento sin paradas
	- Alta disponibilidad autom√°tica

### Implementaci√≥n SAN para bases de datos
- LUNs dedicados por tipo de carga
	- Datos
	- Logs
	- Temp
- Ajuste de colas de I/O
- Alineaci√≥n de bloques
- Replicaci√≥n asincr√≥nica
- Objetivo
	- Rendimiento consistente
	- Integridad de datos

### Implementaci√≥n SAN con iSCSI
- VLAN dedicada para almacenamiento
- Jumbo Frames habilitados
- Autenticaci√≥n CHAP
- Multipathing IP
- Uso t√≠pico
	- PYMEs
	- Laboratorios
	- Entornos mixtos

### Implementaci√≥n SAN multi-sede
- Replicaci√≥n entre cabinas
- Sincron√≠a seg√∫n latencia
- Conmutaci√≥n por error planificada
- Uso en
	- Continuidad de negocio
	- Recuperaci√≥n ante desastres

## Patrones de dise√±o recomendados

### Aislamiento y seguridad
- Zoning estricto
- LUN Masking por host
- Redes separadas
- Accesos m√≠nimos necesarios

### Escalabilidad controlada
- Expansi√≥n de pools sin impacto
- A√±adir hosts sin reconfiguraci√≥n global
- Crecimiento progresivo del fabric

### Observabilidad
- Monitorizaci√≥n de latencia
- Control de IOPS
- Alertas proactivas
- An√°lisis de tendencias

### Errores comunes a evitar
- Compartir SAN con tr√°fico no cr√≠tico
- Falta de multipathing
- Zoning demasiado permisivo
- Subdimensionar switches o enlaces
- No planificar crecimiento futuro

# SAN ‚Äî Glosario de conceptos

## Conceptos generales
- **SAN (Storage Area Network)**
	- Red especializada para acceso a almacenamiento a nivel de bloque
- **Acceso a nivel de bloque**
	- El host ve el almacenamiento como discos locales sin formato
- **Red dedicada**
	- Infraestructura aislada para garantizar rendimiento y disponibilidad
- **Alta disponibilidad**
	- Capacidad de mantener el servicio ante fallos de componentes

## Componentes de arquitectura
- **Host**
	- Servidor que consume almacenamiento SAN
- **HBA (Host Bus Adapter)**
	- Adaptador especializado para conexi√≥n SAN
- **NIC**
	- Tarjeta de red usada en arquitecturas iSCSI
- **Cabina de almacenamiento**
	- Sistema que gestiona discos y expone vol√∫menes
- **Controladora**
	- Componente que procesa I/O dentro de la cabina
- **Switch SAN**
	- Conmutador especializado para tr√°fico de almacenamiento
- **Fabric**
	- Conjunto l√≥gico de switches SAN interconectados

## Unidades y abstracciones
- **LUN (Logical Unit Number)**
	- Unidad l√≥gica presentada a un host
- **Pool de almacenamiento**
	- Conjunto de discos agregados para asignaci√≥n flexible
- **Thin provisioning**
	- Asignaci√≥n l√≥gica de capacidad bajo demanda
- **Snapshot**
	- Copia puntual a nivel de bloque
- **Replicaci√≥n**
	- Copia de datos entre cabinas o sedes

## Protocolos y tecnolog√≠as
- **FCP**
	- Protocolo SCSI sobre Fibre Channel
- **iSCSI**
	- Transporte de comandos SCSI sobre IP
- **fibra optica**
	- Medio f√≠sico de alta velocidad y baja latencia
- **Ehternet**
	- Tecnolog√≠a de red usada en SAN basadas en IP
- **NVMe over Fabrics**
	- Acceso remoto a dispositivos NVMe con latencias m√≠nimas

## Gesti√≥n y control de acceso
- **Zoning**
	- Segmentaci√≥n l√≥gica del fabric SAN
- **LUN Masking**
	- Restricci√≥n de visibilidad de LUNs por host
- **CHAP**
	- Mecanismo de autenticaci√≥n en iSCSI
- **Multipathing**
	- Uso de m√∫ltiples rutas entre host y almacenamiento

## Rendimiento y m√©tricas
- **IOPS**
	- Operaciones de entrada/salida por segundo
- **Latencia**
	- Tiempo de respuesta de una operaci√≥n de I/O
- **Throughput**
	- Cantidad de datos transferidos por unidad de tiempo
- **Queue Depth**
	- N√∫mero de operaciones I/O en cola
- **Caching**
	- Uso de memoria para acelerar lecturas y escrituras

## Virtualizaci√≥n y clustering
- **[Virtualizacion](/devops/virtualizacion/)**
	- Ejecuci√≥n de m√∫ltiples sistemas sobre hardware compartido
- **Datastore**
	- Contenedor l√≥gico de almacenamiento para m√°quinas virtuales
- **vMotion**
	- Migraci√≥n en vivo de m√°quinas virtuales
- **Cluster**
	- Conjunto de nodos que trabajan como una sola unidad
- **Locking distribuido**
	- Coordinaci√≥n de acceso concurrente a bloques

## Resiliencia y continuidad
- **Dual Fabric**
	- Dos redes SAN completamente independientes
- **Failover**
	- Cambio autom√°tico ante fallo de un componente
- **Disaster Recovery**
	- Recuperaci√≥n ante fallos catastr√≥ficos
- **Replicaci√≥n s√≠ncrona**
	- Escritura simult√°nea en origen y destino
- **Replicaci√≥n as√≠ncrona**
	- Escritura diferida en el destino

## Comparativas y contexto
- **SAN vs [NAS](/sistemas/nas/)**
	- Bloque frente a archivo
- **SAN tradicional**
	- Hardware dedicado y redes especializadas
- **SAN definida por software**
	- Abstracci√≥n del almacenamiento mediante software
- **Infraestructura convergente**
	- C√≥mputo, red y almacenamiento integrados

# SAN ‚Äî Recursos web y estado en 2025

## Recursos generales y gu√≠as

- **Qu√© es SAN y documentaci√≥n t√©cnica**
	- [¬øQu√© es una red de √°rea de almacenamiento (SAN)? | IBM](https://www.ibm.com/es-es/think/topics/storage-area-network) ‚Äî Explicaci√≥n detallada, ventajas, arquitectura y diferencias con NAS.
	- [¬øQu√© es una red de √°rea de almacenamiento (SAN)? | Pure Storage](https://www.purestorage.com/es/knowledge/what-is-storage-area-network.html) ‚Äî Recursos, demos y conceptos avanzados de SAN en 2025.
	- [Almacenamiento SAN: qu√© es una Storage Area Network | IONOS Espa√±a](https://www.ionos.es/digitalguide/servidores/know-how/san-almacenamiento-para-grandes-cantidades-de-datos/) ‚Äî Explicaci√≥n pr√°ctica de funcionamiento, topolog√≠a y configuraci√≥n b√°sica.
	- **PDF t√©cnico reciente:** *Data Center ‚Äî SAN/NAS/DAS* (cap√≠tulo 8) ‚Äî Introducci√≥n a SAN, comparativa con otros modelos y tecnolog√≠as de red. [Enlace al PDF](https://tecbiblio.com/wp-content/uploads/2025/05/data-center-una-mirada-por-dentro.pdf)

## Protocolos y tecnolog√≠as SAN

- **Protocolos principales usados en SAN**
	- Fibre Channel, iSCSI, FCoE y NVMe over Fabrics listados como tecnolog√≠as clave para construir SAN modernas.
- **Video tutorial y explicaci√≥n de iSCSI**
	- [iSCSI SAN Overview ‚Äì FlackBox](https://www.flackbox.com/iscsi-san-overview/) ‚Äî Tutorial con v√≠deo y conceptos de initiator/target y mejores pr√°cticas en SAN iSCSI.
- **Seguridad en Fibre Channel**
	- *SNIA Fibre Channel Security Tech Whitepaper* ‚Äî Gu√≠a t√©cnica para asegurar redes SAN basadas en FC (est√°ndar ISO/IEC 27040). [Enlace al PDF](https://www.snia.org/sites/default/files/2024-12/SNIA-Fibre-Channel-Security-Tech-Whitepaper.pdf)

## Documentaci√≥n y administraci√≥n

- **Manual de SAN b√°sico (seguridad inform√°tica)**
	- Resumen sobre SAN como red dedicada, uso de protocolos de alta velocidad y optimizaci√≥n de tr√°fico. [Enlace](https://www.fpgenred.es/Seguridad-Informatica-II/san.html)
- **Proyecto y documentaci√≥n de SAN real**
	- *Documentaci√≥n y administraci√≥n de SAN* (repositorio universitario) ‚Äî Ejemplo de objetivo y procesos de documentaci√≥n en implementaci√≥n SAN. [Enlace](https://repositorio.uptc.edu.co/bitstreams/d7b4c49c-5743-4dd0-a87d-082dede40b14/download)

## Cursos y aprendizaje

- **Curso gratuito sobre SAN y NAS**
	- [Introduction to SAN and NAS Storage | Udemy](https://www.udemy.com/course/storageintro/?srsltid=AfmBOoowRctKCYpv--D7lidkDQk320bY-0a4OMniQP-V4ZaFVx4tfdO5) ‚Äî Curso introductorio para entender diferencias, configuraci√≥n b√°sica y protocolos como iSCSI y Fibre Channel.

## Estado de SAN en 2025 ‚Äî tendencias y contexto

- **Gu√≠a empresarial 2025**
	- *Storage Area Network SAN ‚Äî 2025 Guide to High-Performance Block Storage* ‚Äî Cobertura de arquitectura SAN, casos de uso, mejores pr√°cticas, seguridad, observabilidad, y tendencias como NVMe-oF y cloud h√≠brido. [Enlace](https://cloudknowledge.in/on-premise-active-directory/storage-area-network-san/)

## Documentaci√≥n visual y diagramas

- **Importancia de diagramas SAN**
	- [¬øQu√© es un diagrama de SAN y por qu√© lo necesitas? | Pure Storage](https://www.purestorage.com/la/knowledge/what-is-a-san-diagram.html) ‚Äî Utilidad de diagramas para documentaci√≥n, cumplimiento y recuperaci√≥n ante fallos.
