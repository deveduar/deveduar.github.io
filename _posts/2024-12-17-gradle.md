---
date: 2024-12-17 16:43
title: Gradle
tags:
keywords:
source:
status: üåü
Parent: "[[Area-Prog]]"
cssclasses:
public_note: "true"
category: gradle
categories:
  - gradle
  - java
  - spring
  - compilacion
  - hide-embedded-header1
  - wide
  - Automatizacion y Build
---
# Gradle
`$= dv.current().file.tags.join(" ")`

## Contexto y relaciones
- [java](/software%20engineering/java/)
- Automatizacion
- [CICD](/devops/cicd/)
- [Automatizacion y Build](/uncategorized/automatizacion-y-build/)
- [Testing](/testing/testing/)
- android
- [DSL](/computer%20science/dsl/)

## ¬øQu√© es Gradle?
- Herramienta de **automatizaci√≥n de builds** y **gesti√≥n de dependencias**
- Orientada a **flexibilidad**, **rendimiento** y **configuraci√≥n program√°tica**
- Muy utilizada en:
	- Proyectos Java/JVM
	- Android
	- Builds complejos y multiproyecto
- Dise√±ada para integrarse f√°cilmente en pipelines de [CICD](/devops/cicd/)

## Gradle vs Maven
- vs [maven](/automatizacion%20y%20build/maven/)
- Gradle vs Maven Definitions and main Differences-
- Diferencias clave:
	- Gradle:
		- DSL programable (Groovy o Kotlin)
		- Builds incrementales y cacheados
		- Mejor rendimiento en proyectos grandes
	- Maven:
		- Configuraci√≥n declarativa (XML)
		- Convenci√≥n sobre configuraci√≥n
		- Menor flexibilidad, mayor simplicidad inicial

## DSL y configuraci√≥n
- DSL principal:
	- Groovy (m√°s com√∫n hist√≥ricamente)
	- Kotlin DSL (tipado fuerte, mejor autocompletado)
- Ventajas del DSL:
	- L√≥gica condicional
	- Reutilizaci√≥n de c√≥digo
	- Configuraci√≥n din√°mica seg√∫n entorno

## Gesti√≥n de dependencias
- Resoluci√≥n avanzada de dependencias:
	- Versiones din√°micas
	- Exclusiones
	- Conflictos y prioridades
- Repositorios:
	- Maven Central
	- Google
	- Repositorios privados
- Soporte para:
	- JARs
	- Librer√≠as internas
	- Dependencias transitivas

## Optimizaci√≥n de compilaci√≥n y tests
- **optimizar compilacion y correr tests**
- Caracter√≠sticas clave:
	- Incremental builds
	- Build cache (local y remoto)
	- Parallel execution
- Beneficios:
	- Menores tiempos de build
	- Feedback r√°pido en testing
	- Escalabilidad en equipos grandes

## Variables de tiempo y entorno
- time variables
- Uso de:
	- Variables de entorno
	- Propiedades del sistema
	- Archivos `gradle.properties`
- Casos comunes:
	- Configuraci√≥n por entorno (dev, staging, prod)
	- Versionado autom√°tico
	- Flags de compilaci√≥n

## Multiproyectos
- multiproyectos
- Estructura:
	- Proyecto ra√≠z
	- Subproyectos
- Ventajas:
	- Reutilizaci√≥n de m√≥dulos
	- Builds coherentes
	- Separaci√≥n de responsabilidades
- Casos t√≠picos:
	- Backend modular
	- Librer√≠as compartidas
	- Monorepos

## Plugins de Gradle
- plugins
- Extienden la funcionalidad del build:
	- Testing
	- Packaging
	- Publicaci√≥n
	- An√°lisis est√°tico
- Plugin destacado:
	- [shadow docs Introduction](https://gradleup.com/shadow/introduction/#benefits-of-shadow)
	- [GitHub - GradleUp/shadow: Gradle plugin to create fat/uber JARs, apply file transforms, and relocate packages for applications and libraries. Gradle version of Maven's Shade plugin.](https://github.com/GradleUp/shadow)
- Shadow plugin:
	- Crear **fat/uber JARs**
	- Reubicaci√≥n de paquetes
	- Alternativa directa a Maven Shade

## Creaci√≥n de librer√≠as Java
- crear librerias en java
- Artefactos comunes:
	- JAR
- Publicaci√≥n:
	- Repositorios Maven
	- Servicios externos
- Plataforma √∫til:
	- [JitPack | Publish JVM and Android libraries](https://jitpack.io/)
- Casos de uso:
	- Librer√≠as internas
	- SDKs
	- Componentes reutilizables

## Gradle en Android
- compilar android
- Sistema de build oficial de Android
- Integraci√≥n con:
	- Android Studio
	- Flavors y build types
	- ProGuard / R8
- Ventajas:
	- Builds r√°pidos
	- Configuraci√≥n por variante
	- Automatizaci√≥n avanzada

## Documentaci√≥n oficial
- docs
- [Gradle User Manual](https://docs.gradle.org/current/userguide/userguide.html)

## Recursos en video
- videos
- [x] [Aprende GRADLE en 20 minutos - YouTube](https://youtu.be/GJbS8oSMyKI)
- [ ] 

# Gradle ‚Äî Conceptos avanzados y temas complementarios

## Ciclo de vida del build
- Fases del build:
	- Initialization
	- Configuration
	- Execution
- Importancia:
	- Evitar l√≥gica costosa en configuraci√≥n
	- Mejorar rendimiento y predictibilidad
- Conceptos clave:
	- Configuration avoidance
	- Lazy evaluation

## Tareas (Tasks) en profundidad
- Task:
	- Unidad b√°sica de trabajo en Gradle
- Caracter√≠sticas:
	- Inputs y outputs declarados
	- Up-to-date checks
	- Incremental execution
- Tipos:
	- Tareas est√°ndar
	- Tareas personalizadas
	- Tareas cacheables

## Configuration Cache
- Mecanismo para reutilizar la fase de configuraci√≥n
- Beneficios:
	- Builds significativamente m√°s r√°pidos
- Requisitos:
	- Builds deterministas
	- Evitar acceso directo a estado mutable en configuraci√≥n

## Gradle Wrapper
- Uso de `gradlew`
- Ventajas:
	- Versiones de Gradle consistentes en equipos y CI
	- No requiere instalaci√≥n global
- Archivos clave:
	- `gradle-wrapper.properties`

## Archivos clave del proyecto
- `build.gradle` / `build.gradle.kts`
- `settings.gradle` / `settings.gradle.kts`
- `gradle.properties`
- Responsabilidades:
	- settings:
		- Nombre del proyecto
		- Inclusi√≥n de subproyectos
	- build:
		- Plugins
		- Dependencias
		- Tareas

## Version Catalogs
- Centralizaci√≥n de versiones
- Archivo:
	- `libs.versions.toml`
- Ventajas:
	- Evita duplicaci√≥n
	- Mejor mantenimiento
	- Consistencia entre m√≥dulos
- Uso com√∫n en multiproyectos

## Dependency Locking
- Bloqueo expl√≠cito de versiones
- Objetivo:
	- Builds reproducibles
- Casos de uso:
	- Evitar cambios inesperados
	- Estabilidad en CI
- Integraci√≥n con control de versiones

## Publicaci√≥n de artefactos
- Publishing:
	- Maven Publish Plugin
- Soporte para:
	- Librer√≠as
	- Plugins
- Destinos:
	- Repositorios privados
	- Repositorios p√∫blicos
- Metadatos:
	- Versionado
	- POM generado autom√°ticamente

## Composite Builds
- Builds que se consumen entre s√≠ sin publicar
- Ventajas:
	- Desarrollo local de librer√≠as
	- Feedback inmediato
- Alternativa a:
	- Publicaci√≥n temporal en repositorios

## Testing avanzado
- Integraci√≥n con:
	- JUnit
	- TestNG
	- Spock
- Tipos de tests:
	- Unitarios
	- Integraci√≥n
	- Funcionales
- Features:
	- Test filtering
	- Paralelizaci√≥n
	- Reports personalizables

## Tooling API
- API de Gradle para herramientas externas
- Casos de uso:
	- IDEs
	- Herramientas de an√°lisis
	- Automatizaci√≥n externa
- Permite:
	- Ejecutar builds
	- Inspeccionar modelos del proyecto

## Seguridad en Gradle
- Verificaci√≥n de dependencias:
	- Checksums
	- Signatures
- Protecci√≥n de credenciales:
	- Variables de entorno
	- Gradle properties
- Buenas pr√°cticas:
	- No hardcodear secretos
	- Usar vaults o CI secrets

## Inicializaci√≥n de proyectos
- `gradle init`
- Generaci√≥n de:
	- Estructura base
	- Tipos de proyecto
- √ötil para:
	- Nuevos proyectos
	- Estandarizaci√≥n

## Rendimiento y diagn√≥stico
- Flags √∫tiles:
	- `--scan`
	- `--profile`
- Build scans:
	- An√°lisis detallado de rendimiento
	- Identificaci√≥n de cuellos de botella

## Compatibilidad y ecosistema
- Integraci√≥n con:
	- [CICD](/devops/cicd/)
	- Docker
	- Cloud builds
- Soporte multiplataforma:
	- JVM
	- Android
	- Native (limitado)

## Cu√°ndo elegir Gradle
- Proyectos grandes o complejos
- Builds altamente personalizados
- Necesidad de rendimiento y escalabilidad
- Entornos con m√∫ltiples m√≥dulos y librer√≠as compartidas

# Gradle ‚Äî Gu√≠a pr√°ctica con ejemplos de c√≥digo y uso
`$= dv.current().file.tags.join(" ")`

## Inicializar un proyecto
### Crear proyecto base
{% raw %}
```bash
gradle init
```
{% endraw %}`

* Permite elegir:

  * Tipo de proyecto (application, library)
  * DSL (Groovy / Kotlin)
  * Lenguaje (Java, Kotlin, etc.)
* Genera estructura est√°ndar y Wrapper

## Estructura b√°sica de un proyecto

* Archivos principales:

  * `settings.gradle`
  * `build.gradle`
  * `gradle.properties`

## Configuraci√≥n m√≠nima Java

### build.gradle

{% raw %}
```groovy
plugins {
	id 'java'
}

group = 'com.example'
version = '1.0.0'

repositories {
	mavenCentral()
}

dependencies {
	testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
}

test {
	useJUnitPlatform()
}
```
{% endraw %}

## Gesti√≥n de dependencias

### A√±adir dependencias

{% raw %}
```groovy
dependencies {
	implementation 'com.google.guava:guava:33.0.0-jre'
	runtimeOnly 'ch.qos.logback:logback-classic:1.5.3'
}
```
{% endraw %}

### Excluir dependencias transitivas

{% raw %}
```groovy
implementation('org.springframework.boot:spring-boot-starter-web') {
	exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'
}
```
{% endraw %}

## Uso de Version Catalogs

### libs.versions.toml

{% raw %}
```toml
[versions]
junit = "5.10.0"

[libraries]
junit-jupiter = { module = "org.junit.jupiter:junit-jupiter", version.ref = "junit" }
```
{% endraw %}

### build.gradle

{% raw %}
```groovy
dependencies {
	testImplementation libs.junit.jupiter
}
```
{% endraw %}

## Definici√≥n de tareas personalizadas

### Task simple

{% raw %}
```groovy
tasks.register('hello') {
	doLast {
		println 'Hola desde Gradle'
	}
}
```
{% endraw %}

### Ejecutar

{% raw %}
```bash
./gradlew hello
```
{% endraw %}

## Tareas con inputs y outputs

### Task incremental

{% raw %}
```groovy
tasks.register('copyFiles', Copy) {
	from 'src/resources'
	into "$buildDir/resources"
}
```
{% endraw %}

## Variables de entorno y propiedades

### gradle.properties

{% raw %}
```properties
appVersion=1.2.3
```
{% endraw %}

### build.gradle

{% raw %}
```groovy
version = project.findProperty("appVersion") ?: "0.0.1"
```
{% endraw %}

### Variables de entorno

{% raw %}
```groovy
def env = System.getenv("ENV") ?: "dev"
println "Entorno actual: $env"
```
{% endraw %}

## Proyecto multiproyecto

### settings.gradle

{% raw %}
```groovy
rootProject.name = 'demo-multiproject'
include 'core', 'api'
```
{% endraw %}

### build.gradle (root)

{% raw %}
```groovy
subprojects {
	apply plugin: 'java'

	repositories {
		mavenCentral()
	}
}
```
{% endraw %}

## Dependencias entre m√≥dulos

### api/build.gradle

{% raw %}
```groovy
dependencies {
	implementation project(':core')
}
```
{% endraw %}

## Testing

### Ejecutar tests

{% raw %}
```bash
./gradlew test
```
{% endraw %}

### Filtrar tests

{% raw %}
```bash
./gradlew test --tests "*ServiceTest"
```
{% endraw %}

## Build cache y paralelizaci√≥n

### gradle.properties

{% raw %}
```properties
org.gradle.parallel=true
org.gradle.caching=true
```
{% endraw %}

## Uso del Wrapper

### Ejecutar build

{% raw %}
```bash
./gradlew build
```
{% endraw %}

### Actualizar versi√≥n de Gradle

{% raw %}
```bash
./gradlew wrapper --gradle-version 8.7
```
{% endraw %}

## Crear un JAR ejecutable

### build.gradle

{% raw %}
```groovy
jar {
	manifest {
		attributes(
			'Main-Class': 'com.example.Main'
		)
	}
}
```
{% endraw %}

## Fat JAR con Shadow plugin

### build.gradle

{% raw %}
```groovy
plugins {
	id 'java'
	id 'com.github.johnrengelman.shadow' version '8.1.1'
}

shadowJar {
	archiveClassifier.set('all')
}
```
{% endraw %}

### Ejecutar

{% raw %}
```bash
./gradlew shadowJar
```
{% endraw %}

## Publicar una librer√≠a

### build.gradle

{% raw %}
```groovy
plugins {
	id 'java-library'
	id 'maven-publish'
}

publishing {
	publications {
		mavenJava(MavenPublication) {
			from components.java
		}
	}
	repositories {
		maven {
			url = uri("https://maven.example.com/releases")
		}
	}
}
```
{% endraw %}

## Uso con JitPack

* Requisitos:
  * Repositorio p√∫blico en GitHub
  * Tag de versi√≥n
* Dependencia desde otro proyecto:

{% raw %}
```groovy
repositories {
	maven { url 'https://jitpack.io' }
}

dependencies {
	implementation 'com.github.usuario:repositorio:1.0.0'
}
```
{% endraw %}

## Gradle en CI

### Ejemplo b√°sico

{% raw %}
```bash
./gradlew clean build
```
{% endraw %}

* Buenas pr√°cticas:

  * Usar Wrapper
  * Cachear `.gradle` y `build`
  * Usar `--no-daemon` en CI

## Diagn√≥stico y an√°lisis

### Build scan

{% raw %}
```bash
./gradlew build --scan
```
{% endraw %}

### Perfil de rendimiento

{% raw %}
```bash
./gradlew build --profile
```
{% endraw %}

## Comandos √∫tiles

{% raw %}
```bash
./gradlew tasks
./gradlew dependencies
./gradlew build
./gradlew clean
```
{% endraw %}


# Estado de Gradle en 2025 y herramientas del ecosistema

## 1. Estado general del Gradle Build Tool
- Gradle sigue siendo **uno de los sistemas de automatizaci√≥n de builds m√°s usados** para proyectos JVM/Android y multiplataforma.  
- Ofrece potente **gesti√≥n de dependencias, builds incrementales y tareas personalizadas**, con adopci√≥n continua en la industria.  
- M√°s informaci√≥n: [Gradle Wikipedia](https://en.wikipedia.org/wiki/Gradle)

## 2. Develocity ‚Äî Observabilidad avanzada y AI para builds
- El plugin de **Develocity para Gradle** (`com.gradle.develocity`) est√° reemplazando al antiguo plugin de Build Scan y es el est√°ndar moderno para analizar y optimizar builds.  
- Versi√≥n principal y mejoras recientes:
	- La l√≠nea de versiones **4.x del plugin Develocity** a√±ade soporte para *Build Scan*, *test distribution* resiliente y APIs mejoradas.  
	- La versi√≥n **Develocity 2025.4** incluye agrupamiento de fallos con AI y servidores MCP para integraciones avanzadas y an√°lisis de builds.  
- Art√≠culos/documentaci√≥n clave:
	- Manual de usuario del plugin: [Gradle Develocity Docs](https://docs.gradle.com/develocity/gradle-plugin/current/)
	- Notas de la release 2025.4 con AI y cache extendido: [Develocity 2025.4 Release](https://gradle.com/develocity/releases/2025.4)

## 3. Build Scan (Build Insights)
- Aunque el plugin `com.gradle.build-scan` est√° deprecado, la funcionalidad de **Build Scan contin√∫a viva y evolucionando v√≠a Develocity**.  
- Gu√≠a oficial para usar Build Scan (opci√≥n `--scan`): [Gradle Build Scans](https://docs.gradle.org/current/userguide/build_scans.html)

## 4. Ecosistema de plugins indexado por deps.dev
- El portal **deps.dev ahora indexa el ecosistema completo de plugins de Gradle**, con m√°s de 15‚ÄØ000 paquetes y ~270‚ÄØ000 versiones.  
- Esto facilita:
	- Explorar versiones compatibles
	- Auditar vulnerabilidades
	- Buscar alternativas a plugins existentes  
- M√°s informaci√≥n: [Deps.dev Gradle Plugins](https://blog.deps.dev/gradle-plugins/)

## 5. Proyectos comunitarios en 2025
- Varias iniciativas de Google Summer of Code 2025 relacionadas con Gradle incluyen mejoras en:
	- Plugins de publicaci√≥n a Maven Central con nuevas APIs.  
	- Mejoras en **Configuration Cache** y reducci√≥n de lock contention.  
	- Gradle Convention Plugin para Jenkins Plugins.  
- Referencias: [Gradle Community Newsletter 2025](https://newsletter.gradle.org/html/2025-05-28-May2025/index.html)

## 6. Declarative Gradle ‚Äî DSL experimental
- **Declarative Gradle (DCL)** es un proyecto experimental de Gradle para un **lenguaje de configuraci√≥n declarativo** m√°s simple y ‚Äúdeveloper‚Äëfirst‚Äù.  
- Est√° en **Early Access Preview (EAP)**, con mejoras continuas en soporte para tipos, listas y archivos.  
- No est√° listo para producci√≥n, pero ya tiene demos y documentaci√≥n p√∫blica.  
- M√°s informaci√≥n: [Declarative Gradle Blog](https://blog.gradle.org/declarative-gradle-april-2025-update)
- Documentaci√≥n experimental: [Declarative Gradle GitHub](https://gradle.github.io/declarative-gradle/)

## 7. Releases principales de Gradle en 2025
- En 2025 se han publicado Gradle 9.1.0 y 9.2.0 con:
	- Soporte para Java 25
	- Mejoras en CLI y visualizaci√≥n
	- Diagn√≥sticos de conflicto de versiones
	- Mejoras de compatibilidad con Configuration Cache
	- Soporte oficial del **Gradle Docker image** mantenido por el equipo de Gradle  
- M√°s informaci√≥n: [Gradle Releases](https://gradle.org/releases/)

## 8. Integraci√≥n con IDEs y productividad
- El plugin **Develocity IntelliJ Plugin** proporciona visualizaci√≥n de tiempos de tareas y recursos directamente en el IDE.  
- Declarative Gradle tambi√©n avanza con **soporte en IDEs como IntelliJ IDEA y Android Studio** para destacar archivos `.dcl`  
- M√°s informaci√≥n: [Declarative Gradle IDE Support](https://blog.jetbrains.com/idea/2024/11/declarative-gradle-in-intellij-idea/)

## 9. Tendencias de productividad y best practices
- Newsletters oficiales y blogs de Gradle en 2025 enfatizan:
	- Mejores pr√°cticas de configuraci√≥n
	- Uso efectivo de Configuration Cache
	- Integraci√≥n de m√©tricas y *Build & Test Failure Trends* para mejorar confiabilidad  
- M√°s informaci√≥n: [Gradle Enterprise Trends & Insights](https://gradle.com/gradle-enterprise-solutions/trends-insights/)

## 10. Visi√≥n y perspectivas del ecosistema
**Tendencias claras en 2025:**
- Consolidaci√≥n de herramientas de observabilidad y AI (Develocity)
- Ecosistema de plugins m√°s visible y auditable (deps.dev)
- Exploraci√≥n de Lenguajes declarativos para definir builds (Declarative Gradle)
- Mejores experiencias de IDE y productividad en toolchains de build
- Gradle siguiendo fuerte adopci√≥n en proyectos grandes y complejos con pipelines CI/CD
