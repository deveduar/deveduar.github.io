---
date: 2024-11-21 19:34
title: electron
tags:
keywords:
source:
status: üåü
Parent: "[[Area-Prog]]"
cssclasses:
public_note: "true"
category: Windows
categories:
  - Windows
  - electron
  - desktop-apps
  - hide-embedded-header1
  - wide
  - Desarrollo multiplataforma
---
# Electron
``$= dv.current().file.tags.join(" ")``

Electron es un framework para crear aplicaciones de escritorio multiplataforma usando tecnolog√≠as web como HTML, CSS y JavaScript. Permite desarrollar aplicaciones para **Windows, macOS y Linux** con una √∫nica base de c√≥digo.

## Recursos oficiales
- [Electron framework desktop apps](https://github.com/electron/electron) ‚Äì Repositorio oficial en GitHub con el c√≥digo fuente, ejemplos, issues y comunidad activa.  
- [Electron docs](https://www.electronjs.org/docs/latest/) ‚Äì Documentaci√≥n completa con gu√≠as de inicio, API reference, tutoriales y buenas pr√°cticas.

## Caracter√≠sticas principales
- Multiplataforma: soporta Windows, macOS y Linux.  
- Integraci√≥n con Node.js: permite usar m√≥dulos de Node y acceder al sistema operativo.  
- Renderizado web: las interfaces se crean con HTML, CSS y JS.  
- Actualizaciones autom√°ticas: permite implementar mecanismos de actualizaci√≥n de la app.  
- Seguridad: ofrece opciones como `contextIsolation` y `sandbox` para proteger la aplicaci√≥n.  

## Arquitectura
- **Main process** ‚Äì Controla el ciclo de vida de la app, ventanas y comunicaci√≥n con el sistema operativo.  
- **Renderer process** ‚Äì Cada ventana de la app corre en un proceso de renderizado independiente usando Chromium.  
- **IPC (Inter-Process Communication)** ‚Äì Canal de comunicaci√≥n entre Main y Renderer para enviar mensajes y datos de manera segura.  

## Herramientas y ecosistema
- **Electron Forge** ‚Äì Herramienta para scaffolding, empaquetado y distribuci√≥n de apps Electron.  
- **Electron Builder** ‚Äì Utilidad para generar instaladores y paquetes para distintas plataformas.  
- **Electron Packager** ‚Äì Empaqueta aplicaciones para distribuci√≥n multiplataforma.  
- **DevTools** ‚Äì Integraci√≥n con las herramientas de desarrollo de Chromium para depuraci√≥n y profiling.  

## Seguridad y buenas pr√°cticas
- Habilitar `contextIsolation` y `nodeIntegration: false` en los renderer processes.  
- Validar y sanear toda entrada del usuario.  
- Evitar cargar contenido remoto directamente en la app sin filtros.  
- Mantener dependencias actualizadas y revisar vulnerabilidades con `npm audit`.  

## Recursos adicionales
- [Awesome Electron](https://github.com/sindresorhus/awesome-electron) ‚Äì Lista curada de recursos, herramientas, tutoriales y proyectos Electron.  
- [Electron API Demos](https://github.com/electron/electron-api-demos) ‚Äì Aplicaci√≥n demostrativa para explorar las APIs de Electron en acci√≥n.  
- [Electron Security Checklist](https://www.electronjs.org/docs/latest/tutorial/security) ‚Äì Gu√≠a oficial de seguridad para desarrollar aplicaciones Electron seguras.  

# Electron Avanzado

Electron permite ir m√°s all√° de la base de apps de escritorio, habilitando funcionalidades complejas, integraciones y optimizaci√≥n avanzada.

## Integraciones y frameworks frontend
- **React + Electron** ‚Äì Crear interfaces reactivas con React y manejar ventanas desde el main process.  
- **Vue + Electron** ‚Äì Integraci√≥n con Vue CLI o Vite para construir apps con binding declarativo.  
- **Angular + Electron** ‚Äì Usado en aplicaciones empresariales con gesti√≥n avanzada de estados y rutas.  
- **Svelte + Electron** ‚Äì Permite apps ligeras con menor consumo de memoria y alto rendimiento en renderizado.  

## Testing en Electron
- **Spectron** ‚Äì Framework de pruebas end-to-end para Electron, usa WebDriver y Mocha.  
- **Jest + Testing Library** ‚Äì Para tests unitarios y de componentes en renderer processes.  
- **Playwright / Puppeteer** ‚Äì Automatizaci√≥n de UI y pruebas de integraci√≥n de ventanas y navegaci√≥n interna.  

## Performance y optimizaci√≥n
- Minimizar procesos renderer y usar solo los necesarios para reducir memoria.  
- Lazy loading de m√≥dulos y recursos en renderer processes.  
- Uso de `nativeImage` para optimizar gr√°ficos y evitar sobrecarga de memoria.  
- Evitar re-render innecesario usando frameworks con virtual DOM o t√©cnicas de memoization.  

## Empaquetado y distribuci√≥n avanzada
- **Electron Builder** ‚Äì Creaci√≥n de instaladores personalizados, firma de c√≥digo y actualizaci√≥n autom√°tica.  
- **Code signing** ‚Äì Firmar apps para Windows, macOS y Linux, evitando alertas de seguridad.  
- **Auto-update** ‚Äì Integraci√≥n con servidores de actualizaci√≥n para mantener apps siempre en la √∫ltima versi√≥n.  
- Generaci√≥n de **AppImage, DMG, EXE, MSI y Snap packages** seg√∫n plataforma.  

## Caracter√≠sticas avanzadas de escritorio
- **Integraci√≥n con sistema operativo**: men√∫s nativos, bandeja del sistema, notificaciones nativas.  
- **Acceso a hardware**: USB, Bluetooth, c√°mara y micr√≥fono mediante Node.js o APIs nativas.  
- **Multi-window y multi-monitor**: soporte completo para apps con m√∫ltiples ventanas y monitores.  
- **Context menus y drag & drop** nativos en todos los sistemas operativos.  
- **Dark mode y theming** sincronizado con la configuraci√≥n del sistema operativo.  

## Electron en entornos empresariales
- Apps internas de dashboard, monitoreo y administraci√≥n de sistemas.  
- Integraci√≥n con servicios cloud y APIs REST/GraphQL.  
- Uso de contenedores o CI/CD para empaquetado y distribuci√≥n segura.  

## Recursos avanzados
- [Electron Forge](https://www.electronforge.io/) ‚Äì Herramienta para scaffolding, empaquetado y publicaci√≥n.  
- [Electron Builder](https://www.electron.build/) ‚Äì Empaquetado multiplataforma con opciones avanzadas de firma y actualizaci√≥n.  
- [Spectron](https://www.electronjs.org/spectron) ‚Äì Testing end-to-end de apps Electron.  
- [Awesome Electron](https://github.com/sindresorhus/awesome-electron) ‚Äì Lista curada de proyectos, herramientas y tutoriales avanzados.  

# Electron: APIs Nativas, Optimizaci√≥n y Seguridad

Esta nota cubre √°reas avanzadas de Electron, enfoc√°ndose en interacci√≥n con el sistema, optimizaci√≥n de recursos, debugging profundo y pr√°cticas de seguridad enterprise.

## APIs nativas del sistema operativo
- **File System Access** ‚Äì Lectura/escritura de archivos y carpetas usando Node.js (`fs`) o el m√≥dulo `dialog` de Electron.  
- **Notifications** ‚Äì Notificaciones nativas del SO con acciones personalizadas.  
- **Clipboard** ‚Äì Interacci√≥n avanzada con el portapapeles (texto, im√°genes, formatos m√∫ltiples).  
- **Power Monitor** ‚Äì Detectar suspensi√≥n, reactivaci√≥n, apagado y estado de bater√≠a.  
- **Screen / Display** ‚Äì Obtener informaci√≥n de monitores, resoluci√≥n, DPI y capturas de pantalla.  
- **Global Shortcuts** ‚Äì Registrar combinaciones de teclado globales a nivel del sistema operativo.  
- **Tray / Dock** ‚Äì Personalizaci√≥n de icono en bandeja del sistema o dock, men√∫s contextuales y eventos.  
- **Protocol** ‚Äì Registro de protocolos personalizados (`myapp://`) para deep linking en la app.  
- **Native Modules** ‚Äì Integraci√≥n con librer√≠as nativas de C/C++ usando `node-gyp` para funcionalidades espec√≠ficas de hardware o sistema.  

## Optimizaci√≥n de memoria y CPU
- Mantener **renderer processes ligeros** y dividir ventanas o funcionalidades cr√≠ticas en procesos separados.  
- Uso de **lazy loading** de m√≥dulos y assets solo cuando se necesitan.  
- **Offload de tareas pesadas** a worker threads o procesos Node.js independientes.  
- Control de **event listeners** y eliminaci√≥n de listeners innecesarios para reducir consumo de memoria.  
- Monitorizaci√≥n con `process.getCPUUsage()` y `process.getSystemMemoryInfo()` para identificar hotspots.  
- Evitar **re-render loops** en UI usando t√©cnicas de virtual DOM o debouncing.  

## Debugging profundo
- Uso de **DevTools avanzadas** en renderer y main process para profiling y heap snapshots.  
- Integraci√≥n con **Visual Studio Code** para debugging de main y renderer con breakpoints y watch expressions.  
- **Logging centralizado** con Winston o Bunyan para capturar eventos de app, errores y m√©tricas.  
- Monitorizaci√≥n de **crash reports** con Sentry o Electron CrashReporter.  
- Uso de **`app.getAppMetrics()`** para inspeccionar CPU, memoria y handles de procesos en tiempo real.  

## Seguridad avanzada
- Activar `contextIsolation` y deshabilitar `nodeIntegration` en todos los renderer processes.  
- Habilitar **sandboxing** de renderer processes para limitar acceso a recursos del sistema.  
- Validar y sanear toda entrada del usuario, incluyendo URLs y archivos locales.  
- Evitar cargar contenido remoto sin filtros o Content Security Policy (CSP).  
- Uso de **Electron Security Warnings** para detectar pr√°cticas inseguras durante desarrollo.  
- Firmado de c√≥digo y notarizaci√≥n en macOS, y validaci√≥n de certificados en Windows.  
- Revisi√≥n peri√≥dica de vulnerabilidades con `npm audit` y actualizaciones de dependencias.  

## Recursos avanzados
- [Electron Security Checklist](https://www.electronjs.org/docs/latest/tutorial/security) ‚Äì Gu√≠a oficial de pr√°cticas de seguridad.  
- [Electron CrashReporter](https://www.electronjs.org/docs/latest/api/crash-reporter) ‚Äì Captura de fallos y errores cr√≠ticos.  
- [Node Native Modules](https://nodejs.org/api/addons.html) ‚Äì Documentaci√≥n para integrar librer√≠as nativas C/C++ en Electron.  
- [Electron Performance Tips](https://www.electronjs.org/docs/latest/tutorial/performance) ‚Äì Buenas pr√°cticas para optimizar apps Electron.  

# Electron Recursos 2025‚Äë2026
## Versiones y estado actual (2025‚Äë2026)
- **√öltima versi√≥n estable conocida:** Electron **39.2.7** lanzada el **12 de diciembre de 2025**.  
- **Versi√≥n preview/beta activa:** **40.0.0‚Äëbeta.5** con fecha **5 de enero de 2026**. [Wikipedia](https://en.wikipedia.org/wiki/Electron_%28software_framework%29)

## Cambios importantes recientes
### Actualizaciones de Node.js en el ecosistema
- A partir de **enero/febrero 2025**, todos los paquetes del ecosistema (como `@electron/‚Ä¶` y `@electron‚Äëforge/‚Ä¶`) migran para requerir **Node.js 22** como m√≠nimo.  
  - Esto facilita usar utilidades nativas m√°s modernas (por ejemplo `fs.glob`, `node:test`, `node:sqlite`).  
  - Promueve mayor compatibilidad y seguridad de dependencias. [Electron Blog](https://www.electronjs.org/blog)

## Notas de lanzamiento y cronograma
- Electron sigue una hoja de ruta p√∫blica con lanzamientos regulares de actualizaciones menores y parches de seguridad.  
- Releases estables 2025 incluyen: **34.x, 35.x, 36.x, 37.x, 38.x, 39.x**.  
- Se menciona una pausa del proyecto en diciembre de cada a√±o para mejorar procesos y volver con fuerza en enero siguiente. [Electron Blog](https://www.electronjs.org/blog)

## Seguridad y vulnerabilidades recientes
- **CVE‚Äë2024‚Äë46993:** Problema de *heap overflow* en funciones `nativeImage.createFromPath()` y `createFromBuffer()` en versiones anteriores a 28.3.2/29.3.3/30.0.3. Corregido en esas versiones posteriores. [INCIBE](https://www.incibe.es/index.php/incibe-cert/alerta-temprana/vulnerabilidades/cve-2024-46993)  
- **CVE‚Äë2025‚Äë55305:** Bypass de integridad ASAR al modificar recursos si los fusibles `embeddedAsarIntegrityValidation` y `onlyLoadAppFromAsar` est√°n habilitados. Corregido en versiones 35.7.5, 36.8.1, 37.3.1 y 38.0.0‚Äëbeta.6. [INCIBE](https://www.incibe.es/incibe-cert/alerta-temprana/vulnerabilidades/cve-2025-55305)

## Proyectos comunitarios y herramientas 2025
- **UpgradeLink:** herramienta open source para actualizaci√≥n autom√°tica de apps Electron en Windows, Mac y Linux, dise√±ada para integrarse f√°cilmente con APIs est√°ndar de Electron. [Reddit](https://www.reddit.com/r/electronjs/comments/1pqexdq/electron_open_source_application_upgrade_system/)

## Cambios en APIs y componentes
- **Deprecaci√≥n de `BrowserView`:** reemplazada por `WebContentsView` para alinearse mejor con la arquitectura de *Views* de Chromium, permitiendo integraciones UI m√°s s√≥lidas y menos bugs a futuro. [Electron Delta](https://electrondelta.com/community-10.html)

## Google Summer of Code (GSoC)
- **Electron Google Summer of Code 2025:** Ideas list y gu√≠a de contribuci√≥n para estudiantes, promoviendo mejoras y nuevos proyectos dentro del ecosistema. [Electron Blog](https://www.electronjs.org/blog)

## Tendencias / Comunidad
- Inter√©s en *portar o ejecutar apps Electron en Android* (experimental por ahora, sin planificaci√≥n oficial). [Reddit](https://www.reddit.com/r/electronjs/comments/1pna7ui/electron_on_android_looking_for_community_interest/)  
- Debates en comunidades (como Reddit) sobre rendimiento en macOS **Tahoe (v26)** y c√≥mo versiones antiguas de Electron pueden generar lag/uso alto de GPU; muchos apps populares han actualizado para mitigar estos problemas. [Reddit](https://www.reddit.com/r/MacOS/comments/1nvoirl)

## Fuentes de informaci√≥n oficiales
- [Electron blog](https://www.electronjs.org/blog) ‚Äì Noticias, releases, roadmap y eventos de la comunidad.  
- [Electron en Wikipedia](https://en.wikipedia.org/wiki/Electron_%28software_framework%29) ‚Äì Resumen actualizado con versiones y fechas oficiales.


# Gu√≠a Completa de Electron

Electron permite crear aplicaciones de escritorio multiplataforma usando tecnolog√≠as web y Node.js. Esta gu√≠a cubre arquitectura, casos de uso, ejemplos de c√≥digo y configuraci√≥n inicial.

## Arquitectura de Electron
- **Main Process**  
	- Es el proceso principal que controla el ciclo de vida de la app, ventanas y comunicaci√≥n con el SO.  
	- Gestiona men√∫s, tray, notificaciones y creaci√≥n de ventanas (`BrowserWindow`).  

- **Renderer Process**  
	- Cada ventana de la app corre en su propio proceso de renderizado usando Chromium.  
	- Se encarga de la UI y puede comunicarse con el Main Process mediante **IPC (Inter-Process Communication)**.  

- **IPC (Inter-Process Communication)**  
	- Canales de comunicaci√≥n seguros entre Main y Renderer.  
	- Ejemplos de m√©todos: `ipcMain.handle()`, `ipcRenderer.invoke()`, `ipcRenderer.send()`, `ipcMain.on()`.  

- **Node.js Integration**  
	- Permite usar m√≥dulos de Node en el Main Process y, si se habilita, en el Renderer.  
	- Se recomienda habilitar `contextIsolation` y `nodeIntegration: false` en Renderer para seguridad.  

## Casos de uso t√≠picos
- **Editores de c√≥digo:** VS Code, Hyper  
- **Mensajer√≠a y colaboraci√≥n:** Slack, Discord  
- **Herramientas de productividad:** Notion, Figma Desktop  
- **Dashboards internos de empresa:** Monitoreo de sistemas, apps internas  
- **Reproductores multimedia y streaming**  

## Ejemplo b√°sico de proyecto Electron
### Estructura de carpetas
{% raw %}
```

my-electron-app/
tab package.json
tab main.js
tab index.html
tab renderer.js

```
{% endraw %}`

### package.json
{% raw %}
```json
{
	"name": "my-electron-app",
	"version": "1.0.0",
	"main": "main.js",
	"scripts": {
		"start": "electron ."
	},
	"devDependencies": {
		"electron": "^39.2.7"
	}
}
```
{% endraw %}`

### main.js

{% raw %}
```javascript
const { app, BrowserWindow, ipcMain } = require('electron');
const path = require('path');

function createWindow() {
	const win = new BrowserWindow({
		width: 800,
		height: 600,
		webPreferences: {
			preload: path.join(__dirname, 'renderer.js'),
			contextIsolation: true,
			nodeIntegration: false
		}
	});

	win.loadFile('index.html');
}

app.whenReady().then(() => {
	createWindow();

	app.on('activate', () => {
		if (BrowserWindow.getAllWindows().length === 0) createWindow();
	});
});

app.on('window-all-closed', () => {
	if (process.platform !== 'darwin') app.quit();
});
```
{% endraw %}

### renderer.js (preload)

{% raw %}
```javascript
const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electronAPI', {
	sendMessage: (msg) => ipcRenderer.send('message', msg),
	onMessage: (callback) => ipcRenderer.on('message', (event, data) => callback(data))
});
```
{% endraw %}

### index.html

{% raw %}
```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Mi App Electron</title>
</head>
<body>
	<h1>Hola Electron!</h1>
	<button id="sendBtn">Enviar Mensaje</button>
	<script>
		const btn = document.getElementById('sendBtn');
		btn.addEventListener('click', () => {
			window.electronAPI.sendMessage('¬°Hola desde Renderer!');
		});
	</script>
</body>
</html>
```
{% endraw %}

## Configuraci√≥n recomendada

* **Seguridad:** `contextIsolation: true`, `nodeIntegration: false`, `sandbox: true`
* **Actualizaciones autom√°ticas:** Usar `electron-updater` o `electron-builder`
* **Debugging:** Abrir DevTools con `win.webContents.openDevTools()`
* **Optimizaci√≥n:** Lazy load de m√≥dulos, dividir procesos renderer para ventanas independientes

## Recursos √∫tiles

* [Electron Docs](https://www.electronjs.org/docs/latest/) ‚Äì Gu√≠as oficiales y API reference
* [Electron API Demos](https://github.com/electron/electron-api-demos) ‚Äì Ejemplos interactivos de todas las APIs
* [Electron Forge](https://www.electronforge.io/) ‚Äì Scaffold, empaquetado y distribuci√≥n de apps
* [Electron Builder](https://www.electron.build/) ‚Äì Creaci√≥n de instaladores multiplataforma y auto-update


# Electron Avanzado: Multi-Window, Tray, Notificaciones, Hardware y Seguridad

Esta gu√≠a muestra c√≥mo implementar funcionalidades avanzadas de Electron sin cubrir lo b√°sico repetido anteriormente.

## Multi-Window
- Permite crear varias ventanas independientes dentro de la misma app.
- Cada ventana tiene su propio renderer process y puede comunicarse con el main process.

### Ejemplo de c√≥digo
{% raw %}
```javascript
const { app, BrowserWindow } = require('electron');

let mainWindow;
let secondaryWindow;

function createWindows() {
	mainWindow = new BrowserWindow({ width: 800, height: 600 });
	mainWindow.loadFile('index.html');

	secondaryWindow = new BrowserWindow({ width: 400, height: 300 });
	secondaryWindow.loadFile('secondary.html');
}

app.whenReady().then(createWindows);
```
{% endraw %}`

## Tray / Bandeja del sistema

* Permite mostrar iconos en la bandeja (Windows/Linux) o dock (macOS), con men√∫s contextuales y eventos.

### Ejemplo de c√≥digo

{% raw %}
```javascript
const { Tray, Menu } = require('electron');
const path = require('path');

let tray = new Tray(path.join(__dirname, 'icon.png'));
const contextMenu = Menu.buildFromTemplate([
	{ label: 'Abrir', click: () => mainWindow.show() },
	{ label: 'Salir', click: () => app.quit() }
]);
tray.setToolTip('Mi App Electron');
tray.setContextMenu(contextMenu);
```
{% endraw %}

## Notificaciones nativas

* Muestra alertas y mensajes al usuario de manera nativa en cada sistema operativo.

### Ejemplo de c√≥digo

{% raw %}
```javascript
const { Notification } = require('electron');

function showNotification(title, body) {
	new Notification({ title, body }).show();
}

showNotification('Hola!', 'Esta es una notificaci√≥n nativa de Electron.');
```
{% endraw %}

## Acceso a hardware y sistema

* Permite interactuar con recursos del sistema: portapapeles, c√°mara, micr√≥fono, sensores, USB, Bluetooth.

### Ejemplo: Portapapeles

{% raw %}
```javascript
const { clipboard } = require('electron');
clipboard.writeText('Texto copiado al portapapeles');
console.log(clipboard.readText());
```
{% endraw %}

### Ejemplo: Captura de pantalla

{% raw %}
```javascript
const { desktopCapturer } = require('electron');

async function getScreenSources() {
	const sources = await desktopCapturer.getSources({ types: ['screen'] });
	console.log(sources);
}
getScreenSources();
```
{% endraw %}

## Seguridad avanzada

* **Context Isolation:** `contextIsolation: true` en todas las ventanas.
* **Node Integration:** `nodeIntegration: false` en renderer processes.
* **Sandbox:** Habilitar `sandbox: true` para aislar procesos.
* **Validaci√≥n de entrada:** sanitizar cualquier dato del usuario o archivos externos.
* **CSP (Content Security Policy):** limitar recursos externos y scripts.
* **Evitar `eval()` o `remote`:** usar IPC para comunicaci√≥n entre procesos de forma segura.

### Ejemplo de configuraci√≥n segura

{% raw %}
```javascript
const win = new BrowserWindow({
	width: 800,
	height: 600,
	webPreferences: {
		preload: path.join(__dirname, 'preload.js'),
		contextIsolation: true,
		nodeIntegration: false,
		sandbox: true
	}
});
```
{% endraw %}

## Recursos √∫tiles

* [Electron Docs ‚Äì Security](https://www.electronjs.org/docs/latest/tutorial/security) ‚Äì Gu√≠a oficial de pr√°cticas de seguridad.
* [Electron API Demos](https://github.com/electron/electron-api-demos) ‚Äì Ejemplos interactivos de tray, notificaciones y hardware.
* [Electron Desktop Capturer](https://www.electronjs.org/docs/latest/api/desktop-capturer) ‚Äì API para captura de pantalla y fuentes multimedia.

