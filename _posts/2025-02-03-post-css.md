---
date: 2025-02-03 21:02
title: post css
tags:
keywords:
source:
status: ğŸŒŸ
Parent: "[[Area-Prog]]"
cssclasses:
public_note: "true"
category: CSS
categories:
  - CSS
  - ui
  - postcss
  - hide-embedded-header1
  - wide
  - Frontend
---
# PostCSS
`$= dv.current().file.tags.join(" ")`

- [CSS](/frontend/css/)
- [Sistemas](/uncategorized/sistemas/)
- [Automatizacion y Build](/uncategorized/automatizacion-y-build/)

## IntroducciÃ³n
- PostCSS es una **herramienta para transformar CSS mediante JavaScript**.
- Se usa para **optimizar, automatizar y mejorar la compatibilidad de CSS**.
- No es un preprocesador tradicional como Sass o Less, pero puede realizar funciones similares mediante plugins.
- Permite **polyfills**, autoprefixing, minificaciÃ³n, linting y mÃ¡s.

## Recursos
- **Libros**
  - [Mastering PostCSS for Web Design](zotero://select/library/items/NCLZ44Y5) ğŸ“•
  - [GitHub - PacktPublishing/Mastering-PostCSS-for-Web-Design](https://github.com/PacktPublishing/Mastering-PostCSS-for-Web-Design/tree/master)
- **DocumentaciÃ³n Oficial**
  - [PostCSS Architecture](https://postcss.org/docs/postcss-architecture) 
  - [PostCSS - a tool for transforming CSS with JavaScript](https://postcss.org/) 
  - [GitHub - postcss/postcss](https://github.com/postcss/postcss)
  - [Â¿QuÃ© es PostCSS? - CSS en espaÃ±ol](https://lenguajecss.com/postcss/introduccion/que-es/) 
- **Compatibilidad**
  - [Browserslist](https://browsersl.ist/) â†’ detectar soporte de CSS en navegadores y usar polyfills o autoprefixer.

## Plugins principales
- **Autoprefixer**
  - AÃ±ade automÃ¡ticamente prefijos de navegador segÃºn [Can I Use](https://github.com/postcss/autoprefixer).
  - Mantiene compatibilidad con browsers antiguos sin tocar cÃ³digo original.
- Otros plugins Ãºtiles:
  - postcss-nested â†’ anidamiento al estilo Sass.
  - postcss-preset-env â†’ usar features modernas de CSS y transformarlas segÃºn soporte.
  - cssnano â†’ minificaciÃ³n y optimizaciÃ³n.
  - postcss-import â†’ combinar mÃºltiples archivos CSS en uno.

## IntegraciÃ³n y configuraciÃ³n
- Instalar:
{% raw %}
```bash
npm install postcss postcss-cli autoprefixer
```
{% endraw %}`

- ConfiguraciÃ³n bÃ¡sica (`postcss.config.js`):
    

{% raw %}
```js
module.exports = {
  plugins: [
    require('autoprefixer'),
    require('postcss-nested'),
    require('cssnano')({ preset: 'default' })
  ]
};
```
{% endraw %}

- Uso en package.json:
    

{% raw %}
```json
"scripts": {
  "build:css": "postcss src/styles.css -o dist/styles.css"
}
```
{% endraw %}

- Opciones Ãºtiles:
    - `--no-map` â†’ desactiva sourcemaps.
    - Permite integrar con Webpack, Gulp, Parcel y otros bundlers.

## Beneficios

- Mantener CSS **moderno y limpio**.
- Mejorar compatibilidad entre navegadores.
- Automatizar tareas repetitivas (autoprefix, minify, imports).
- Posibilidad de extender CSS con **plugins avanzados**.

## Tips Avanzados

- Combinar PostCSS con **Sass o Less** para aprovechar variables y mixins.
- Usar `postcss-preset-env` para features de CSS futuros (grid, custom properties, color functions).
- Configurar Browserslist en package.json para controlar quÃ© browsers soportar:

{% raw %}
```json
"browserslist": [
  "> 1%",
  "last 2 versions",
  "not dead"
]
```
{% endraw %}

- Crear pipeline con varios plugins para **preprocesar, optimizar y minificar** en un solo paso.

# Conceptos Avanzados de PostCSS para Proyectos Reales

### 1. Pipeline de Transformaciones
- PostCSS permite encadenar mÃºltiples plugins para crear un **pipeline de CSS**:
    - Orden importa: primero transformaciÃ³n, luego minificaciÃ³n.
    - Ejemplo:
        1. `postcss-import` â†’ combinar CSS parciales.
        2. `postcss-nested` â†’ anidar selectores.
        3. `postcss-preset-env` â†’ features modernas.
        4. `autoprefixer` â†’ prefijos de navegador.
        5. `cssnano` â†’ optimizaciÃ³n final.
            

### 2. Uso de Variables y Custom Properties

- Se pueden manejar variables CSS modernas y polyfillarlas con PostCSS:
    `:root {   --primary-color: #3498db; } button {   color: var(--primary-color); }`
- Plugins como `postcss-custom-properties` permiten fallback automÃ¡tico para browsers antiguos.
    

### 3. PostCSS y Modern CSS
- Compatible con caracterÃ­sticas de CSS4 y prÃ³ximas versiones.
- Plugins que habilitan:
    - `postcss-color-function` â†’ manipular colores dinÃ¡micamente.
    - `postcss-extend-rule` â†’ heredar reglas entre selectores (similar a Sass extend).
    - `postcss-mixins` â†’ reutilizar bloques de cÃ³digo como mixins.

### 4. Herramientas de Linting y Quality
- `stylelint` se integra con PostCSS para validar sintaxis y mantener estÃ¡ndares.
- Evita errores cross-browser y mantiene consistencia en grandes proyectos.

### 5. OptimizaciÃ³n y ProducciÃ³n
- MinificaciÃ³n avanzada con `cssnano` o `postcss-clean`.
- EliminaciÃ³n de CSS no usado con `purgecss` + PostCSS.
- GeneraciÃ³n de sourcemaps para debugging:
    `postcss src/styles.css -o dist/styles.css --map`
    

### 6. IntegraciÃ³n con Build Tools
- **Webpack:** con `postcss-loader`.
- **Gulp/Grunt:** pipeline de tareas CSS.
- **Vite / Parcel:** soporte nativo a plugins PostCSS.

### 7. Estrategias para Proyectos Grandes
- Mantener **estructura modular** de CSS:
    - `/components`, `/layouts`, `/utilities`.
    - Usar `@import` o `postcss-import` para combinar archivos parciales.
- Definir **un set estÃ¡ndar de plugins** y configurar Browserslist.
- Versionar CSS con PostCSS en proyectos multi-browser.
- Testing visual: verificar compatibilidad cross-browser y responsive.
    

### 8. Tips Avanzados
- Crear **mixins reutilizables** con `postcss-mixins`.
- Usar `postcss-preset-env` para activar variables, calc(), color() y media queries futuras.
- Evitar redundancia de plugins: no mezclar Sass con PostCSS features duplicadas.
- Monitorizar bundle final para evitar CSS inflado o duplicado.

AquÃ­ tienes un **listado de plugins populares para PostCSS**, con **enlaces** a sus repositorios/documentaciÃ³n â€” Ãºtil para explorar y decidir cuÃ¡les usar segÃºn tus necesidades ğŸ‘‡

# âœ… Plugins populares de PostCSS

| Plugin                         | QuÃ© hace / para quÃ© sirve                                                                                                       |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------- |
| **autoprefixer**               | AÃ±ade automÃ¡ticamente los prefijos de navegador (-webkit-, -moz-, etc.) segÃºn compatibilidad. ([GitHub][1])                     |
| **postcss-nested**             | Permite anidar reglas CSS al estilo Sass â€” facilita la organizaciÃ³n de estilos. ([GitHub][2])                                   |
| **postcss-preset-env**         | Permite usar caracterÃ­sticas modernas de CSS hoy; convierte a CSS compatible segÃºn los navegadores objetivo. ([GitHub][3])      |
| **cssnano**                    | Minifica/optimiza CSS para producciÃ³n â€” quita espacios, comentarios, simplifica reglas. ([GitHub][4])                           |
| **postcss-import**             | Permite usar `@import` en CSS para combinar mÃºltiples archivos en uno â€” Ãºtil en estructuras modulares. ([nabaroa.github.io][5]) |
| **postcss-url**                | Reescribe URL de assets, puede copiar, optimizar o inline-ear imÃ¡genes/fonts para producciÃ³n. ([GitHub][4])                     |
| **postcss-sprites**            | Genera sprites de imÃ¡genes automÃ¡ticamente â€” Ãºtil para optimizar carga de assets. ([GitHub][4])                                 |
| **postcss-inline-svg**         | Permite inlinear SVGs en CSS y manipular su estilo desde CSS â€” ideal para Ã­conos/responsivos. ([GitHub][4])                     |
| **postcss-mixins**             | Permite definir bloques reutilizables de CSS (mixins) dentro de PostCSS, similar a Sass. ([csstools.github.io][6])              |
| **postcss-advanced-variables** | AÃ±ade soporte a variables, condicionales y lÃ³gica tipo Sass dentro de CSS. ([csstools.github.io][6])                            |
| **postcss-safe-parser**        | Parser tolerante: permite procesar CSS con errores leves sin romper la compilaciÃ³n. ([GitHub][4])                               |
| **postcss-scss**               | Permite interpretar sintaxis SCSS (no compila Sass, pero compatibiliza sintaxis). ([GitHub][4])                                 |

---

### ğŸ” DÃ³nde ver una lista completa

* El directorio oficial de plugins PostCSS: **â€œPostCSS Plugin Directoryâ€** â€” contiene cientos de plugins actualizados. ([csstools.github.io][6])
* El repositorio principal de PostCSS â€” con muchos ejemplos y plugins destacados. ([GitHub][4])

---

Si quieres â€” puedo generar **una nota completa con 50-100 plugins recomendados** para distintos escenarios (producciÃ³n, optimizaciÃ³n, compatibilidad, grÃ¡ficos, utilidades, etc.), con **descripciÃ³n, categorÃ­a, pros/contras y configuraciÃ³n bÃ¡sica**. AsÃ­ serÃ­a un mapa de plugins muy Ãºtil para tus proyectos. Â¿Te lo armo?

[1]: https://github.com/postcss/autoprefixer?utm_source=chatgpt.com "GitHub - postcss/autoprefixer: Parse CSS and add vendor prefixes to rules by Can I Use"
[2]: https://github.com/postcss/postcss-nested?utm_source=chatgpt.com "GitHub - postcss/postcss-nested: PostCSS plugin to unwrap nested rules like how Sass does it."
[3]: https://github.com/csstools/postcss-preset-env?utm_source=chatgpt.com "GitHub - csstools/postcss-preset-env: Convert modern CSS into something browsers understand"
[4]: https://github.com/postcss/postcss?utm_source=chatgpt.com "GitHub - postcss/postcss: Transforming styles with JS plugins"
[5]: https://nabaroa.github.io/postcss-beyond-treasure-map/?utm_source=chatgpt.com "PostCSS. Beyond the treasure map"
[6]: https://csstools.github.io/postcss-plugins-directory/?utm_source=chatgpt.com "PostCSS Plugin Directory - CSS Tools"

# GuÃ­a prÃ¡ctica de PostCSS â€” Ejemplos y patrones reales

## IntroducciÃ³n rÃ¡pida

PostCSS es un **procesador de CSS basado en plugins**.
Puedes usarlo para:

* AÃ±adir funcionalidades modernas (custom media, nesting, funcionesâ€¦).
* Minificar, optimizar o reescribir CSS.
* Crear utilidades personalizadas.
* Reemplazar Sass/Less en proyectos modernos si lo deseas.

---

## InstalaciÃ³n

{% raw %}
```bash
npm install postcss postcss-cli autoprefixer postcss-nesting postcss-import --save-dev
```
{% endraw %}

---

## ConfiguraciÃ³n bÃ¡sica (`postcss.config.js`)

{% raw %}
```js
module.exports = {
	plugins: {
		'postcss-import': {},
		'postcss-nesting': {},
		autoprefixer: {},
	}
}
```
{% endraw %}

---

## Usar PostCSS desde CLI

{% raw %}
```bash
npx postcss src/styles.css -o dist/styles.css
```
{% endraw %}

---

## Ejemplo completo de flujo

### Estructura

{% raw %}
```
src/
    base.css
    buttons.css
    layout.css
    main.css
postcss.config.js
```
{% endraw %}

### `main.css`

{% raw %}
```css
@import "./base.css";
@import "./layout.css";
@import "./buttons.css";
```
{% endraw %}

### Salida generada

Los plugins transforman:

* Nesting â†’ CSS vÃ¡lido
* Autoprefixer â†’ aÃ±ade prefijos
* Import â†’ concatena archivos
* Otros plugins segÃºn configuraciÃ³n

---

## SecciÃ³n de plugins con ejemplos

---

###  `postcss-import`

Permite usar `@import` con concatenaciÃ³n real.

{% raw %}
```css
/* main.css */
@import "reset.css";
@import "components/button.css";

body {
	font-family: system-ui;
}
```
{% endraw %}

---

###  `postcss-nesting`

Permite anidaciÃ³n al estilo Sass.

{% raw %}
```css
.card {
	padding: 1rem;

	&:hover {
		background: #f3f3f3;
	}

	h2 {
		font-size: 1.2rem;
	}
}
```
{% endraw %}

Salida generada:

{% raw %}
```css
.card {
	padding: 1rem;
}
.card:hover {
	background: #f3f3f3;
}
.card h2 {
	font-size: 1.2rem;
}
```
{% endraw %}

---

###  `autoprefixer`

AÃ±ade prefijos segÃºn Browserslist.

{% raw %}
```css
.container {
	display: flex;
}
```
{% endraw %}

Salida:

{% raw %}
```css
.container {
	display: -webkit-box;
	display: -ms-flexbox;
	display: flex;
}
```
{% endraw %}

---

###  `postcss-preset-env`

Activa caracterÃ­sticas modernas (custom media, nesting, funcionesâ€¦).

{% raw %}
```css
:root {
	--brand: #ff006e;
}

button {
	color: var(--brand);
	@nest &:hover {
		color: white;
		background: var(--brand);
	}
}
```
{% endraw %}

---

###  `cssnano`

Minifica CSS para producciÃ³n.

Config:

{% raw %}
```js
module.exports = {
	plugins: {
		cssnano: {
			preset: 'default',
		}
	}
}
```
{% endraw %}

---

###  `postcss-mixins`

Permite definir mixins tipo Sass.

{% raw %}
```css
/* mixins.css */
@mixin center {
	display: flex;
	justify-content: center;
	align-items: center;
}
```
{% endraw %}

Usarlo:

{% raw %}
```css
.box {
	@include center;
	height: 200px;
}
```
{% endraw %}

---

###   `postcss-extend-rule`

Extiende selectores (similar a `@extend` de Sass):

{% raw %}
```css
%btn {
	padding: 0.75rem 1rem;
	border-radius: 6px;
}

.primary {
	@extend %btn;
	background: blue;
	color: white;
}
```
{% endraw %}

---

###   `postcss-custom-media`

Crea media queries custom.

{% raw %}
```css
@custom-media --mobile (max-width: 600px);

.card {
	font-size: 20px;
}

@media (--mobile) {
	.card {
		font-size: 16px;
	}
}
```
{% endraw %}

---

###   `postcss-color-function`

Permite manipular colores.

{% raw %}
```css
.button {
	background: color-mod(#ff006e alpha(80%));
}
```
{% endraw %}

---

###   `postcss-assets`

Para gestionar rutas de imÃ¡genes/fonts.

{% raw %}
```css
.logo {
	background: resolve("images/logo.png");
}
```
{% endraw %}

---

## Patrones avanzados para proyectos grandes

---

###   1. Arquitectura modular con PostCSS

{% raw %}
```
src/css/
	abstracts/
		vars.css
		mixins.css
	base/
		reset.css
		typography.css
	layout/
		header.css
		grid.css
	components/
		button.css
		card.css
	main.css
```
{% endraw %}

En main.css:

{% raw %}
```css
@import "abstracts/vars.css";
@import "abstracts/mixins.css";
@import "base/reset.css";
@import "layout/header.css";
@import "components/button.css";
```
{% endraw %}

---

###  2. Uso combinado con Tailwind

PostCSS se convierte en pipeline de construcciÃ³n:

`postcss.config.js`

{% raw %}
```js
module.exports = {
	plugins: {
		tailwindcss: {},
		autoprefixer: {},
	}
}
```
{% endraw %}

---

###  3. Crear tu propio plugin PostCSS

Ejemplo de plugin que convierte `spacing-10` en `margin: 10px`:

{% raw %}
```js
module.exports = () => {
	return {
		postcssPlugin: 'spacing-utility',
		Rule(rule) {
			if (rule.selector.startsWith('.spacing-')) {
				const val = rule.selector.replace('.spacing-', '');
				rule.append({ prop: 'margin', value: `${val}px` });
			}
		}
	}
}
module.exports.postcss = true;
```
{% endraw %}

CSS:

{% raw %}
```css
.spacing-20 {}
```
{% endraw %}

Salida:

{% raw %}
```css
.spacing-20 {
	margin: 20px;
}
```
{% endraw %}

---

## Scripts recomendados en `package.json`

{% raw %}
```json
{
  "scripts": {
    "css:dev": "postcss src/main.css -o dist/main.css --watch",
    "css:build": "postcss src/main.css -o dist/main.css --env production"
  }
}
```
{% endraw %}

---

Si quieres, puedo crear:
âœ… un **cheatsheet de PostCSS**
âœ… una **nota solo de plugins**
âœ… una **arquitectura completa estilo â€œCSS escalable con PostCSSâ€**
Â¿Quieres alguna de esas?

