---
date: 2024-09-03 20:59
title: angular
tags:
  - JS
  - angular
keywords:
source:
status: üöÄ
Parent: "[[Area-Prog]]"
cssclasses:
  - hide-embedded-header1
  - wide
categories:
  - Frontend
public_note: "true"
category: Frontend
---
# Angular  
`$= dv.current().file.tags.join(" ")`

- [Software engineering](/uncategorized/software-engineering/)
- [typescript](/software%20engineering/typescript/)
- [Computer Science](/uncategorized/computer-science/)
- [javascript](/desarrollo%20web/javascript/)

## Proyectos
- app sistema de gestion de inventario

## Angular 19
- **Hydration avanzado**
	- Evaluaci√≥n de eventos despu√©s del proceso de *rehydration*.
	- Optimizaci√≥n del traspaso de estado entre servidor‚Äìcliente.
	- Control de eventos diferidos y diagn√≥stico de incompatibilidades.
- **Defer**
	- Carga diferida por condiciones: `on idle`, `on viewport`, `on interaction`.
	- Integraci√≥n con se√±ales y flujos reactivos.
	- Patrones: *progressive loading*, *critical path isolation*.

## Testing
- [Testing](/testing/testing/)
- [karma](/testing/karma/)
- [jasmine](/testing/jasmine/)
- unit test
- [BDD](/testing/bdd/)

## Docs y recursos
- gpt angular rxjs vs signal vs ngrx

# Apuntes Angular üî•

## Tareas generales
- [x] Probar extensiones (incluyendo versiones antiguas).
- [x] Configurar ESLint  
	- `ng add @angular-eslint/schematics`  
	- `ng lint`
- UI
	- [How to Install The Ionic Framework CLI to Build Mobile Apps](https://ionicframework.com/docs/intro/cli)
	- [Angular Material](https://material.angular.io/guide/getting-started)
	- [Floating UI](https://floating-ui.com/docs/getting-started)
	- [ng-bootstrap](https://ng-bootstrap.github.io/#/home)
- [ ] Probar testing con `ng test` o `ng e2e`
- [x] Template-driven forms, bindings
- [x] Reactive Services & DI
- [x] Esbuild ‚Äì *Angular 17* (`@if`, `@for`, funciones inject)
- [ ] Strapi CMS + Ionic
	- [Headless CMS with Angular using Strapi](https://www.youtube.com/watch?v=Wf9_6OycWT4)
	- [Strapi Docs](https://docs.strapi.io/dev-docs/intro)
	- [Learn Angular by Building Real World Apps](https://www.youtube.com/watch?v=EuJsvyFz2kA)
	- [Angular + Ionic Modern Apps (Angular 17)](https://www.youtube.com/watch?v=tbrJJkSYQ04)
	- Angular + Firebase: [angularfire](https://github.com/angular/angularfire)
- [ ] Crear formulario de registro con JWT
- [ ] Probar NgModules (Angular 16 a√∫n muy usado)
- [ ] E-commerce con Angular + carrito (fake API)
	- [Curso Angular 18 e-commerce](https://www.youtube.com/watch?v=fy8K1t4CLS4)
	- [signal-store Angular 18](https://github.com/cjosue15/signal-store)
- Tabla de productos (Angular 17)
	- [Tabla reutilizable Angular 17](https://youtu.be/bbLiMSD-144)
	- [Repo tabla reutilizable](https://github.com/vilcadevWeb/tablaReutilizableAngular)
- [ ] Tutorial oficial Angular  
	- [Create home component](https://angular.dev/tutorials/first-app/02-HomeComponent)
- [ ] App carrito y productos
- [ ] Conectar API con Angular usando mock  
	- Call a mock API from your Angular application

## Recomendaciones Angular y entorno
- Configurar `angular.json` para compilar con **esbuild** como builder principal.
- Cambiar librer√≠as de testing a **Jest** para mayor rendimiento.
- Preferir `provideRouter` con **standalone** en lugar de `RouterModule`.
- Comandos CLI para standalone: componentes, pipes, services sin NgModule.
- Importar expl√≠citamente `NgIf`, `NgFor`, etc. en standalone.
- Usar **yarn** vs **npm**; borrar lock file antes de cambiar gestor.
- Crear componentes:  
	- Dashboard standalone.  
	- Hijo con `ChangeDetectionStrategy.OnPush`.
- Usar constructor para recibir inputs (Angular 17+).
- Debug de cambios de clase usando `setTimeout` para verificar actualizaci√≥n en ciclo de vida.
- Uso de **partials** y manejo de flickering en *Angular Universal*.
- Comparaci√≥n: `Observable` vs `ChangeDetection` + se√±ales.
- Schematics
	- Generating code using schematics ‚Ä¢ Angular
	- Paso a paso- C√≥mo utilizar Angular Schematics - Bravent
- [ ] Usar **skeleton UI** para evitar *flickering* al cargar.
- Evaluar rendimiento con **Lighthouse**.

## C√≥digo / Ejemplos t√©cnicos

### Standalone Component b√°sico
```ts
import { Component } from '@angular/core';
import { NgIf } from '@angular/common';

@Component({
	selector: 'app-demo',
	standalone: true,
	imports: [NgIf],
	template: `
		<h1>Hola Angular Standalone</h1>
		<p *ngIf="isReady">Componente cargado.</p>
	`
})
export class DemoComponent {
	isReady = true;
}
````

### Configuraci√≥n m√≠nima provideRouter

```ts
import { bootstrapApplication } from '@angular/platform-browser';
import { provideRouter, Routes } from '@angular/router';

const routes: Routes = [
	{ path: '', loadComponent: () => import('./home.component') }
];

bootstrapApplication(AppComponent, {
	providers: [provideRouter(routes)]
});
```

### Ejemplo signals Angular 18‚Äì19

```ts
import { signal, effect } from '@angular/core';

const counter = signal(0);

effect(() => {
	console.log('Counter:', counter());
});

counter.update(v => v + 1);
```

# ---- 
# Curso Angular
## Intro a Angular: Conceptos base
- **Bundler, rutas, render, caching**
	- Flujo interno: compilaci√≥n ‚Üí bundling ‚Üí tree-shaking ‚Üí render ‚Üí re-render por cambio de estado.
	- Rutas con `routerLink` y `router-outlet`.
	- Cacheo de assets est√°ticos y reuso modular.
- [CLASE DEFINITIVA ANGULAR ‚Äî Conceptos b√°sicos](https://www.youtube.com/watch?v=xNfqCXTENmY&list=PL42UNLc8e48RINrNGumxAKulG5CWgs_yv&index=2)
- **Shared modules**  
	- M√≥dulos compartidos para directivas, pipes y componentes.  
	- Patr√≥n legacy (deprecado desde v16).
- **Standalone components (v14‚Äìv19)**
	- Eliminan la necesidad de NgModules.
	- Cada componente importa sus dependencias (self-contained module).
	- Mejor integraci√≥n con SSR y lazy loading.
- **Decoradores**  
	- `@Component`, `@Directive`, `@Injectable`, `@Input`, `@Output`.
- **Directivas vs componentes (v14+)**
	- Directivas estructurales (`@if`, `@for`) reemplazan a muchos patrones anteriores.
	- Reduce verbosidad de `<ng-container>` y `<ng-template>`.
- **M√≥dulos + servicios singleton**
	- Servicios con providedIn: 'root' ‚Üí singleton.  
	- Similar a context en Next.js.
- **ESModules + vite.js**
	- Sustituye gradualmente Webpack.
	- Construcciones m√°s r√°pidas, soporte HMR m√°s estable.
- **Signals vs RxJS**
	- Mecanismo de reactividad sin Zone.js.
	- Compartici√≥n de estado por servicios.
	- No requiere `async` pipe para notificaci√≥n.
	- Sintaxis tipo Svelte: plantillas reactivas.
	- Pero RxJS sigue siendo necesario para flujos complejos.
- **Plantillas y directivas modernas**
	- `@if`, `@for`, `@switch`.
	- `ng-container`, `ng-template`, `ngSwitch` a√∫n existen.
- **Testing**
	- Karma/Jasmine legacy ‚Üí preferible Jest.
- **Angular Universal (SSR)**
	- Renderizado en servidor + Hydration.
	- Problemas frecuentes: *UI flickering*, manejo de estado entre server/cliente.
- **Hydration**
	- Mantiene eventos y estado del DOM renderizado en servidor.
	- Crucial para performance y SEO.
- **Vite como bundler**
	- Experimental turnado en versiones recientes.
- **Config general**
	- ESLint + EditorConfig.
	- Uso est√°ndar de `router-outlet`.
- **Lazy loading**
	- Carga de carpetas privadas no a√±adidas al chunk principal.
- **Zone.js**
	- Analiza triggers de estado:
		- async, requests, eventos.
		- `setTimeout`, `setInterval`.
	- `NgZone` permite ejecutar fuera del √°rbol de detecci√≥n de cambios.
	- Angular eval√∫a expresiones y ciclo de vida a trav√©s de checks internos.
- **Caching + Pipes**
	- Pure pipes ‚Üí memoization interna.
	- Ideales para operaciones livianas y repetidas.

---

## Angular 6: Conceptos fundamentales
- **Componentes, directivas, decoradores, clases**
- Ciclo de vida (`implements OnInit`, `OnDestroy`, `AfterViewInit`, `ngOnInit`, `ngDoCheck`)
	- Acceso al DOM solo mediante hooks adecuados.
- **Directivas est√°ndar**
	- `ngIf`, `ngFor`, `ngClass`.
	- Crear directiva: `ng g directive magnifier`.
- **Decoradores**
	- `HostBinding`, `HostListener`, `Input`, `Output`.
- **Angular Pipes**
	- Pipes b√°sicos y custom.
	- `async` pipe para Observables/Promises.
- Crear pipe:
	- `ng generate pipe name`.
	- Implementar m√©todo `transform()`.

---

## Estructura de proyectos y rutas
- [Estructura ideal Angular 17](https://youtu.be/kLUdumt8lNY)
- **Sistema de rutas**
	- Definir rutas en m√∫ltiples archivos: `auth.routes.ts`, `dashboard.routes.ts`.
	- Uso de `loadChildren`, imports din√°micos con arrow.
	- Layouts por funcionalidad.
- Ejemplo:
	- [app.routes.ts ‚Äî Arquitectura Angular](https://github.com/GarajedeIdeas/AngularArquitectura/blob/main/src/app/app.routes.ts)
- **Core folder**
	- Guards, interceptors, models, services.
- **Shared folder**
	- Pipes, directivas, componentes reutilizables.

---

## Observables y RxJS
- [Observables en Angular y RxJS](https://youtu.be/BOouK6J8pqg)
- [Repo ejemplo Hot/Cold Observables](https://github.com/pedrovelasquez9/observables-rxjs-angular)
- **Tipos de Observables**
	- Hot ‚Üí infinito, multicast, emite sin observers.
	- Cold ‚Üí finito, unicast.
	- Finitos vs infinitos.
- **Subjects**
	- `Subject`, `BehaviorSubject`, `ReplaySubject`.
	- HTTP requests ‚Üí cold -> unicast.
- **Patrones**
	- Servicio con DI ‚Üí creaci√≥n de Observable + getters/setters.
	- Uso de `$` como convenci√≥n.
	- Operadores TS:
		- `!` (definitivamente asignado).
		- `?` (prop opcional).
	- Uso de pipe + async.
	- `BehaviorSubject.asObservable()`.
	- `next()` para emitir valores.
- **Hot observable pr√°ctico**
	- Enviar valores entre componentes con servicio + eventos + ngModel.
	- `private` para encapsular service properties.
- [C√≥mo usar Observables en Angular paso a paso](https://youtu.be/96HouMe0o5M)
- Temas:
	- M√©todos de servicio, suscripciones, `map`, `reduce`, `pipe()`.
	- Observable con `setInterval`.
	- Navbar subscriptor con m√©todo getter.
	- Pasar `currentDate` por observable.
	- Uso doble: servicio con y sin interval.
	- Angular 17 con NgModule legacy.
- Pendientes
	- [ ] Lista editable de productos seleccionados.
	- index vs id para productos.

---

## Detecci√≥n de cambios (Angular 17‚Äì19)
- [Change Detection Default & OnPush](https://youtu.be/Nsr3-GasUac)
- [Repo change detection](https://github.com/pedrovelasquez9/angular-change-detection)
- **Zone.js + ChangeDetectorRef**
	- Necesarios para apps complejas.
- Ejercicios sugeridos:
	- [ ] Drag and drop simple.
	- [ ] Cambio de color en √°rbol de componentes.
- **Outer Zone vs Inner Zone**
	- `runOutsideAngular` ‚Üí evitar CD.
- **OnPush**
	- No recorre todo el √°rbol.
	- Requiere data inmutable.
	- Cambios por referencia, no por mutaci√≥n.
	- Funciona con Observables + async pipe.
	- Dif√≠cil migrar en apps legacy.
- Ejemplo:
	- `public data: levelData[] = [{}]`
	- Child nodes pasados por referencia o copias.
- Configurar:
	- `changeDetection: ChangeDetectionStrategy.OnPush`
- `ElementRef` + `NgZone`
	- Modificar clases con `nativeElement.classList`.
	- Usar `runOutsideAngular` con setTimeout.
- **Ciclos de vida**
	- Triggers ‚Üí eventos, endpoints, cambios de entrada.
	- `ngOnInit`, `ngOnChanges`, `ngDoCheck`.
	- Mutabilidad vs inmutabilidad.
	- Copy por spread para evitar deep-check.
- **EventEmitter**
	- Comunicaci√≥n parent-child.
	- `[()]` funciona con OnPush.
- **Signals v16‚Äìv19**
	- Estado compartido por servicios.
	- Se mantiene Zone.js de momento para detecci√≥n global.


## Autenticaci√≥n y Refresh Token (Angular 18)

### Conceptos generales
- **Autenticaci√≥n con JWT**  
	- *Access Token* ‚Üí corta duraci√≥n, se env√≠a en cada petici√≥n.  
	- *Refresh Token* ‚Üí larga duraci√≥n, solo se usa cuando expira el access token.
- **Control de acceso y estad√≠sticas**  
	- Estado de usuario, roles, permisos, expiraci√≥n y reintentos.
- Referencias:
	- [Refresh Tokens en Angular 18](https://www.youtube.com/watch?v=cHcpenjrpXw)
	- [Repo ‚Äî CodePills RefreshToken](https://github.com/GarajedeIdeas/CodePills-RefreshToken)

### Backend + Frontend
- El backend debe exponer:
	- `/login`
	- `/refresh` ‚Üí recibe refreshToken y devuelve nuevo token.
	- `/logout` ‚Üí invalida refreshToken opcionalmente.
- El frontend gestiona storage + interceptor.

### Servicio de usuarios
- Funcionalidades:
	- `login()`, `register()`, `refreshToken()`, `getUser()`.
	- Uso de `firstValueFrom()` para resolver Observables en funciones async.
	- Manejo de `localStorage` para tokens.
- Ejemplo:
	- Guardar tokens ‚Üí `localStorage.setItem('token', x)`  
	- Obtener tokens ‚Üí `localStorage.getItem('token')`

### Interceptor de autenticaci√≥n (`auth.interceptor.ts`)
- Arquitectura moderna con **funci√≥n interceptor** (no clase):
	```ts
	export const authInterceptor: HttpInterceptorFn = (req, next) => { ... }
	```
- L√≥gica:
	- Inyectar servicio de usuario ‚Üí obtener token `getAuthToken()`.
	- Hacer `clone()` a la request para agregar headers.
	- `next(authReq)` ‚Üí enviar al siguiente interceptor/handler.
	- Manejo de errores con `pipe()` + `catchError()`.
- Ejemplo de flujo:
	- Petici√≥n ‚Üí error 401 ‚Üí `switchMap()` ‚Üí pedir refresh ‚Üí guardar nuevo token ‚Üí repetir petici√≥n original.
- Ejemplo de captura de error final:
	- Quitar tokens:
		- `localStorage.removeItem('token');`
		- `localStorage.removeItem('refreshToken');`
	- Lanzar error final:
		```ts
		return throwError(() => finalError);
		```

### Configuraci√≥n del interceptor
- Declarado en **app.config** con providers:
	```ts
	provideHttpClient(withInterceptors([authInterceptor]))
	```
- Se integra con HttpClient de Angular 18.

---

## Angular vs React ‚Äî Comparativa pr√°ctica (CRM)
- Video:  
	- [Angular vs React ‚Äî CRM](https://youtu.be/0uS3VL_auNU)
- Repos:
	- Angular: https://github.com/GarajedeIdeas/CodePills-Angular-CRMEmpleados
	- React: https://github.com/GarajedeIdeas/CodePills-React-CRMEmpleados

### Diferencias clave
- Angular: framework completo, DI nativa, rutas oficiales, RxJS integrado.
- React: librer√≠a ‚Üí debes elegir router, estado, store.
- Angular CLI vs Vite + herramientas externas en React.
- Angular funciona mejor para aplicaciones CRM con estructura compleja.

---

## Testing en Angular 17‚Äì18 (Jasmine + Karma)

### Conceptos base
- Video: [Testing en Angular 17](https://youtu.be/NmLt2AvuREQ)
- Repo ejemplo: https://github.com/GarajedeIdeas/CodePills-AngularTesting
- Elementos de Testing:
	- `describe`, `it`, `beforeEach`
	- `TestBed`
	- `ComponentFixture`
	- `expect`, `toBeTruthy`, `toBe`, `toContain`, `toMatch`
	- Callbacks, funciones, clases, m√©todos est√°ticos.

### Testing de Services
- Importar `HttpClientTestingModule`.
- Inyectar servicio con `TestBed.inject()`.
- Probar observables usando:
	```ts
	it('...', (done: DoneFn) => { ... })
	```
- Usar `done()` para finalizar test async.
- Matchers:
	- `toBe` ‚Üí valores exactos.
	- `toHaveBeenCalled` ‚Üí esp√≠as y mocks.

### Testing de Promesas
- Comprobar resoluciones con `async/await` o `done()`.

### Testing de Componentes
- Flujo:
	- Declarar variables:
		```ts
		let component: ProfileCardComponent;
		let fixture: ComponentFixture<ProfileCardComponent>;
		```
	- Configurar:
		```ts
		TestBed.configureTestingModule({ ... })
		```
	- Crear y detectar cambios:
		```ts
		fixture = TestBed.createComponent(ProfileCardComponent);
		fixture.detectChanges();
		```
- Testing de DOM:
	- `fixture.nativeElement`
	- `By.css()` para seleccionar.
	- Matchers:
		- `toContain`
		- `toMatch`

---

## Standalone vs Modules ‚Äî Migraciones
- Video: [Componentes Standalone](https://youtu.be/FUXM-Qxvfqg)
- Cambios:
	- Ya no existe `declarations` ‚Üí ahora `imports`.
	- Facilidad para lazy loading.
	- Migraci√≥n progresiva en Angular 17‚Äì19.

---

## Directivas: atributo vs estructurales
- Video:  
	- [Directivas estructurales/atributo](https://youtu.be/On_Bn6Rqyks?list=PL42UNLc8e48RINrNGumxAKulG5CWgs_yv)
- Repos:
	- https://github.com/Gentleman-Programming/Angular-Desde-0-Avanzado

### Directivas de Atributo
- `ngStyle`, `ngClass`
- Manipulan estilos/atributos del elemento.

### Directivas Estructurales
- `*ngIf`, `*ngFor`, `*ngSwitch`
- Controlan la creaci√≥n/destrucci√≥n de nodos del DOM.
- `ng-template` (con id)
- `ng-container` (sin renderizar wrapper)
- Renderizado masivo de elementos.
- `trackBy()` para listas grandes y evitar re-render.

---

## Autenticaci√≥n con Cookies (MEAN Stack)
- Video: [Cookie Authentication Angular + Node + Mongo](https://youtu.be/UzF7eb2iZe0)
- Repos:
	- Cliente: https://github.com/thecodedeck/cookie-client  
	- Servidor: https://github.com/thecodedeck/cookie-server
- Conceptos:
	- Cookies HttpOnly
	- CSRF tokens
	- SameSite strict/lax
	- Acceso desde Angular v√≠a HttpClient

---

## Prettier + ESLint + Husky + Lint-Staged (Angular 17+)
- Video: https://youtu.be/gRMuLqOYIB0
- Configuraci√≥n recomendada:
	- Husky ‚Üí hooks de git.
	- Lint-staged ‚Üí valida solo archivos modificados.
	- Formateo autom√°tico antes de cada commit.

---

## Apuntes del libro de Angular
- Enlace: [libro angular zotero](zotero://select/library/items/QHW674L3)
- `keyof` para tipado avanzado.
- Variables `$even` y `$odd` en `ngFor`.
- Repaso de tipos de directivas:
	- Atributo
	- Estructural (`*ngIf`/`*ngFor`)

---

## Temas de entrevista Angular 18
- Video: [Paso entrevista Angular 18](https://youtu.be/mqyybAnmALA)
- Cuestiones:
	- HttpClient vs fetch.
	- `inject()` vs `get()`.
	- Ciclo de vida y cambio de detecci√≥n.
	- Signals, zoneless angular.
	- Standalone + rutas funcionales.


# angular 17 con nodejs 

## Recursos base
- [Angular Crash Course 2024 (for Beginners) - YouTube](https://youtu.be/f7BJFTEbc10?t=4543)
- [GitHub - thecodedeck/angular-cc-1-client](https://github.com/thecodedeck/angular-cc-1-client)
- [GitHub - thecodedeck/angular-cc-1-server](https://github.com/thecodedeck/angular-cc-1-server)
## CRUD Node.js + Angular  
### Objetivo general
Crear un **CRUD completo** con **Node.js + Express** y base de datos en **JSON**, conectando con Angular 17/18. Incluir paginaci√≥n, pruebas en Postman y consumir datos desde el frontend.

### Backend Node.js  
- **Endpoints y servidor**
	- express + cors + fs ‚Üí `require()`
	- uso de middlewares: `use()`, `express.json()`
	- m√©todos REST: `get()`, `post()`, `put()`, `delete()`, `listen()`
	- `req`, `res`, estados HTTP, `res.status().send()`

- **M√©todos POST con fs**
	- leer JSON
	- validar si hay cuerpo, si falla ‚Üí retornar error
	- crear nuevo item ‚Üí `jsonData.push()`

- **GET**
	- devolver lista completa o filtrada
	- escribir cambios en archivo JSON cuando sea necesario
	- convertir a string antes de escribir

- **PUT**
	- actualizar por ID
	- usar `findIndex()`  
	- `req.params.id` ‚Üí `parseInt()`
	- validar que el √≠ndice exista  
	- destructuring del `req.body`

- **POST con IDs incrementales**
	- calcular `maxId` con:
		- `reduce()`
		- `Math.max()`
	- nuevo √≠tem:
		``id: maxId + 1``

- **DELETE**
	- borrar por √≠ndice
	- validar ID inexistente

### Test de endpoints con Postman  
- enviar objetos en `body`
- PUT con URL tipo:  
	`clothes/1`
- validar
	- c√≥digos HTTP  
	- errores de lectura  
	- escritura en el JSON

---

## Frontend Angular ‚Äî Integraci√≥n con la API
### Interfaces y servicios
- crear interfaces: `Product`, `Pagination`, `Options`
- servicios:
	- api service ‚Üí peticiones generales
	- product service ‚Üí l√≥gica de negocio
- uso de:
	- constructor
	- dependency injection
	- providers  
	- `providerHttpClient` en `app.config.ts`

### Ciclo de componentes
- en Home:
	- `constructor(private productService: ProductService)`
	- `ngOnInit()`
	- suscripci√≥n a productos

### ApiService
- `HttpClient` en constructor
- m√©todos GET, POST, PUT, DELETE
- usar tipos `T`
- par√°metro `options` usando interface
- permitir `?` opcionales  
- `Observable<T>`

### ProductService
- funciones flecha:
	- `getProducts`
	- `addProduct`
	- `editProduct`
	- `deleteProduct`
- conexi√≥n con ApiService

---

## Componentes
### Estructura base
- header, footer, wrapper
- carpeta `layout/`
- imports seg√∫n necesidad

### Home Component
- plantilla con `*ngFor`
- array tipado de productos
- recibir productos del servicio
- manejar paginaci√≥n y output de productos

### Product Component  
- `@Input()`  
	- usar `!` si no se inicializa en el constructor
	- `[products]` en Home
- doble interpolaci√≥n `{{ "{{" {{ "}}" }} var {{ "}}" }}`
- imagen:
	```html
	<img [src]="product.image" />
	```

- **PrimeNG rating**
	- `[(ngModel)]="product.rating"`
	- importar `FormsModule`

- **@Output()**  
	- `EventEmitter<Product>`
	- `emit()` en `ngOnInit`

- comunicaci√≥n:
	```html
	<app-product (productOutput)="onProductOutput($event)"> </app-product>
	```

---

## Paginaci√≥n
- funci√≥n `fetchProducts(page, rows)`
- llamada dentro de `ngOnInit`
- usar `subscribe()`:
	- actualizar `totalRecords`
- `onPageChange(event)`:
	- `event.page`
	- `event.rows`

### Configuraci√≥n
- importar `provideAnimations()` en `app.config.ts`  
- pasar props al componente paginator

---

## CRUD de productos desde Home
- funciones:
	- `addProduct`
	- `editProduct`
	- `deleteProduct`
- mismas firmas en servicio y componente, pero en contextos distintos
- buenas pr√°cticas:
	- usar `return` para cortar flujo en lugar de `else`
	- manejar `next:` y `error:` en `subscribe()`
	- refrescar p√°gina:
		```ts
		this.fetchProducts(0, this.rows);
		```

---

## Pop-up (Dialog) para editar / a√±adir productos  
### Conceptos clave
- Uso de **DialogModule** de PrimeNG  
- Componentes con:
	- `@Input()` (booleans, header, product)
	- `@Output()` (EventEmitter)
- Two-way binding personalizado:
	```html
	[(visible)]="display"
	```
- Inputs din√°micos (ej: header personalizado)
- L√≥gica en **HomeComponent**:
	- propiedades: `displayEditPopup`, `displayAddPopup`
	- m√©todos: `toggleEditPopup()`, `toggleAddPopup()`, `toggleDeletePopup()`
	- a√±adir `id?` en interfaz `Product`
	- propiedad fuerte con `!`:
		```ts
		@Input() header!: string;
		```

### Flujo de edici√≥n
- guardar producto seleccionado:
	```ts
	selectedProduct!: Product;
	```
- onConfirmEdit:
	```ts
	onConfirmEdit(product: Product) {
	    if (!this.selectedProduct.id) return;
	    this.editProduct(product, this.selectedProduct.id);
	}
	```
- antes se usaba `?? 0` ‚Üí ahora mejor if + return

### Flujo de alta
- `onConfirmAdd`
- `onProductOutput` para recibir eventos desde el popup
- `onPageChange` mantiene paginaci√≥n sincronizada

---

## Botones en ProductComponent (editar / eliminar)

### Funciones en el componente
- `editProduct()`
- `confirmDelete()`
- `deleteProduct()`
- `ngOnInit() {}`

### Iconos
- instalar package de √≠conos
- a√±adir en `angular.json` ‚Üí  
	`architect ‚Üí build ‚Üí options ‚Üí styles`

### Confirmaci√≥n de borrado (PrimeNG)
- usar referencia al bot√≥n:
	```html
	<button #deleteButton ...>
	```
- en TS:
	```ts
	@ViewChild('deleteButton') deleteButton!: ElementRef;
	```
- confirm service:
	```ts
	this.confirmationService.confirm({
	    target: this.deleteButton.nativeElement,
	    message: '¬øSeguro que deseas borrar?',
	    accept: () => this.deleteProduct()
	});
	```

- emitir evento al padre:
	```ts
	this.delete.emit(this.product);
	```

### CORS en servidor Node
- evitar errores:
	```js
	const corsOptions = {
	  origin: "*",
	  methods: "GET, POST, PUT, DELETE",
	};
	```

### Borrado desde Home
- si hay ID:
	```ts
	this.deleteProduct(product.id);
	```

---

## Paginador (PrimeNG)
- Referencia al paginator:
	```ts
	@ViewChild('paginator') paginator: Paginator | undefined;
	```
- Resetear al modificar productos:
	```ts
	this.paginator?.changePage(0);
	```

- Uso del m√©todo en `next:` de los CRUD  
- Decorador personalizado opcional para controlar paginator

---

## AppModule vs Standalone + Lazy Loading

### Generar m√≥dulo con routing
````

ng generate module modules/about-us --routing

````

- se crea:
	- `about-us.module.ts`
	- `about-us-routing.module.ts`
	- componente `about-us.component.ts`

### Rutas internas del m√≥dulo
```ts
const routes: Routes = [
	{ path: '', component: AboutUsComponent }
];
````

### Diferencias clave

* **App routing** ‚Üí router principal
* **Child routing** ‚Üí m√≥dulos cargados din√°micamente
* `forRoot()` vs `forChild()`

### Carga diferida (Lazy)

En App Routes:

```ts
{
  path: 'about-us',
  loadChildren: () =>
    import('./modules/about-us/about-us.module')
      .then(m => m.AboutUsModule)
}
```

* s√≠ ‚Üí es una promesa

### Export vs Imports

* se exporta para hacer m√≥dulos reutilizables
* evita repetir imports en cada componente

### Flags CLI

* `--routing`
* `--standalone=false`

### Men√∫ en Header

* rutas activas:

  ```html
  <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact:true }">
  ```
* usar `routerLink` en vez de `href`

---

## Estructura modular y servicios

* separar por responsabilidad:

  * m√≥dulos de caracter√≠sticas
  * servicios globales
  * m√≥dulos compartidos (`SharedModule`)
* organizar assets:

  * Angular 17 ‚Üí `assets/manifest.json`
  * Angular 18 ‚Üí `public/`

---

## Problemas visuales: overflow del nombre + s√≠mbolo de moneda

### Opciones antiguas

* concatenate s√≠mbolo en template
* funci√≥n `truncateName()`:

  ```ts
  if (name.length > 16) return name.slice(0, 16) + '...';
  return name;
  ```

### Soluci√≥n profesional: **Pipes**

#### Crear pipes

```
ng generate pipe pipes/truncate-name
ng generate pipe pipes/price
```

#### Usos en template

{% raw %}
```html
{{ product.name | truncateName : 16 : "..." }}
{{ product.price | price }}
```
{% endraw %}

#### truncate-name.pipe.ts

* `transform()`
* tipo `unknown`
* validar longitud
* devolver string truncado

#### price.pipe.ts

```ts
transform(value: unknown): unknown {
	return `${value}$`;
}
```

* importar pipe en el componente necesario

---

## Validadores y Formularios (Reactive Forms)

### FormBuilder

```ts
productForm = this.formBuilder.group({
  name: ['', [Validators.required, this.specialCharacterValidator()]]
});
```

### Validador personalizado

```ts
specialCharacterValidator(): ValidatorFn {
  return (control) => {
    const regex = /[^a-zA-Z0-9 ]/g;
    const hasSpecial = regex.test(control.value ?? '');
    return hasSpecial ? { hasSpecialCharacter: true } : null;
  };
}
```

### OnChanges + patchValue (nuevo enfoque)

* antes ‚Üí `ngOnInit`
* ahora ‚Üí `ngOnChanges` porque recibe nuevos inputs

```ts
this.productForm.patchValue(this.product);
```

### Template

```html
<form [formGroup]="productForm">
	<input formControlName="name">
</form>
```

### `ngModel` vs `formControl`

* rating (PrimeNG) usa ngModel ‚Üí mezclar con:

  ```html
  [ngModelOptions]="{standalone: true}"
  ```

### Evitar undefined / null

* destructuring seguro:

  ```ts
  const { name, image, price, rating } = this.productForm.value;
  ```
* en `emit()`:

  ```ts
  name: name || ''
  ```



# ---- 
# Angular 16‚Äì17 
Fundamentos, arquitectura h√≠brida (Modules + Standalone), comunicaci√≥n entre componentes, services, binding y reactividad.

---

## 1. Recursos Base y Repositorios

- **Info y c√≥digo**
	- [ANGULAR desde cero | Curso tutorial completo gratis por Sergie Code - YouTube](https://www.youtube.com/watch?v=soInCF7nbDw)
	- [Instalaciones necesarias para el curso de ANGULAR ¬∑ GitHub](https://gist.github.com/sergiecode/1e9e6989c7b6326f8b53155c919805d4)
	- [GitHub - sergiecode/base-lista-tareas-angular](https://github.com/sergiecode/base-lista-tareas-angular)
	- [GitHub - sergiecode/lista-tareas-curso-angular](https://github.com/sergiecode/lista-tareas-curso-angular)
	- [GitHub - sergiecode/landing-page-angular-17](https://github.com/sergiecode/landing-page-angular-17)
	- [GitHub - sergiecode/angular-diapositivas](https://github.com/sergiecode/angular-diapositivas)

- **Novedades de Angular**
	- [GitHub - sergiecode/novedades-angular-18](https://github.com/sergiecode/novedades-angular-18)
	- [GitHub - sergiecode/proyecto-angular-novedades-tutorial](https://github.com/sergiecode/proyecto-angular-novedades-tutorial)

---

## 2. Reactividad en Angular: Signals vs Zone.js vs RxJS

- **Signals**
	- API `signal()` ‚Üí reactividad sin Zone.js.
	- Patr√≥n push basado en *refs* reactivas.
	- Ideal para **estado local, inputs, UIs declarativas**.
	- Angular Signals- Complete Guide  
	- Angular Signals & Your Architecture- 5 Options - ANGULARarchitects

- **RxJS**
	- Flujo de datos continuo.
	- √ötil para **peticiones HTTP, streams, websockets, stores avanzados**.

- **Zone.js**
	- Mec√°nica cl√°sica para detectar cambios.
	- En Angular 18+ queda como **opcional**, pero en 16‚Äì17 sigue activo por defecto.

---

## 3. Arquitectura: SPA, MVC y Preparaci√≥n de Proyecto

- SPA ‚Üí estructura MVC interna (componentes = vista, servicios = modelo/l√≥gica).
- Instalar Angular:
	- `npm install -g @angular/cli@16.2.10`
	- Luego actualizar a Angular 17 si hace falta (`ng update`).

- Configurar paquetes est√°ticos y estilos globales en:
	- `angular.json ‚Üí architect ‚Üí build ‚Üí options ‚Üí styles`.

---

## 4. Angular Modules vs Standalone Components

### 4.1 Conceptos clave
- Puedes trabajar con:
	- **NgModules tradicionales** (Angular < 15).
	- **Standalone Components** (Angular 15+).
	- **Arquitectura h√≠brida** (lo mejor en Angular 17‚Äì18).

- Crear proyecto con m√≥dulos:
	- `ng new app --no-standalone`

- Documentaci√≥n:
	- Importing and using components ‚Ä¢ Angular
	- Angular Standalone Components- Complete Guide
	- Convert angular 17 standalone app to module based app. - by brb - Medium
	- Best of Both Angular Worlds- Standalone & Modules Combined
	- NgModule ‚Ä¢ Overview ‚Ä¢ Angular
	- Standalone ‚Ä¢ Angular

### 4.2 Diferencias esenciales
- **Standalone**
	- Importas m√≥dulos y componentes directamente en `imports: []`.
	- Sin necesidad de `app.module.ts`.

- **NgModules**
	- M√°s estructurado en proyectos grandes.
	- Permite:
		- Agrupar componentes.
		- Exportar elementos a otros m√≥dulos.
		- Lazy loading con `loadChildren`.

---

## 5. Componentes y Organizaci√≥n (Atomic Design)

- Arquitectura con **organismos, mol√©culas y √°tomos**.
- Cada componente:
	- Tiene su clase controladora (TypeScript).
	- Ciclo de vida: `ngOnInit`, `ngOnChanges`, etc.
	- Estilos aislados ‚Üí `:host { ... }`.

- `ng generate component nombre`
	- Si usas m√≥dulos, se registra en `app.module.ts`.

---

## 6. Data Binding (uno de los pilares de Angular)

### 6.1 Tipos
- **Interpolaci√≥n** `{{ "{{" {{ "}}" }} variable {{ "}}" }}`
- **Property Binding** `[prop]="valor"`
- **Event Binding** `(click)="handler()"`
- **Two-way Binding** `[(ngModel)]="valor"`

### 6.2 Formularios
- Template-driven ‚Üí usa `ngModel`.
- Reactive Forms ‚Üí modelo basado en **Observers**, m√°s cercano a Signals.
- Unidireccional ‚Üí modelo ‚Üí vista.
- Bidireccional ‚Üí modelo ‚Üî vista.

---

## 7. Metadata, Decoradores y DI

- Decoradores:
	- `@Component`
	- `@NgModule`
	- `@Injectable`
	- `@Input`, `@Output`

- Dependencias:
	- Constructor injection.
	- API `inject()` (sin constructor).
	- Providers por componente, m√≥dulo o root.

---

## 8. Inputs: Comunicaci√≥n Padre ‚Üí Hijo

- En hijo:
	```ts
	@Input() datoEntrada: string;
	```

- En padre:
	```html
	<app-hijo [datoEntrada]="valorDesdePadre"></app-hijo>
	```

- Detalles:
	- `[]` recibe datos.
	- En template: `{{ "{{" {{ "}}" }} datoEntrada {{ "}}" }}`.

---

## 9. Output: Comunicaci√≥n Hijo ‚Üí Padre

### 9.1 Ejemplo b√°sico
- En hijo:
	```ts
	@Output() messageEvent = new EventEmitter<string>();
	message: string = '';

	enviarMensaje() {
		this.messageEvent.emit(this.message);
	}
	```

- En plantilla del hijo:
	```html
	<input [(ngModel)]="message">
	<button (click)="enviarMensaje()">Emitir</button>
	```

- Padre:
	```html
	<app-hijo (messageEvent)="recibirMensaje($event)"></app-hijo>
	```

### 9.2 En standalone
- Importar `FormsModule` manualmente en:
	```ts
	@Component({
	    standalone: true,
	    imports: [FormsModule]
	})
	```

---

## 10. Decoradores, Tipado y Utilidades

- `?` en TypeScript:
	- Indica que una propiedad es opcional.

---

## 11. Pasar Datos con Servicios (Service Communication)

### 11.1 Principios
- Centralizar estado.
- Aislar l√≥gica de negocio de UI.

### 11.2 DI
- Formas:
	- Inyecci√≥n por constructor.
		```ts
		constructor(private _servicioEjemplo: EjemploService) {}
		```
	- `inject()`:
		```ts
		private servicio = inject(EjemploService);
		```

- Servicios:
	- M√©todos **getter** y **setter**.
	- Componentes hermanos pueden compartir informaci√≥n v√≠a servicio.

- Ciclo de vida:
	- `ngOnInit` usado para setear datos iniciales.
	- `@Injectable({ providedIn: 'root' })`

---

## 12. Mini-Ejercicios

### 12.1 Contador simple con eventos
- `(click)="increment()"`, `(click)="decrement()"`.

### 12.2 Ejemplo de saludo con getters/setters en service
- `get nombre()` y `set nombre(value)` enlazados a inputs.

### 12.3 Usar Input y Output entre componentes
- Propagar valores, eventos y mutaciones entre padre e hijo.

---

## 13. Checklist de Inicio de Proyecto Angular 16‚Äì17

- [ ] Instalar Angular 16.2.10.
- [ ] Actualizar a Angular 17 si procede.
- [ ] Configurar estilos globales en `angular.json`.
- [ ] Decidir arquitectura: standalone, m√≥dulos o h√≠brido.
- [ ] Crear estructura inicial: components, services, modules.
- [ ] Probar comunicaci√≥n con Input/Output.
- [ ] A√±adir un servicio para estado global.
- [ ] Probar ReactiveForms.
- [ ] Integrar Signals si se quiere arquitectura sin Zone.js.

---



# Angular 16‚Äì17 ‚Äî Parte 2  
Directivas, Pipes, Routing, Navegaci√≥n, Parametrizaci√≥n, Componentes din√°micos y estructura avanzada.

## 1. Directivas en Angular

- Structural directives ‚Ä¢ Angular
- Directives ‚Ä¢ Overview ‚Ä¢ Angular

### 1.1 Tipos de directivas
- **Estructurales** (`*ngIf`, `*ngFor`, `ngSwitch`)
	- Modifican el DOM a√±adiendo/removiendo elementos.
- **De atributos** (`ngClass`, `ngStyle`)
	- Modifican estilos, clases y comportamientos.
- **Directivas personalizadas**
	- Decorador: `@Directive({ selector: '[miDirectiva]' })`
	- Usos:
		- A√±adir estilos.
		- Controlar permisos.
		- Cambiar comportamiento del DOM.

### 1.2 Creaci√≥n de una directiva personalizada
- C√≥digo b√°sico:
	```ts
	@Directive({
	    selector: '[resaltar]'
	})
	export class ResaltarDirective {
	    constructor(private el: ElementRef) {
	        this.el.nativeElement.style.backgroundColor = 'yellow';
	    }
	}
	```
- Se usa en HTML:
	```html
	<p resaltar>Texto destacado</p>
	```
- Nota: En **modules** debes declararla en `declarations`.  
- En **standalone** la importas en `imports: []`.

---

## 2. Pipes: Transformaciones en Plantillas

- Pipes ‚Ä¢ Overview ‚Ä¢ Angular

### 2.1 Conceptos
- Son funciones puras **inmutables**.
- Decorador: `@Pipe({ name: 'miPipe' })`.
- Clase debe **implementar `PipeTransform`**.
- Se usan en plantillas:
	{% raw %}
```html
	{{ valor | miPipe:parametro }}
	```
{% endraw %}
- Uso t√≠pico:
	- Buscar y filtrar listas.
	- Formatear texto o n√∫meros.
	- Truncar strings.
	- Moneda y fecha.

### 2.2 Crear Pipe personalizado
```ts
@Pipe({ name: 'trimText' })
export class TrimTextPipe implements PipeTransform {
	transform(value: string, max: number = 10): string {
	    return value.length > max ? value.slice(0, max) + '...' : value;
	}
}
````

### 2.3 Declaraci√≥n

* En module ‚Üí `declarations: [TrimTextPipe]`.
* En standalone ‚Üí `imports: [TrimTextPipe]`.

---

## 3. Routing Avanzado (Angular 16‚Äì17)

* Common routing tasks ‚Ä¢ Angular

### 3.1 Rutas b√°sicas

```ts
const routes: Routes = [
	{ path: '', redirectTo: '/home', pathMatch: 'full' },
	{ path: 'product/:id', component: ProductDetailComponent },
];
```

### 3.2 Navegaci√≥n en plantilla

* **Sintaxis cl√°sica**

  ```html
  <a routerLink="/product/3">Ver producto</a>
  ```

* **Con par√°metros**

  ```html
  <a [routerLink]="['/product', product.id]">Detalles</a>
  ```

### 3.3 Activar clases seg√∫n la ruta

* Forma antigua:

  ```html
  <a routerLink="/home" routerLinkActive="active">Home</a>
  ```

* Forma recomendada (m√°s control):

  ```html
  <a 
      [routerLink]="['/home']"
      [ngClass]="{ 'active': router.isActive('/home') }"
  >Home</a>
  ```

### 3.4 Capturar par√°metros en el componente

* En constructor:

  ```ts
  constructor(private route: ActivatedRoute) {}
  ```

* Suscribirse en `ngOnInit`:

  ```ts
  ngOnInit() {
      this.route.params.subscribe(params => {
          this.id = params['id'];
      });
  }
  ```

### 3.5 Capturar par√°metros m√∫ltiples

Ruta:

```ts
{ path: 'product/:category/:id', component: ProductDetailComponent }
```

Template:

```html
[routerLink]="['/product', product.category, product.id]"
```

### 3.6 Navegaci√≥n program√°tica

```ts
constructor(private router: Router) {}

irAlProducto(id: number) {
	this.router.navigate(['/product', id]);
}
```

---

## 4. Construir Sistema de Navegaci√≥n

### 4.1 Configurar estilos de Bootstrap

* En `angular.json`:

  ```json
  "styles": [
      "node_modules/bootstrap/dist/css/bootstrap.min.css",
      "src/styles.css"
  ],
  "scripts": [
      "node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"
  ]
  ```

### 4.2 ng-bootstrap

* [Angular powered Bootstrap](https://ng-bootstrap.github.io/#/components/accordion/overview)

### 4.3 Routing con Modules (Angular 16 cl√°sico)

* `app-routing.module.ts`:

  ```ts
  const routes: Routes = [
      { path: '', redirectTo: 'home', pathMatch: 'full' },
      { path: 'home', component: HomeComponent },
      { path: 'product/:id', component: ProductDetailComponent },
  ];

  @NgModule({
      imports: [RouterModule.forRoot(routes)],
      exports: [RouterModule],
  })
  export class AppRoutingModule {}
  ```

* Asociar path a component ‚Üí obligatorio.

---

## 5. Tabla de Navegaci√≥n de Productos

### 5.1 Est√°tica

```html
<ul>
	<li><a routerLink="/product/1">Producto 1</a></li>
</ul>
```

### 5.2 Din√°mica con *ngFor*

{% raw %}
```html
<li *ngFor="let p of products">
	<a [routerLink]="['/product', p.id]">{{ p.name }}</a>
</li>
```
{% endraw %}

---

## 6. Componente de Detalles de Producto

### 6.1 Estructura

* Implementa `OnInit`.
* Cargar datos desde:

  * Servicio local.
  * Petici√≥n HTTP.
  * Mock.

### 6.2 Captura de ID

```ts
constructor(private _route: ActivatedRoute) {}

ngOnInit(): void {
	this._route.params.subscribe(params => {
		const id = params['id'];
		this.product = this.productList.find(p => p.id === Number(id));
	});
}
```

### 6.3 Evitar undefined

{% raw %}
```html
<div *ngIf="product as p">
	<h2>{{ p.name }}</h2>
	<p>{{ p.price | currency }}</p>
</div>
```
{% endraw %}

### 6.4 Loading mientras llega el backend

* En TS:

  ```ts
  loading = true;

  ngOnInit() {
      setTimeout(() => {
          this.loading = false;
      }, 1000);
  }
  ```

* En template:

  ```html
  <div *ngIf="loading">Cargando...</div>
  <div *ngIf="!loading">Contenido</div>
  ```

### 6.5 Angular 17 y ActivatedRoute sin constructor

* Con `inject()`:

  ```ts
  private route = inject(ActivatedRoute);
  ```

---

## 7. Structural Directives Repaso Completo

* Structural directives ‚Ä¢ Angular

### 7.1 M√°s usadas

* `*ngFor`
* `*ngIf`
* `ngSwitch`
* `ngClass`
* `ngStyle`
* `ng-container`

  * Fragmento sin generar elementos reales.
* `ng-template`

  * Plantillas reutilizables.
* `ngPlural`, `ngComponentOutlet` (avanzado)

---

## 8. Componente de Lista de Productos

### 8.1 Base

* Crear interface Product:

  ```ts
  export interface Product {
      id: number;
      name: string;
      price: number;
  }
  ```

* Array en componente:

  ```ts
  products: Product[] = [...];
  ```

### 8.2 Template

* Angular 16:

  {% raw %}
```html
  <div *ngFor="let p of products">
  	<p>{{ p.name }}</p>
  	<p>{{ p.price | currency }}</p>
  	<a [routerLink]="['/product', p.id]">Ver detalles</a>
  </div>
  ```
{% endraw %}

* Angular 17 (`@for`):

  {% raw %}
```html
  @for (p of products; track p.id) {
      <div>{{ p.name }}</div>
  }
  ```
{% endraw %}


# angular 16 17 parte 3

## üìå Forms en Angular (template-driven & reactive)

### üîπ Conceptos generales
- Forms ‚Ä¢ Overview ‚Ä¢ Angular
- Validate form input ‚Ä¢ Angular
- Angular - Validating form input
- Angular - Building a template-driven form
- Diferencias principales:
	- **template-driven** ‚Üí m√°s declarativo, usa `ngModel`, ideal para formularios simples.
	- **reactive-forms** ‚Üí m√°s program√°tico, usa `FormGroup`, `FormControl`, escalable.

---

## 1. Template-Driven Forms

### üß© Fundamentos
- Usa:
	- `#ngForm` en el `<form>`
	- `[(ngModel)]` (two-way binding)
	- `(ngSubmit)` para manejar env√≠os
- Validaciones:
	- Ejemplo:  
		```html
		*ngIf="!name.valid && name.touched"
		```

### ‚úîÔ∏è Validaciones comunes
- `required`
- `minlength`
- `email`
- Estados:
	- `touched`
	- `dirty`
	- `invalid`
	- `valid`

---

## 2. Reactive Forms

### üß© Conceptos clave
- Reactive forms ‚Ä¢ Angular
- Requiere importar:
	- `ReactiveFormsModule` en `NgModule.imports`
- Clases principales:
	- `FormBuilder`
	- `FormGroup`
	- `FormControl`
	- `Validators`

### üë∑ Inicializaci√≥n
- Inyecci√≥n en constructor:
	```ts
	constructor(private fb: FormBuilder) {}
	```
- Crear el formulario:
	```ts
	this.myForm = this.fb.group({
		name: ['', Validators.required],
		email: ['', [Validators.required, Validators.email]]
	});
	```

### üîç Acceso y validaci√≥n
- `this.myForm.get('name')`
- `hasError('email', 'email')`
- `*ngIf="myForm.get('name')?.touched"`

### ‚úîÔ∏è Control de clases (Bootstrap)
```html
[ngClass]="{'is-invalid': hasErrors('name','required')}"
````

### üîÅ Observadores en tiempo real

```ts
this.myForm.valueChanges.subscribe(value => {})
```

### üß© Formulario reactivo con campos dependientes

* Escuchar cambios:

  ```ts
  this.myForm.get('tipoDni')?.valueChanges
  	.subscribe(value => this.tipoDni = value);
  ```

### üß© Inicializar valores desde servicio (usuario activo)

* En `ngOnInit`:

  ```ts
  this.myForm.get('name')?.setValue(this.userActive);
  this.myForm.get('name')?.disable();
  ```

### üîÑ Patch m√∫ltiple de valores

```ts
this.myForm.patchValue({
	name: 'Edu',
	email: 'test@test.com'
});
```

### ‚ôªÔ∏è Reset con limpieza de validaciones

```ts
control.clearValidators();
control.updateValueAndValidity();
```

---

##  Ejercicio: Formulario de Contacto con Validaci√≥n

### Template-driven

* Agregar `FormsModule`
* Inputs con `[(ngModel)]` y `ngModelOptions`
* Validaciones con Bootstrap

### Reactivo

* Inyectar `FormBuilder`
* Crear `FormGroup`
* Validadores
* Mostrar errores con m√©todos de clase

---

## üìå Ciclo de Vida de Componentes (Lifecycle)

### Lifecycle ‚Ä¢ Angular

### Œ∑ Hooks principales:

* **ngOnChanges**

  * Detecta cambios en `@Input`
  * Ejemplo con componente `dni-input`:

    * Padre:

      ```html
      <dni-input [tipoDni]="tipoDni"></dni-input>
      ```
    * Hijo implementa `OnChanges`:

      ```ts
      ngOnChanges(changes: SimpleChanges): void {
      	const value = !changes['tipoDni'].firstChange
      		? changes['tipoDni'].currentValue
      		: 'default';
      }
      ```
  * Uso de objeto indexado:

    ```ts
    changes?.['tipoDni'].currentValue
    ```
  * Mostrar/ocultar:

    ```html
    *ngIf="mostrarDni"
    ```

* **ngOnInit**

  * Inicializaci√≥n del formulario
  * Llamadas a servicios
  * `setValue` y `disable`

* **ngDoCheck**

  * Detecta cada ciclo de comprobaci√≥n

* **ngAfterContentInit / ngAfterContentChecked**

  * Con `@ContentChild`

* **ngAfterViewInit / ngAfterViewChecked**

  * Con `@ViewChild`

* **ngOnDestroy**

  * Desuscribirse de observables
  * Limpiar formularios
  * Uso de RxJS

---

## üìå HTTP Services & API

### üîπ Conceptos

* HTTP asincr√≥nico
* Microservicios
* Notificaciones push
* Autenticaci√≥n
* Storage
* `HttpClientModule` (importar en `app.module.ts`)
* Servicios con `@Injectable()`

### üß© Constructor del servicio

```ts
constructor(private http: HttpClient) {}
```

### üß∫ M√©todos del servicio

* GET:

  ```ts
  this.http.get(url)
  ```
* POST:

  ```ts
  this.http.post(url, body)
  ```

### üì¶ Devolver observables

```ts
getData(): Observable<any> { ... }
```

### üß© Suscripci√≥n en componente

```ts
subscribe({
	next: (data: any) => {},
	error: (error: any) => {}
});
```

---

## Ejercicio: Llamada a API con HttpClient

### üß∞ Preparaci√≥n:

* Importar `HttpClientModule`
* Fake API: [https://fakestoreapi.com/docs](https://fakestoreapi.com/docs)
* Crear servicio:

  ```ts
  constructor(private _httpClient: HttpClient) {}
  ```
* Definir `baseURL`

### üß© Tipado

* Usar quicktype:
  [https://app.quicktype.io/](https://app.quicktype.io/)
* Enum para categor√≠as:
  TypeScript- Handbook - Enums
* Interface `IProduct`
* Para IDs string ‚Üí number:

  ```ts
  id: number | string
  ```

### üîÑ Query params

```ts
const params = sort ? `?sort=${sort}` : '';
return this._httpClient.get<IProduct[]>(`${this.baseURL}${params}`);
```

### üè∑Ô∏è M√©todos del servicio

* `getProducts()`
* `getProduct(id)`
* `getCategories()`
* `postProduct(product)`
* `putProduct(product)`
* `deleteProduct(id)`

Todos devuelven **Observables**.

---

## üß© Componente Productos & Product Detail

### ‚úîÔ∏è Detalles de producto

* Acceso en template:

  {% raw %}
```html
  {{ product?.title }}
  ```
{% endraw %}
* Inyectar servicios:

  ```ts
  constructor(
  	private _apiService: ApiService,
  	private _route: ActivatedRoute
  ) {}
  ```

### Obtener ID desde la ruta

```ts
const id = Number(params['productId']);
```

### Llamar al servicio

```ts
this._apiService.getProduct(id).subscribe({
	next: (data: IProduct) => {},
	error: (err) => {}
});
```

### Manejo de errores con next / error

---




# angular 16 17 parte 4

## Angular 16 ‚Äî Estado, Ciclo de Vida, Inyecciones, Destroy & Router

### üîπ Estado, observables y manejo de ciclo de vida
- Manejo de observables, estado reactivo y asincron√≠a.
- Integraci√≥n con servicios, router y destrucci√≥n del componente.
- Uso de `ngOnDestroy` y nuevas APIs basadas en *DestroyRef*.

### üîπ Hydration (Server-Side)
- Hydration del DOM cuando se usa SSR.
- Permite que Angular reactive un HTML existente generado en servidor.
- Optimiza performance, reduce TTI (time to interactive).

---

## Standalone Components

### üîπ Conceptos clave
- Reemplazan gradualmente a los NgModules.
- ‚ÄúMicro-m√≥dulos‚Äù: cada componente importa solo lo necesario.
- Se definen as√≠:
	```ts
	@Component({
		standalone: true,
		imports: [...],
		selector: 'app-demo',
		templateUrl: './demo.html'
	})
	```

### üîπ Inyecci√≥n sin constructor
- Nueva API `inject()`:
	```ts
	const router = inject(Router);
	```

### üîπ Nuevas capacidades en @Input
- Requerido:
	```ts
	@Input({ required: true }) data!: DataType;
	```
- Evita null/undefined.
- Tipado de arrays:
	```ts
	dataSource: PeriodicElement[] = [];
	```

### üîπ Transformadores para evitar valores incorrectos
- BooleanAttribute:
	```ts
	@Input({ transform: booleanAttribute }) expanded = true;
	```
- Previene errores cuando pasan `"true"` o `"false"` como strings.

### üîπ Cambios en sintaxis HTML
- Angular 16 permite autocierre de etiquetas personalizadas.

### üîπ Router sin ActivatedRoute
- No siempre hace falta inyectar ActivatedRoute.
- Uso de `inject()` o signals combinados.

### üîπ Nuevo patr√≥n de destrucci√≥n
- Antes:
	```ts
	ngOnDestroy() {
		this.sub.unsubscribe();
	}
	```
- Ahora:
	```ts
	const destroyRef = inject(DestroyRef);
	destroyRef.onDestroy(() => { /* cleanup */ });
	```

---

## Angular 16 ‚Äî Signals

### üîπ Conceptos base
- *signal()*, *computed()*, *effect()*
- Observan cambios autom√°ticamente, reactividad fina.
- Inspirados en **Solid.js** y principios SOLID- los 5 principios que te ayudar√°n a desarrollar software de calidad.

### üîπ Ejemplos b√°sicos
- Definici√≥n:
	```ts
	const counter = signal<number>(0);
	```
- Actualizaci√≥n:
	```ts
	counter.set(5);
	counter.update(v => v + 1);
	```
- Computados:
	```ts
	const z = computed(() => x() + y());
	x.set(z());
	```

### üîπ Signals con arrays u objetos
- Array de objetos:
	```ts
	const users = signal([{ name: '' }]);
	```
- Mutaci√≥n:
	```ts
	users.mutate(u => { u[0].name = 'John'; });
	```
- Lectura:
	```ts
	users()[0];
	```

### üîπ Efectos
- Reaccionan autom√°ticamente:
	```ts
	effect(() => {
		console.log(counter());
	});
	```

### üîπ Signals con callbacks y cleanup
- Caso con temporizadores:
	```ts
	const timer = signal(0);

	effect((onCleanup) => {
		const t = setTimeout(() => timer.set(1), 1000);
		onCleanup(() => clearTimeout(t));
	});
	```
- Efectos pueden cancelarse antes de terminar.

---

## Angular 16 vs Versiones Anteriores

### üîπ Enlaces
- [github.dev/sergiecode/proyecto-angular-novedades-tutorial](https://github.dev/sergiecode/proyecto-angular-novedades-tutorial)

### üîπ Cambios conceptuales
- RxJS y Material ya integrados.
- Antes todo pasaba por NgModules.

### üîπ Tipado simple en TS
```ts
a: number = 1;
x: number = this.a + this.b;
````

### üîπ Observables y reactividad

* **RxJS**

  * Stream de eventos.
  * `subscribe()`
  * `Observable`
* **BehaviorSubject**

  * Mantiene √∫ltimo valor
  * Lo emite a nuevos suscriptores
* **Subscription**

  * Administra observables y cleanup.

### üîπ Convenciones

* Variables con `$` para observables.

### üîπ Signals reemplazan parte del ciclo de vida

* `signal()`, `computed()`, `effect()` en constructor.
* En template:

  {% raw %}
```html
  {{ a() }}
  ```
{% endraw %}
* Uso de setters en lugar de patching.

---

## Comunicaci√≥n entre Componentes (Old vs New)

### üîπ Antes (Angular <16)

* **@Input() binding**

  * Padre:

    ```html
    <child [propchild]="valueFather"></child>
    ```
  * Hijo:

    ```ts
    @Input() propchild: string;
    ```
* **@ViewChild()**

  * Padre accede a m√©todos del hijo.
* **Service compartido**

### üîπ Angular 16+

* `@Input({required: true})`
* `transform: BooleanAttribute`
* Inyecci√≥n:

  ```ts
  const destroyRef = inject(DestroyRef);
  destroyRef.onDestroy(() => {});
  ```
* Standalone Components con `imports`.

### üîπ Ejemplo a√±adir data usando signals

```ts
const list = signal([]);
list.update(arr => [...arr, newItem]);
```

---

## Angular 17 ‚Äî Cambios Fundamentales

---

## 1. Estructuras de Control Integradas

### üîπ @if / @else

Antes:

```html
*ngIf="userLogin; else userAnom"
<ng-template #userAnom></ng-template>
```

Ahora:

{% raw %}
```html
@if (userLogin) {
	{{ userLogin }}
} @else {
	Usuario an√≥nimo
}
```
{% endraw %}

### üîπ @switch / @case / @default

Antes con `ngSwitch`, `*ngSwitchCase*`‚Ä¶

Ahora:

```html
@switch (levelAccess) {
	@case ('access') { ... }
	@default { ... }
}
```

### üîπ @for / @empty

Antes:

* `*ngFor`
* `*ngIf="users.length === 0"`

Ahora:

{% raw %}
```html
@for (user of users; track user.id) {
	{{ user.name }}
} @empty {
	no hay users
}
```
{% endraw %}

**track por id** incluido de serie.

---

## 2. Lazy Loading con @defer

### üîπ Antes

* `ViewContainerRef`
* Limpieza manual

### üîπ Ahora

* *@defer* `{ contenido }`
* *@placeholder*
* *@loading*
* *@error*
* Usa **IntersectionObserver**
  Blog - How to implement Intersection Observer API in Angular

### üîπ Triggers

* on idle
* on immediate
* on timer(x)
* on viewport(ref)
* on interaction(ref)
* on hover(ref)
* when (promise)
* Angular - @defer

Ejemplo:

```html
@defer (on viewport; prefetch on idle) {
	<product-list></product-list>
}
```

---

## 3. Hybrid Render

* SSR + SSG (prerender)
* CLI: `--ssr`

---

## 4. Nuevos Lifecycle Hooks

* `afterRender()`
* `afterNextRender()` ‚Üí ideal para SSR
* Angular - afterRender

Ejemplo con librer√≠a gr√°fica:

* `@ViewChild('grafico') graficoRef: ElementRef`
* ElementRef in Angular - How to use it - DEV Community

---

## 5. Compilaci√≥n & Herramientas

* Vite + esbuild por defecto.
* Mejoras en devtools y debug.
* Visualizaci√≥n del **inyector tree**:
  Hierarchical injectors ‚Ä¢ Angular

---

## 6. Standalone por defecto

* `core:standalone`
* Eliminaci√≥n progresiva de NgModules.


# Angular 16‚Äì17 ‚Äî Parte 5  
Aplicaciones pr√°cticas: To-Do App y Landing Page con Angular 17

## 1. App de Tareas con Angular 17 (To-Do App)
- Repo: https://github.dev/sergiecode/lista-tareas-curso-angular
- Construcci√≥n de un CRUD b√°sico usando **services**, **localStorage**, **standalone components**, y **reactividad m√≠nima**.

### 1.1. Servicio para gestionar localStorage (TaskService)
- Centraliza todas las operaciones de lectura/escritura.
- M√©todos principales:
	- `getTareas(): string[]`
		- Uso de **JSON.parse()** para convertir el string almacenado a array.
		- Si `getItem()` devuelve `null`, retornamos `[]`.
		- Basado en la **interfaz Storage** de Web API.
			-  MDN
			-  MDN
			-  MDN
		- Uso de **type assertion** con `as`:
			- TypeScript- Documentation - Decorators 
			- Type Assertion - TypeScript Deep Dive
	- `agregarTarea(tarea: string)`
		- Recibe la cadena.
		- `push()` en el array actual.
		- `setItem()` con JSON.stringify() para persistencia.
	- `eliminarTarea(index: number)`
		- Usa `splice()` para remover 1 elemento en el √≠ndice.
		- Luego vuelve a llamar a `setItem()`.

### 1.2. Gesti√≥n de Keys en el almacenamiento
- Nombres consistentes para evitar colisiones.
- Ejemplo:  
	- Key: `"tareas"`  
	- Value: `JSON.stringify(arrayDeTareas)`

### 1.3. Deploy a Netlify
- Crear build con Angular CLI.
- Configuraci√≥n t√≠pica de SPA:
	- Archivo `_redirects` con `/* /index.html 200`.

---

## 2. Landing Page con Productos ‚Äî Angular 17
- Repo: https://github.dev/sergiecode/landing-page-angular-17
- Ejercicio completo con **rutas**, **HTTP client**, **formularios reactivos**, **@for**, **@if**, y **standalone components**.

### 2.1. Estructura sin NgModules
- `app.component` como base.
- Uso de rutas standalone:
	- `product/:id`
	- Configuraci√≥n en `app.routes.ts`
- Ajustes en `angular.json`:
	- Definici√≥n de assets.
	- Configuraci√≥n del builder.

### 2.2. Cliente HTTP + Providers
- En `main.ts` se a√±ade:
	- `{provide: HttpClient, useFactory: ...}`  
	- O mediante `provideHttpClient()`.

### 2.3. API Service (api.service.ts)
- Inyectar HttpClient usando `inject()`.
- M√©todos habituales:
	- `getAllProducts(): Observable<Product[]>`
	- `getProduct(id: number): Observable<Product>`
- Para el tipado:
	- Usar Postman para ver la API.
	- Con Quicktype generar `model.ts` con interfaces.

---

## 3. Componente de Productos
- Inyectar el service con `inject()`.
- Propiedad:
	- `productList: Product[] = [];`
- L√≥gica:
	- `ngOnInit()` -> suscripci√≥n a `getAllProducts()`.
- Template:
	- Recorrido con `@for`:
		- `@for (p of productList; track $index) { ... }`
	- Mostrar datos con pipes (`currency`, etc.).
	- Click en card o bot√≥n para navegar al detalle.

### 3.1. Navegaci√≥n program√°tica
- M√©todo:
	```ts
	navigate(id: number): void {
		this.router.navigate(['/product', id]);
	}
	```

---

## 4. Product Detail Component
- Inyectar router y service:
	- `const route = inject(ActivatedRoute);`
	- `const api = inject(ApiService);`
- L√≥gica:
	- Suscribirse a params.
	- Obtener id.
	- Llamar al m√©todo del service.
- Template:
	- Loading con `@if(!loading)`.
	- Operador de seguridad:
		- `product?.price | currency`.

---

## 5. Formulario de Contacto (Reactive Forms)
- Evitar default form submit:
	- `(submit)="enviar($event)"` + `event.preventDefault()`.
- Importaciones necesarias en standalone:
	- `{CommonModule, ReactiveFormsModule}`.
- Definir el formulario:
	- `contactForm!: FormGroup` (nunca null).
- Constructor:
	```ts
	constructor(private fb: FormBuilder) {
		this.contactForm = this.fb.group({
			email: ['', [Validators.required, Validators.email]],
			message: ['', [Validators.required, Validators.minLength(10)]]
		});
	}
	```

### 5.1. Template del Form
- `form [formGroup]="contactForm"`
- Validaciones:
	- `ngClass="{ 'is-invalid': hasErrors('email', 'required') || hasErrors('email','email') }"`
- Condicionales:
	- `@if (hasErrors('email','required'))`
	- `@if (hasErrors('email','email'))`
	- `@if (hasErrors('message','minlength'))`
- M√©todo en TS:
	```ts
	hasErrors(field: string, typeError: string) {
		return this.contactForm.get(field)?.hasError(typeError);
	}
	```
- Importar `ngClass`.

---

## 6. Buenas Pr√°cticas Aprendidas
- Tipar siempre las respuestas HTTP.
- Separar l√≥gica en servicios.
- Formularios reactivos > template-driven.
- Navegaci√≥n con `navigate(['/ruta', id])`.
- Standalone components simplifican bastante.
- Uso de `@for`, `@if`, `@switch` en Angular 17 mejora legibilidad.
- Manejo de loading states.
- Uso correcto de trackeos: `track $index` o `track product.id`.

---


# ---- 
# Angular 18 ‚Äî Novedades (Parte 1)

## Recursos
- [NOVEDADES ANGULAR 18 | Curso tutorial completo gratis por Sergie Code - YouTube](https://www.youtube.com/watch?v=Qmci2rvN4F8)
- [GitHub - sergiecode/novedades-angular-18](https://github.com/sergiecode/novedades-angular-18)
- [GitHub - sergiecode/angular-18-test](https://github.com/sergiecode/angular-18-test)

---

## 1. Signals en Angular 18
Los **signals** son la base del nuevo sistema de reactividad. Permiten *reactividad transparente*, *composici√≥n en cascada* y *tipado estricto*.

## 1.1 Fundamentos
- Angular Signals & Your Architecture- 5 Options - ANGULARarchitects
- Son reactivos y mutables, cambian durante el ciclo de vida del componente.
- Los *values opcionales* son `undefined` por defecto.
- Inputs obligatorios sin valor inicial ‚Üí `input.required()`.
- *computed(() => ‚Ä¶)* permite crear se√±ales derivadas.
- Opci√≥n `transform:` permite castear, normalizar o sanitizar valores dentro del input.
	- Ej: *typeof*, *pipes*, conversiones num√©ricas.
- *alias:* para renombrar inputs/outputs entre padre e hijo.

---

## 2. Inputs y Outputs con Signals

## 2.1 Inputs
- Inputs tradicionales vs *input signals*.
- Declaraci√≥n:
	```ts
	myValue = input<number>();
	myRequired = input.required<string>();
	```

## 2.2 Outputs
- Comunicaci√≥n hijo ‚Üí padre.
- `output<string>()` define un evento tipado.
- Se emite con `.emit()` ‚Üí reemplaza al viejo `EventEmitter`.

## 2.3 Output from Observable
- Crear `new Observable<T>` con tipado expl√≠cito.
- Nombre sugerido: `onChangeName$`.
- Eventos sin dato ‚Üí tipo `void`.
- Se puede *adaptar* un observable a un output:
	- con `pipe()`
	- con `subscribe()`
- Configuraci√≥n con *trigger* interno para emitir seg√∫n eventos.

---

## 3. Signal Queries
Sustituyen a `@ViewChild`, `@ContentChild`, etc., con un enfoque 100% reactivo.

## 3.1 Tipos de consultas
- `viewChild()`
- `viewChildren()` (readonly array)
- `contentChild()`
- `contentChildren()`

## 3.2 Caracter√≠sticas
- Asignan un elemento *HTML* o instancia de componente a un **signal**.
- Permiten leer inyectores y metadatos del DOM.
- Usan IDs del template v√≠a `#el`.

### Ejemplo:
```ts
elDiv = viewChild.required<ElementRef<HTMLDivElement>>("el");
````

### Reglas

* Si es `.required`, no puede ser `undefined`.
* No puede declararse dentro del constructor ‚Üí debe ser propiedad de clase.
* Error en tiempo de ejecuci√≥n si el elemento no existe.

---

## 4. Model Inputs (sustituto moderno a ngModel)

Permiten **doble binding** con signals, m√°s seguro y m√°s claro que `ngModel`.

## 4.1 Ejemplo b√°sico

* Checkbox con estado reactivo:

  ```ts
  protected checked = model(false);

  toggle() {
  	this.checked.set(!this.checked());
  }
  ```

* En template:

  ```html
  <input type="checkbox" [value]="checked()" (change)="toggle()">
  ```

---

## 5. ng-content y Content Projection

* Content projection with ng-content ‚Ä¢ Angular
* Inyectar contenido externo dentro de un componente.
* Soporta valores por defecto.
* Selecci√≥n mediante:

  ```html
  <ng-content select=".hello"></ng-content>
  ```

---

## 6. Event Prop (Event Properties)

Aparece un sistema formal para escuchar y manejar *flujos de eventos*.

## 6.1 Formularios y eventos

* Nuevas capacidades con:

  * *FormControl*
  * *FormGroup*
  * *FormArray*
* Crear controlador:

  ```ts
  n = new FormControl<string | null>("nombre", Validators.required);
  ```
* Suscribirse a eventos:

  ```ts
  n.events.subscribe(event => { ... });
  ```

---

## 7. Rutas y Redirecciones con Funciones

Angular 18 mejora la navegaci√≥n y manejo de errores.

## 7.1 Redirecci√≥n avanzada

* `redirectTo` ahora puede ser una **funci√≥n**:

  ```ts
  { path: '', redirectTo: () => '/home' }
  ```

## 7.2 Query Params y acceso a hijos

* Se mantienen mecanismos previos, pero ahora se permite l√≥gica interna en el objeto de la ruta.

## 7.3 Ejemplo de seguridad en rutas

* Validar usuario antes de cargar la ruta.
* Manejo de errores con funci√≥n `handleError()`.
* Permite mantener vivos componentes antiguos (compatibilidad hist√≥rica).

---

## 8. Wiz: SSR + Signals + Event Replay

Mejoras del ecosistema para SSR.

## 8.1 Funcionalidades

* Reproducir eventos despu√©s de hidrataci√≥n.
* Grabaci√≥n y re-env√≠o de eventos (como Next.js).
* Optimizado para rendimiento.

## 8.2 Configuraci√≥n

```ts
providers: [
	provideClientHydration(withEventRelay())
]
```

---

## 9. ngOptimizedImage Mejorado

* Manejo inteligente de im√°genes.
* Carga progresiva con blur.
* `ngSrc` optimizado.
* Nuevas capacidades para *placeholder*.

---

## 10. Zoneless Change Detection (Experimental)

Permite eliminar Zone.js y manejar detecci√≥n manualmente.

## 10.1 Configuraci√≥n

```ts
providers: [
	provideExperimentalZonelessChangeDetection()
]
```

* Debe eliminarse Zone.js de *polyfills*.
* Cambios importantes entre Angular 17 y 18.

---

## 11. Partial Hydration y @defer

Uno de los cambios m√°s grandes en SSR desde Angular 17 ‚Üí estable en 18.

## 11.1 Qu√© cambia

* Antes: *@placeholder* se renderizaba en servidor.
* Ahora: *@defer* gobierna todo el ciclo.

## 11.2 Funcionamiento

```html
@defer (render on server; on viewport) {
	<app-calendar></app-calendar>
}
```

## 11.3 Casos de carga diferida

* Navegador en reposo.
* Elemento al viewport.
* Interacci√≥n del usuario (hover, click...).

## 11.4 Prefetch avanzado

```html
@defer (prefetch on hover; prefetch when loggedIn) {
	<my-component />
}
```

---

## 12. Assets en Angular 18

* Los est√°ticos se sirven desde `/public/assets`.
* Se permite *path absoluto desde src* para gestionar rutas a assets.


# Angular 18 ‚Äî Novedades (Parte 2)

## 0. Proyecto de Ejemplo
- [github.dev/sergiecode/novedades-angular-18](https://github.dev/sergiecode/novedades-angular-18)

### Configuraci√≥n General
- CSS y m√≥dulos definidos en `angular.json`.
- Providers incluidos desde `app.config.ts`.
- `HttpClient` ya no se importa en m√≥dulos ‚Üí se usa v√≠a providers.
- Migrar `zone.js` removiendo polyfills en `angular.json`.
- En `AppComponent` (standalone):
	```ts
	imports: [CommonModule, RouterOutlet, RouterLink]
	```

---

## 1. Signals: Inputs, Outputs, Queries y Model Inputs

## 1.1 Inputs con Signals
### Conceptos
- Propagaci√≥n padre ‚Üí hijo totalmente reactiva.
- Si un input recibe `undefined` ‚Üí no se renderiza en el hijo.
- Declaraci√≥n:
	```ts
	nombre = input<string>();
	apellido = input.required<string>();   // obligatorio
	```
- Standalone:
	```ts
	imports: [InputChildComponent]
	```

### Alias
- Permiten renombrar inputs al recibir datos del padre:
	```html
	<child [age]="25" />
	```
	```ts
	edad = input(0, { alias: 'age' });
	```

### Transform
- Permite l√≥gica adicional al recibir valores:
	```ts
	deshabilitado = input(false, {
		transform: (value: boolean | string) =>
			(typeof value === 'string') ? value === '' : value
	});
	```
- Acepta boolean o string vac√≠o seg√∫n l√≥gica del padre.
- √ötil para habilitar/deshabilitar desde atributos o expresiones.

### Actualizar se√±ales desde el padre
{% raw %}
```ts
texto = signal<string>('Hola');
{{ texto() }}
```
{% endraw %}`

---

## 1.2 Outputs con Signals

### Ejemplo pr√°ctico: Control de badge

Padre:

```ts
badge = signal<number>(0);
hidden = false;
```

Hijo: emisiones

```ts
sumar = output<void>();
delete = output<number>();
```

Emitir:

```ts
this.delete.emit(0);
```

Padre: handlers

```ts
this.badge.update(value => value + 1);
this.badge.update(() => value);
```

### Alternativa sin signals

* Doble binding cl√°sico
* `hidden = !hidden`
* `(click)="toggleBadgeVisibility()"`

---

## 1.3 Queries con Signals

### Tipos

* `viewChild`
* `viewChildren` (readonly)
* Selectores `#id` en el template.

### Ejemplos

Template:

```html
<h1 #titulo></h1>
<h2 #soloLectura></h2>
```

Componente:

```ts
h1 = viewChild<ElementRef<HTMLHeadingElement>>("titulo");
soloLectura = viewChildren<ElementRef<HTMLHeadingElement>>("soloLectura");
```

Modificar:

```ts
this.h1()?.nativeElement.textContent = "Nuevo";
```

### Reglas

* Si se usa `.required`, debe existir el elemento ‚Üí error en runtime.

---

## 1.4 Model Inputs (sustituto moderno de ngModel)

* Importar `model()`.
* Manejo reactivo con signals:

```ts
protected checked = model(false);

toggle() {
	this.checked.set(!this.checked());
}
```

Template:

{% raw %}
```html
<input type="checkbox" [value]="checked()" (click)="toggle()">
<span [ngStyle]="{color: checked() ? 'green' : 'red'}">
	{{ checked() }}
</span>
```
{% endraw %}

---

## 2. ngContent (Content Projection Avanzada)

* No requiere relaci√≥n estricta padre ‚Üí hijo.
* Se puede usar junto a clases espec√≠ficas.

Hijo:

```ts
selector: 'plantilla'
```

```html
<ng-content select=".saludo"></ng-content>
```

Padre:

```ts
selector: 'app-content',
imports: [PlantillaComponent]
```

Template:

```html
<div class="saludo">Hola!</div>
```

* Admite valores por defecto si no se pasa contenido.
* Proyecci√≥n m√∫ltiple.

---

## 3. Im√°genes Optimizadas (ngOptimizedImage)

### Pruebas

* Cambiar velocidad a 3G en devtools para verificar cargas.

### Uso

```html
<img ngSrc="img.jpg" width="300" height="300" />
```

### Blur y set de im√°genes

```html
<img ngSrc="img.jpg" ngSrcset="img-blur.jpg" />
```

### Provider personalizado

```ts
providers: [
	{
		provide: IMAGE_LOADER,
		useValue: (config: ImageLoaderConfig) =>
			`?auto=compress&cs=tinysrgb&w=${config.width}`
	}
]
```

---

## 4. @defer ‚Äî Carga Diferida Avanzada

## 4.1 Cargar charts con hover, viewport y timers

Componente:

```ts
selector: 'app-defer',
imports: [
	ChartComponent,
	MatProgressSpinnerModule,
	MatTabsModule,
	MatButtonModule,
	MatDividerModule,
	MatIconModule
],
```

Reactive visibility:

```ts
isVisible = signal(false);
```

### Uso de triggers

```html
@defer (on hover; prefetch on timer(10000)) {
	<!-- Contenido -->
} @placeholder() {
	<!-- Placeholder -->
} @loading(minimum 3000) {
	<!-- Loading -->
} @error {
	<!-- Error -->
}
```

### Con condici√≥n reactiva

```html
@defer (when isVisible()) { ... }
@if (!isVisible()) {
	<button (click)="isVisible.set(true)">Mostrar</button>
}
```

### En viewport

```html
@defer (on viewport) {
	<app-chart />
} @loading { ... }
```

---

## 5. Formularios Modernos (Forms con eventos Signals)

### Validaciones

* email, message, touched, pristine, status.

Template:

```html
<form [formGroup]="contactForm" novalidate (submit)="enviar($event)">
	<input
		formControlName="email"
		[ngClass]="{'is-invalid' : hasErrors('email','required') || hasErrors('email','email')}"
	>
</form>
```

L√≥gica de errores:

```ts
hasErrors(field, type) {
	return this.contactForm.get(field)?.hasError(type) &&
		   this.contactForm.get(field)?.touched;
}
```

### Componente: construcci√≥n del formulario

```ts
contactForm = this.fb.group({
	email: ['', [Validators.required, Validators.email]],
	message: ['', Validators.required],
});
```

Suscripciones:

```ts
this.contactForm.valueChanges.subscribe(...)
this.contactForm.get('email')?.valueChanges.subscribe(...)

this.contactForm.events.subscribe(event => { ... })
```

Eventos muestran:

* pristine
* touched
* status
* cambios reales del form

---

## 6. Navegaci√≥n Moderna y Redirecciones (Standalone + Redirect Functions)

### Navegaci√≥n desde evento

```ts
private _router = inject(Router);

navegate(id: number) {
	this._router.navigate([`/detalle-anterior`, id]);
}
```

### Rutas con children (standalone)

```ts
{
	path: 'signals',
	children: [
		{ path: 'inputs', component: InputComponent }
	]
}
```

### Redirecci√≥n con l√≥gica (novedad)

```ts
{
	path: 'detalle-anterior/:id',
	redirectTo: ({ params }) => {
		const errorHandler = inject(ErrorHandler);
		const userId = params['id'];

		if (userId !== '3') return `/detalle-usuario/${userId}`;
		return '/not-found';
	}
}
```

---

## 7. Landing Page Angular 18

* [github.dev/sergiecode/angular-18-test](https://github.dev/sergiecode/angular-18-test)
* zone.js por defecto
* configuraci√≥n del server para SSR


# ---- 
# Conceptos y Entrevistas Angular üî•

## 1. Diferencias y Fundamentos
- Diferencia con **AngularJS** (v1.x) vs Angular moderno (v2+).
- **Data Binding**
	- Two-way binding: `[()]`
	- Unidirectional: `[prop]` o `(event)`
- **Observables**
	- Reactividad con `rxjs`.
	- Comparaci√≥n con `Promise` (complete, next, error).
- **Dependency Injection**
	- Inyectar servicios en componentes o m√≥dulos.
	- Ejemplo: [JWT](/autenticacion/jwt/) manejo de tokens.
- **HTTP Interceptor**
	- Middleware de peticiones HTTP.
	- Ejemplo: spinner en llamadas, manipulaci√≥n de headers o tokens.

---

## 2. Angular 17 ‚Äî Entrevista Senior
- [Entrevista t√©cnica de Angular - YouTube](https://youtu.be/5vOj1yDzJwY)
- **Compilaci√≥n**
	- AOT (Ahead-of-Time) vs JIT (Just-in-Time)
- **Modules**
	- Entry component? 
	- Shared modules (ej. Angular Material)
- **Lifecycle Hooks** Lifecycle ‚Ä¢ Angular
	- `ngOnInit`, `ngAfterViewInit`, `ngOnDestroy`, etc.
- **Observables vs Promises**
	- Suscribir con `subscribe()` y manejar `complete`.
- **Comunicaci√≥n entre componentes**
	- Uso de observables para pasar datos.
- **Lazy Loading**
	- Optimiza memoria y carga de m√≥dulos.
- **ViewChild vs ContentChild** ViewChild ‚Ä¢ Angular ContentChild ‚Ä¢ Angular
	- `ContentChild` ‚Üí elementos proyectados desde otro DOM.
	- `ViewChild` ‚Üí refs o instancias dentro del template.
- **Directivas**
	- Estructurales: `*ngIf`, `*ngFor`
	- Atributo: `[()]`, dual binding
	- Custom directives.
- **Pipes**
	- Transforman datos en templates: `async`, `currency`, etc.
	- Custom pipes con propiedades.
- **Build & Performance**
	- `ng build`, uglify, minificaci√≥n, bundling, tree shaking.
	- Buenas pr√°cticas: usar RxJS correctamente, onDestroy en suscripciones, modo strict.
- **Patrones de arquitectura**
	- MVC, Atomic Design, modularidad.

---

## 3. Conceptos Entrevista Semi-Senior
- **Services & HTTP**
	- Patr√≥n singleton.
	- Publicaci√≥n y suscripci√≥n (Pub/Sub).
- **Environments**
	- Variables de entorno, configuraci√≥n seg√∫n build.
- **RxJS en Angular**
	- Unwrapping data from an observable ‚Ä¢ Angular
	- BehaviorSubject - Learn RxJS
	- Subject vs BehaviorSubject
	- Crear observables: `new Observable()`, init value.
	- Emitir valores con `next()`, suscribirse con `subscribe()`, usar `async` pipe.
	- Operadores:
		- `tap()`, `map()`, `mergeMap()`, `interval()`, `pipe()`
	- Estado y manejo con **subjects**.
	- Operators - Learn RxJS
- **NgRx** (gesti√≥n de estado)
	- NgRx - @ngrx/store
	- Actions, Reducers, Selectors
	- Ejemplo pr√°ctico: contador con NgRx.
- **Buenas pr√°cticas**
	- CamelCase en variables y funciones.
	- Declarar variables sobre el constructor.
	- Getters al final.
	- Espaciado consistente.
	- Desuscribirse de observables o usar `async` pipe.
	- Evitar l√≥gica en templates; usar funciones o pipes.
	- Minimizar uso de `else`; preferir `if` negativo.
	- Fechas y formatos Angular.
- **Asincron√≠a y lazy loading**
	- `async` pipe para suscribirse autom√°ticamente.
	- Lazy loading y prefetching de m√≥dulos.
	- Optimizaci√≥n de performance.

---

## 4. Entrevista Senior ‚Äî Arquitectura y Avanzado
- **Change Detection**
	- Angular observa cambios autom√°ticamente (NgZone).
	- OnPush ‚Üí detecci√≥n manual de cambios.
- **Dependency Injection Avanzado**
	- Inyecci√≥n de servicios sin instanciar manualmente.
	- Ejemplo: `UserService` inyectado en constructor de un m√≥dulo o componente.
- **Patr√≥n forRoot**
	- Para configuraci√≥n de rutas y m√≥dulos compartidos.
- **Arquitectura**
	- MVC, Atomic Design, Componentes, Standalone Components.
	- DDD (Domain Driven Design) vs TDD vs BDD
		- Introducci√≥n a DDD y arquitectura hexagonal con un ejemplo de aplicaci√≥n en Java
- **Optimizaci√≥n**
	- async pipe, lazy loading, prefetching de recursos.
- **Performance y SSR**
	- Reducir memoria, lazy load, observables correctamente gestionados.



# ---- 
# Omnivore angular

```base
type: list
name: "Notas con #angular en Omnivore"
order:
  - property: date_saved
    direction: desc
columns:
  - file.name
  - date_saved
filters:
  and:
    - file.inFolder("Omnivore")
    - file.hasTag("angular", "Angular")
views:
  - type: table
    name: Table
    order:
      - file.name
      - source_domain
    sort:
      - property: file.mtime
        direction: DESC

```


# ---- 
# Resumenes angular gpt
## Angular 17 con Node.js:

### Angular 17 con Node.js: Puntos Clave

#### **1. Backend con Node.js y Express**
- **CRUD con Node.js**: Crear y manipular datos en un servidor mediante m√©todos HTTP (GET, POST, PUT, DELETE).
- **Endpoints y m√©todos de Express**:
  - **get()**, **post()**, **put()**, **delete()** para operaciones CRUD.
  - **Middleware** como `express.json()` para analizar el cuerpo de las solicitudes.
  - **Manejo de archivos** con `fs` y lectura/escritura de datos en un archivo JSON.
  - **Paginaci√≥n** de productos y comunicaci√≥n con el frontend.
  - **Pruebas de endpoints** con **Postman**.
- **Manejo de errores** en peticiones con **status codes**.

#### **2. API Services e Interfaces**
- **API Services**: Crear servicios para interactuar con la API, como `get`, `post`, `put`, y `delete` con **HttpClient** y **Observables**.
  - Crear **interfaces** para los datos (`Product`, `PaginationParams`).
  - Uso de **generics** (`<T>`) en servicios para manejar distintos tipos de datos.
- **Dependency Injection**: Inyecci√≥n de dependencias para servicios y configuraciones en el constructor.

#### **3. Componentes y Decoradores**
- **Creaci√≥n de componentes**: Componentes como `ProductComponent`, `EditPopupComponent`, y el uso de **Input** y **Output** para la comunicaci√≥n entre componentes.
  - **`@Input()` y `@Output()`** para pasar datos entre componentes y emitir eventos con `EventEmitter`.
- **Uso de plantillas**:
  - Iteraci√≥n con **`*ngFor`** y condiciones con **`*ngIf`**.
  - Binding de propiedades y eventos (`[src]`, `{{ "{{" {{ "}}" }}{{ "}}" }}`).
  - Uso de **doble binding** con `[(ngModel)]`.
- **PrimeNG**: Integraci√≥n de componentes de UI como **`p-paginator`**, **Rating**, **Button**, y **Dialog**.

#### **4. Formularios Reactivos y Validaci√≥n**
- **FormBuilder**: Creaci√≥n de formularios reactivos con `FormBuilder` y validaci√≥n de campos.
  - **Validators**: Validadores predefinidos (`Validators.required`) y validadores personalizados (`ValidatorFn`).
  - Uso de **`specialCharacterValidator`** para validar caracteres especiales con expresiones regulares.
  - **`ngOnChanges`** y **`patchValue()`**: Actualizaci√≥n din√°mica de formularios reactivos cuando cambia el producto.
  - **FormControlName vs. ngModel**: Diferencias y c√≥mo se utilizan.

#### **5. Paginaci√≥n**
- **PrimeNG Paginator**: Configuraci√≥n del componente de paginaci√≥n (`rows`, `totalRecords`, `rowsPerPageOptions`).
  - **`onPageChange()`**: Funci√≥n para manejar los cambios de p√°gina, invocando el m√©todo `fetchProducts()` para actualizar los datos seg√∫n la p√°gina seleccionada.
  - **ViewChild** para acceder al paginador desde el c√≥digo del componente y realizar reset de paginaci√≥n.

#### **6. Modales y Popups**
- **DialogModule de PrimeNG**: Creaci√≥n de popups para agregar/editar productos.
  - **Propiedades `@Input` y `@Output`** para manejar la visibilidad del modal y la confirmaci√≥n de acciones.
  - **Two-way binding** con `[(visible)]="display"` para controlar la visibilidad del modal.
  - **Eventos en modales**: `onConfirm()` y `onCancel()` para manejar las acciones dentro del modal.

#### **7. Gesti√≥n de Productos y CRUD**
- **Servicios para CRUD**:
  - M√©todos en el `ProductService` para manejar productos: `addProduct`, `editProduct`, `deleteProduct`.
  - Uso de **observables** para realizar peticiones a la API y suscribirse a los resultados con `subscribe()`.
  - **Emitir eventos** con `EventEmitter` para comunicar el resultado de las acciones de CRUD con otros componentes.
  - **Mismo nombre para m√©todos en distintos contextos**: Ej. `editProduct` como funci√≥n en el servicio y como m√©todo en el componente.

#### **8. Pipes Personalizados**
- **TruncateNamePipe** y **PricePipe**:
  - Crear pipes personalizados con el CLI (`ng generate pipe`).
  - Transformar valores en plantillas con `transform()`.
  - Uso de **`unknown`** y **valores por defecto** en pipes para manejar valores potencialmente nulos o indefinidos.

#### **9. Lazy Loading y Rutas**
- **Lazy Loading de m√≥dulos**: Definir rutas con `loadChildren` para cargar m√≥dulos de manera diferida.
  - **Creaci√≥n de m√≥dulos** con `ng generate module` y configuraci√≥n de rutas.
  - **RouterLink y routerLinkActive** para la navegaci√≥n y resaltar rutas activas en la UI.

#### **10. Manejo de Errores y Depuraci√≥n**
- **Manejo de CORS**: Configurar el backend para permitir solicitudes de dominios cruzados.
- **Depuraci√≥n**: Verificaci√≥n de peticiones HTTP con herramientas como **DevTools** y **Postman** para comprobar que las solicitudes y respuestas sean correctas.

### T√©cnicas de Programaci√≥n Empleadas**
- **Inyecci√≥n de dependencias (Dependency Injection)**.
- **Destructuring**: Extraer propiedades de objetos (ej. `const { name, image, price, rating } = this.productForm.value`).
- **Operador l√≥gico OR (`||`)**: Para asignar valores por defecto si un valor es falsy (ej. `name || ''`).
- **Uso de **Observables** y **RxJS** en peticiones HTTP y suscripciones.

### Otros Detalles Importantes
- **Standalone components**: Uso de componentes independientes en lugar de declararlos en un m√≥dulo.
- **Arquitectura de m√≥dulos**: Separar la l√≥gica en m√≥dulos organizados (ej. `ProductModule`, `ApiModule`).
- **Uso de `ViewChild`** para interactuar con componentes hijos como el paginador o botones en el DOM.
  
Esta lista incluye los elementos m√°s importantes relacionados con las **t√©cnicas de programaci√≥n empleadas** en el curso, y obvia las redundancias para darte un resumen organizado de los conceptos clave.

## intro angular 16 17

### Angular 16/17: Puntos Clave (Parte 1)

#### **1. Recursos y Repositorios**
- **Recursos del curso**: Tutoriales, repositorios GitHub para ejemplos y presentaciones, as√≠ como novedades de Angular 16, 17 y 18.
- **Herramientas y preparativos**: 
  - Instalaci√≥n de Angular 16.2.10 y actualizaci√≥n a Angular 17.
  - Definici√≥n de paquetes y estilos en **`angular.json`**.

#### **2. Angular Signals y Reactividad**
- **Signals vs. RxJS vs. zone.js**: Reactividad moderna en Angular con la API **`signal()`** y su impacto en la arquitectura de aplicaciones.
- **SPA y MVC en Angular**: Uso de Angular para construir **Single Page Applications (SPA)** bajo el patr√≥n **Modelo-Vista-Controlador (MVC)**.

#### **3. Angular Modules y Standalone Components**
- **Modularizaci√≥n vs. Standalone Components**:
  - Crear aplicaciones usando **Standalone Components** o con **NgModules** (`--no-standalone` para usar `app.module.ts`).
  - Migraci√≥n de aplicaciones a **Standalone**.
  - Comparaci√≥n entre **standalone** y **module-based** aplicaciones.
- **Componentes Angular**:
  - **Atomic design**: Dise√±o jer√°rquico de componentes, creaci√≥n con `ng generate`.
  - **Controladores con TypeScript**: M√©todos como **`NgOnInit`** y la interpolaci√≥n de datos en plantillas.
  - Uso del selector `::host` en estilos.

#### **4. Binding y Enlace de Datos**
- **Data Binding** en Angular:
  - **Property Binding** y **Event Binding**: Comunicaci√≥n unidireccional entre el modelo y la vista.
  - **Two-way binding** con `ngModel` para sincronizaci√≥n bidireccional.
  - **Formularios reactivos** para manejar datos en tiempo real (se mencionan **signals**).

#### **5. Decoradores y Metadata**
- **Decoradores** como **`@Input()`** y **`@Output()`**:
  - **`@Input()`**: Pasar datos de componente padre a hijo.
  - **`@Output()`**: Enviar eventos desde el componente hijo al componente padre mediante **`EventEmitter`**.
  - Uso de **`ngModel`** para vincular inputs en formularios con doble binding.
  - **Tipado en TypeScript**: Uso del operador `?` para permitir valores opcionales o vac√≠os.

#### **6. Servicios e Inyecci√≥n de Dependencias (DI)**
- **Servicios en Angular**:
  - Crear servicios para compartir l√≥gica entre componentes.
  - **Inyecci√≥n de dependencias (DI)**: Uso de constructores para inyectar servicios en componentes.
  - Alternativas de inyecci√≥n: **constructor** vs. **`inject()`**.
  - **Ciclo de vida de los datos**: Separaci√≥n de la l√≥gica de los componentes UI.
  - Uso de **setters y getters** para manejar y compartir datos entre componentes.

#### **7. Ejemplos de Componentes y Binding**
- **Ejemplos pr√°cticos**:
  - Crear un **contador** simple manejado por eventos.
  - Ejemplo de **saludo** y pregunta usando **setters y getters** en un servicio.
  - Implementaci√≥n de **decoradores** para pasar datos entre componentes con **`@Input()`** y **`@Output()`**.

#### **8. Directivas en Angular**
- **Directivas estructurales y personalizadas**:
  - **Directivas estructurales** como `*ngIf` y `*ngFor` para controlar el DOM.
  - **Directivas personalizadas**: Crear directivas usando `@Directive` y **`ElementRef`** para modificar elementos HTML.
  - Usos comunes: Estilos din√°micos, control de permisos, entre otros.

#### **9. Pipes (Tuber√≠as)**
- **Pipes en Angular**:
  - Funciones transformadoras para formatear datos en plantillas.
  - Crear **pipes personalizados** con `@Pipe` y usar `implements PipeTransform`.
  - Ejemplos de uso: Pipes de b√∫squeda y transformaci√≥n de datos en plantillas.
  - Uso de pipes en **formateo de texto** y manejo de fechas, n√∫meros, etc.

#### **10. Routing y Navegaci√≥n**
- **Routing en Angular**:
  - **Router service**: Configurar rutas y navegar entre vistas.
  - Uso de **par√°metros de URL** y **rutas con par√°metros** (`:id`, `:categoria`).
  - M√©todos para capturar y manejar par√°metros de la URL en los componentes con **`ActivatedRoute`**.
  - **Enlace de navegaci√≥n**: Uso de `routerLinkActive` para resaltar rutas activas en la interfaz.
  - Diferencia entre usar `routerLinkActive` y **`ngClass`** para la navegaci√≥n.



### Angular 16/17: Puntos Clave (Parte 2)

#### **1. Navegaci√≥n y Enrutamiento**
- **Enrutamiento con Angular**:
  - Uso de **Bootstrap** para estilos de navegaci√≥n.
  - **RouterModule** en Angular 16 con NgModules, uso de `routerlink=""` para manejar rutas en plantillas.
  - **Enlaces din√°micos** en rutas con par√°metros (`[routerLink]="['/url', 'param']"`).
  - Redirecciones: Configurar el **path vac√≠o** para redirigir a **home**.
  - **Tabla de productos**: Uso de `*ngFor` para listas din√°micas de productos y vinculaci√≥n con rutas.
  
#### **2. Componentes y Detalles de Productos**
- **Product Detail Component**:
  - **ActivatedRoute**: Uso de **`_route`** para acceder a par√°metros de ruta y obtener el ID de un producto.
  - **Find()**: Uso de `find()` para buscar productos en una lista.
  - Manejo de **cargas asincr√≥nicas** con indicadores de carga (`loading`) y **setTimeout** para simular la respuesta del backend.

#### **3. Directivas Estructurales**
- **Directivas como `*ngFor` y `ngIf`**: Manejar listas y condiciones din√°micas.
  - **`ngSwitch`**, **`ngClass`**, **`ngStyle`** para manipular estilos y clases en plantillas.
  - **ng-container** como fragmento sin generar elementos adicionales en el DOM.
  - **ng-template**: Para crear plantillas reutilizables y condicionales.

#### **4. Formularios**
- **Formularios basados en plantillas**:
  - **`ngModel` y `ngSubmit`** para la vinculaci√≥n de datos bidireccional y manejo de eventos de formulario.
  - Validaciones: Uso de `*ngIf` para mostrar mensajes de error en los campos de entrada cuando no son v√°lidos o est√°n tocados.
  
- **Formularios reactivos**:
  - Uso de **`FormBuilder`, `FormGroup`** y **`Validators`** para crear formularios controlados por c√≥digo.
  - **`hasError()`** para validar y mostrar mensajes de error personalizados en el formulario.
  - Ejemplo: **Formulario de contacto** con validaci√≥n de correo electr√≥nico y uso de **Bootstrap** para errores de estilo.

#### **5. Ciclo de Vida de los Componentes (Lifecycle Hooks)**
- **Ciclo de vida de Angular**:
  - **`ngOnChanges`**: Detectar cambios en las propiedades de entrada (`@Input`) desde el componente padre.
  - **`ngOnInit`**: Inicializar datos del servicio y gestionar estados en tiempo de carga.
  - **`ngOnDestroy`**: Desuscribirse de observables y limpiar recursos.
  - Otros hooks importantes: `ngDoCheck`, `ngAfterViewInit`, `ngAfterViewChecked`, `ngAfterContentInit`.

#### **6. HTTP Client y API**
- **Uso de `HttpClientModule`** para manejar peticiones HTTP a trav√©s de servicios.
  - Peticiones **GET** y **POST** usando observables (`Observable<any>`).
  - **Inyecci√≥n de servicios** en componentes para acceder a m√©todos API.
  - Ejemplo: Conexi√≥n a una **API falsa** (Fake Store API) para obtener productos y manejar datos.
  - **Suscripci√≥n a observables** usando `subscribe()` para manejar datos y errores de forma as√≠ncrona.

#### **7. Estados y Observables en Angular**
- **Manejo de estados y reactividad**:
  - **BehaviorSubject**: Tipo especial de observable que emite el √∫ltimo valor a los suscriptores cuando se suscriben.
  - **Signals en Angular 16**:
    - Uso de **`signal()`**, **`computed()`** y **`effect()`** para gestionar el estado de manera reactiva.
    - **Mutaci√≥n de arrays**: Uso de `mutate()` para modificar valores de arrays en signals.
    - Uso de **signals** para escuchar cambios y actualizar autom√°ticamente la UI.

#### **8. Lazy Loading y SSR**
- **Lazy Loading con Angular 17**:
  - Nuevas estructuras de control como **`@if`**, **`@for`** y **`@switch`** que simplifican el c√≥digo.
  - Uso de **`@defer`** para cargar contenido bajo demanda con triggers como `on idle`, `on interaction`, `on viewport`.
  - **Intersecci√≥n de Observadores** (`IntersectionObserver`) para cargar contenido en funci√≥n de la visibilidad del elemento.

#### **9. Standalone Components y Signals en Angular 16/17**
- **Standalone components**: Eliminaci√≥n de NgModules al utilizar componentes aut√≥nomos.
- **Signals vs Observables**: Uso de **`signal()`** para manejar cambios de estado en Angular 16 en lugar de **rxjs** y observables tradicionales.

#### **10. Proyectos Pr√°cticos**
- **App de tareas con Angular 17**:
  - Uso de **LocalStorage** para almacenar y gestionar tareas.
  - M√©todos de manipulaci√≥n de datos: **`getItem()`**, **`setItem()`** y **`splice()`** para a√±adir o eliminar tareas.
  - Subir la aplicaci√≥n a **Netlify** para despliegue.

- **Landing page de productos con Angular 17**:
  - Conexi√≥n a una **API de productos** para mostrar una lista de productos.
  - Uso de **`routerLink`** para la navegaci√≥n entre productos y detalles.
  - **Formulario de contacto** con validaci√≥n y manejo de errores en tiempo real usando **ReactiveForms**.

#### **11. Diferencias entre Angular 16 y versiones anteriores**
- **Mejoras en Angular 16**:
  - Uso de **`@input({required:true})`** para evitar que se pasen valores nulos o indefinidos.
  - **`inject()`** en lugar de constructores para manejar inyecciones de dependencias.
  - Nueva estructura de control **`@if`, `@for` y `@switch`** para un c√≥digo m√°s limpio.
  - Mejoras en el manejo de **`@defer`** para cargar contenido de forma eficiente y mejorar el rendimiento.

#### **12. Mejoras en Angular 17**
- **Controladores integrados**: Uso de estructuras de control m√°s sencillas (`@if`, `@for`, `@switch`).
- **Lazy Loading mejorado**: Uso de `@defer` con **IntersectionObserver** y triggers personalizados.
- **Nuevas APIs y Hooks**:
  - **`afterRender()` y `afterNextRender()`**: Utilizados para la renderizaci√≥n y aplicaciones **SSR (Server-Side Rendering)**.


## novedades angular 18
#### **1. Signals y Reactividad**
- **Angular Signals**:
  - **Signals en Angular** permiten manejar el estado de manera m√°s eficiente y reactiva.
  - **`signal()`**: Almacena un valor reactivo.
  - **`computed()`**: Calcula valores basados en otros signals.
  - **`effect()`**: Ejecuta efectos colaterales cuando cambian los signals.
  - Se pueden usar en lugar de **rxjs** para la reactividad.
  - Soporta **cadena en cascada** de signals (cuando un signal depende de otro).
  - **Transformaciones y validaciones**: Uso de la propiedad `transform` para manipular valores de entrada.

#### **2. Outputs y Observables**
- **Outputs y Observables**:
  - Uso de **`output<string>()`** para emitir eventos desde el hijo al padre, similar a `EventEmitter`.
  - Observables personalizados: Crear **observables** tipados con `new Observable` para emitir eventos reactivos.
  - Uso de **pipes** y **subscribe** para manejar flujos de datos.

#### **3. Signal Queries**
- **Signal Queries**: 
  - Reemplazan el uso de variables tradicionales con signals para **consultas en el DOM**.
  - Acceso a elementos del DOM usando **`ViewChild`**, **`ViewChildren`** y **`ContentChild`** con signals.
  - Ejemplo: `viewChild<ElementRef<HTMLDivElement>>("el").nativeElement`.
  - Los signals pueden reaccionar autom√°ticamente a los cambios en los elementos del DOM.

#### **4. Model Input (Alternativa a `ngModel`)**
- **Model Input**:
  - Nueva alternativa a `ngModel` para **doble binding**.
  - Uso de **`model()`** para manejar inputs reactivos (por ejemplo, un checkbox).
  - Ejemplo: `checked = model(false)` y **doble binding** en la plantilla `[value]="checked()"`.
  - M√©todo **`toggle()`** para modificar el valor del input desde el componente.

#### **5. NgContent y Content Projection**
- **`ng-content`**:
  - Permite **insertar contenido** en un componente desde el exterior.
  - √ötil para componentes reutilizables que aceptan contenido din√°mico.
  - **Content projection** con **`ng-content`** y selectores CSS (`select=".clase"`).
  
#### **6. Optimizaci√≥n de Im√°genes**
- **NgOptimizedImage**:
  - Mejora el rendimiento al cargar im√°genes con **`ngSrc`** y **`ngSrcset`**.
  - Uso de propiedades como **`priority`**, **`width`** y **`height`** para optimizar im√°genes.
  - Proveedor personalizado para cargar im√°genes desde un servidor optimizado.
  - Ejemplo: Configurar un **Image Loader** para optimizar la carga seg√∫n el ancho de la imagen.

#### **7. Detecci√≥n de Cambios sin `zone.js`**
- **Zoneless Change Detection**:
  - Angular 18 introduce una forma experimental de **detectar cambios sin `zone.js`**.
  - Configuraci√≥n en **`angular.json`**: `provideExperimentalZonelessChangeDetection()`.
  - Mejora el rendimiento al eliminar la necesidad de `zone.js`.

#### **8. Hidrataci√≥n Parcial y `@defer`**
- **Hidrataci√≥n Parcial y Defer**:
  - Nueva API **`@defer`** para **renderizar contenido de forma diferida**.
  - Condiciones como `on hover`, `on viewport` y `on timer` permiten controlar cu√°ndo se carga un componente.
  - Ejemplo: `@defer (on hover; prefetch on timer(10000)) { ... }`.
  - Mejora el rendimiento en **SSR** (Server-Side Rendering) y **CSR** (Client-Side Rendering).
  - Soporte para **loading states** con `@loading`, `@placeholder` y manejo de errores con `@error`.

#### **9. Redirecci√≥n en Rutas con Funciones**
- **Rutas Din√°micas**:
  - **`redirectTo`** puede aceptar una **funci√≥n** que devuelve una URL din√°mica basada en par√°metros.
  - Ejemplo: `path: 'detalle/:id', redirectTo: ({ params }) => ...`.
  - Uso de **`inject()`** dentro de rutas para manejar la l√≥gica directamente en la configuraci√≥n.

#### **10. Formas Avanzadas y Validaciones**
- **Reactive Forms**: 
  - Nuevas validaciones y mejoras en **formularios reactivos**.
  - Soporte para **suscripci√≥n a eventos de formulario** con `valueChanges` y `events`.
  - Ejemplo: `this.contactForm.events.subscribe((event) => { ... })` para manejar eventos como **pristine** o **touched**.
  - **ngClass** con condicionales para errores: `[ngClass]="{'is-invalid': hasErrors('email', 'required')}"`.

#### **11. SSR (Server-Side Rendering)**
- **SSR con Hydration**:
  - Angular 18 mejora la **hidrataci√≥n parcial** de componentes en el lado del servidor.
  - Uso de **`provideClientHydration`** para eventos SSR.
  - Ejemplo de integraci√≥n de **signals** con SSR para mejorar el rendimiento.

#### **12. Ejemplos Pr√°cticos de Angular 18**
- **Landing Page Angular 18**:
  - Proyecto de ejemplo en GitHub con novedades de Angular 18.
  - Uso de **`signals`**, **`@defer`**, **optimizaci√≥n de im√°genes**, y **componentes standalone**.
  - Configuraci√≥n de **HTTP Client** y **zone.js** en **appconfig**.

### **Resumen T√©cnico**

1. **Signals**: Nueva API reactiva para manejar el estado sin **rxjs**. Incluye `signal()`, `computed()`, y `effect()`.
2. **Outputs y Observables**: Creaci√≥n de eventos personalizados con `output()` y gesti√≥n avanzada de **observables**.
3. **Signal Queries**: Uso de `ViewChild` y `ViewChildren` con signals para manejar elementos del DOM.
4. **Model Input**: Alternativa a `ngModel` para doble binding reactivo.
5. **Content Projection con `ng-content`**: Para insertar contenido din√°mico en componentes.
6. **Optimizaci√≥n de Im√°genes**: Con `NgOptimizedImage` y propiedades personalizadas.
7. **Detecci√≥n de Cambios sin `zone.js`**: Configuraci√≥n experimental para mejorar el rendimiento.
8. **`@defer` y SSR**: Renderizaci√≥n diferida y mejoras en la hidrataci√≥n parcial en aplicaciones con SSR.
9. **Formularios Reactivos**: Validaciones avanzadas y suscripci√≥n a eventos con `valueChanges` y `events`.

Este resumen incluye las **novedades de Angular 18** junto con las **mejores pr√°cticas** en reactividad, optimizaci√≥n de im√°genes, manejo de rutas y formularios, brindando una visi√≥n clara y t√©cnica de las mejoras y nuevas caracter√≠sticas.



# ---- 
# Angular 2025 ‚Äî Conceptos Avanzados y Tendencias üî•

## 1. Arquitectura Moderna
- **Standalone Components y Modules**
	- Angular 17/18 elimina la necesidad de NgModules para la mayor√≠a de los casos.
	- Permite importar componentes, directivas y pipes directamente en `imports`.
- **Micro Frontends**
	- Integraci√≥n de aplicaciones independientes usando Module Federation.
	- Facilita escalabilidad y despliegue independiente de partes de la app.
- **Atomic Design**
	- Organizaci√≥n de componentes en √°tomos, mol√©culas, organismos y plantillas.
- **SSR (Server-Side Rendering) Mejorado**
	- Hidrataci√≥n parcial con `@defer` y control de renderizado basado en eventos, hover o viewport.
	- Optimizaci√≥n de carga y reducci√≥n de tiempo hasta contenido interactivo (TTI).

## 2. Reactividad y Signals
- **Signals como n√∫cleo reactivo**
	- Sustituyen en muchos casos a RxJS para estados simples.
	- `signal<T>()` para crear estados reactivos, `computed()` para valores derivados.
	- Soporte de `transform` para conversi√≥n de tipos y validaci√≥n en inputs.
- **Inputs y Outputs modernizados**
	- `input.required<T>()` asegura presencia de datos en componentes hijos.
	- Alias para renombrar props en el padre (`{ alias: 'age' }`).
	- `output<void>()` para emisiones sin payload, o con tipo espec√≠fico para comunicaci√≥n padre-hijo.
- **Signal Queries**
	- `viewChild`, `viewChildren`, `contentChild`, `contentChildren` tipados con signals.
	- Acceso seguro a elementos con `ElementRef` y `required` para evitar errores en runtime.

## 3. Renderizado y Optimizaci√≥n
- **@defer y @placeholder**
	- Renderiza contenido diferido en servidor o navegador seg√∫n condiciones.
	- Prefetch de recursos bajo triggers (`on hover`, `on viewport`, timers).
- **NgOptimizedImage**
	- Optimizaci√≥n de im√°genes nativa con `ngSrc` y `ngSrcSet`.
	- Configuraci√≥n de prioridad, dimensiones y placeholders difuminados.
	- Carga adaptativa seg√∫n ancho y red del dispositivo.
- **Detecci√≥n de cambios sin Zone.js**
	- `provideExperimentalZonelessChangeDetection()` para rendimiento extremo.
	- Control manual de actualizaci√≥n de vistas sin dependencia de zonas.

## 4. Formularios y Validaciones
- **FormControl, FormGroup y FormArray**
	- Suscripci√≥n a eventos de cambios `valueChanges` y `events` para reactividad avanzada.
	- Validaciones din√°micas y personalizadas usando `Validators` y `formControlName`.
- **Forms y Signals**
	- Integraci√≥n de signals con inputs para doble binding moderno.
	- Eventos emitidos en tiempo real para estado de validaci√≥n (`pristine`, `touched`, `dirty`).

## 5. Rutas y Navegaci√≥n
- **Redirecciones din√°micas**
	- `redirectTo` acepta funciones que reciben par√°metros de ruta.
	- Manejo de errores y rutas no encontradas (`not-found`) desde funciones inyectadas.
- **Standalone routing**
	- Configuraci√≥n de rutas y children sin NgModules.
	- Prefetching y lazy loading de componentes y m√≥dulos de manera granular.

## 6. Buenas Pr√°cticas 2025
- Arquitectura desacoplada con componentes y servicios reutilizables.
- Uso de signals para estados simples; RxJS para flujos complejos.
- Hydration parcial y defer para optimizar SSR y tiempo hasta interactividad.
- Optimizaci√≥n nativa de assets (im√°genes, videos, fuentes).
- Estilo de c√≥digo limpio: camelCase, getters/setters, suscripci√≥n segura y async pipe.

## 7. Herramientas y Ecosistema
- Angular CLI 18+ con soporte completo a signals y hydration parcial.
- Integraci√≥n con Chart.js, Material, Tailwind y librer√≠as modernas.
- Testing unitario y E2E usando Jasmine, Jest o Cypress.
- Netlify, Vercel y otras plataformas para despliegue moderno y SSR.

# Angular 19 ‚Äî Novedades y Caracter√≠sticas (2025)

## 1. Datos de la versi√≥n
- Angular 19 es una versi√≥n **LTS** seg√∫n el plan de versiones. :contentReference[oaicite:1]{index=1}  
- Ciclo de lanzamientos: Angular publica versiones mayores cada ~6 meses. :contentReference[oaicite:2]{index=2}  

---

## 2. Principales Novedades de Angular 19

### 2.1 Reactividad y Signals
- Las API de‚ÄØ**Signals** (como `signal()`, `effect()` y `linkedSignal`) siguen evolucionando. :contentReference[oaicite:3]{index=3}  
- Reinforcement del modelo reactivo: mayor integraci√≥n con el framework para gestionar estado local sin RxJS en casos simples.

### 2.2 Detecci√≥n de Cambios Sin Zone.js (Zoneless)
- Angular 19 contin√∫a explorando el modo **zoneless** (sin Zone.js), lo que permite aplicaciones m√°s ligeras y un control m√°s expl√≠cito del ciclo de detecci√≥n de cambios. :contentReference[oaicite:4]{index=4}  
- Esta caracter√≠stica est√° en ‚Äúpreview‚Äù pero ha avanzado bastante seg√∫n la comunidad. :contentReference[oaicite:5]{index=5}  

### 2.3 Redirecciones Funcionales en el Router
- `redirectTo` ya no tiene que ser una cadena literal: puede ser una **funci√≥n** que devuelve rutas din√°micas seg√∫n condiciones de runtime. :contentReference[oaicite:6]{index=6}  
- Esto permite l√≥gica de navegaci√≥n m√°s compleja (por ejemplo, rutas basadas en estado del usuario, permisos o par√°metros).

### 2.4 Vistas Diferibles (‚ÄúDeferrable Views‚Äù)
- Se mantiene la capacidad de diferir la renderizaci√≥n de partes del UI usando `@defer`.
- Permite cargar componentes solo cuando son necesarios (on viewport, interacci√≥n, etc.), mejorando el rendimiento y la carga inicial. :contentReference[oaicite:7]{index=7}  
- Esta API es estable desde Angular 18. :contentReference[oaicite:8]{index=8}  

### 2.5 Soporte Estable para Material Design 3
- Angular Material 3 (Material You) ya es estable en esta versi√≥n. :contentReference[oaicite:9]{index=9}  
- Mejora de temas, rendimiento y accesibilidad para componentes UI modernos.

### 2.6 Server-Side Rendering (SSR) y Hidrataci√≥n
- Mejoras en SSR, con **event replay**: los eventos disparados en el cliente se pueden reproducir despu√©s de la hidrataci√≥n. :contentReference[oaicite:10]{index=10}  
- Apoyo a i18n (internacionalizaci√≥n) durante la hidrataci√≥n. :contentReference[oaicite:11]{index=11}  

### 2.7 Soporte de TypeScript
- Angular 19 es compatible con **TypeScript 5.4** (u versiones superiores seg√∫n fuentes). :contentReference[oaicite:12]{index=12}  
- Aprovecha nuevas caracter√≠sticas del lenguaje para mejorar el tipado y la productividad.

### 2.8 Mejoras en Build y CLI
- Soporte para **ECMAScript Modules (ESM)**, lo que mejora la modularidad y carga de c√≥digo. :contentReference[oaicite:13]{index=13}  
- Cach√© m√°s inteligente en Angular CLI ‚Üí builds m√°s r√°pidas y eficientes. :contentReference[oaicite:14]{index=14}  
- Operaciones de compilaci√≥n optimizadas: menor tama√±o de bundle, compilaci√≥n AOT m√°s eficiente. :contentReference[oaicite:15]{index=15}  

### 2.9 Proyecci√≥n de Contenido (ng‚Äëcontent)
- Ahora se puede definir contenido de **fallback** para `<ng-content>` cuando no se proyecta nada, lo cual mejora la reutilizaci√≥n de componentes. :contentReference[oaicite:16]{index=16}  

### 2.10 Herramientas de Debug y DevTools
- Mejora del debugging en SSR / hidrataci√≥n: mayor visibilidad del estado de hidrataci√≥n en DevTools. :contentReference[oaicite:17]{index=17}  
- Perfilado m√°s profundo del rendimiento y del estado reactivo (signals).

---

## 3. Por Qu√© Considerar Angular 19 en 2025

- **Rendimiento:** gracias a deferrable views y zoneless, puedes mejorar la carga inicial y la reactividad.  
- **Estado reactivo moderno:** Signals ofrecen una alternativa ligera a RxJS para estado local.  
- **Mejor experiencia de desarrollo:** con ESM, CLI optimizado y mejores DevTools.  
- **SSR madura:** con event replay y mejor soporte i18n.  
- **UI moderna:** Material 3 estable y proyecci√≥n de contenido m√°s flexible.

---

## 4. Riesgos y Consideraciones para Actualizar

- Algunas APIs (como zoneless) pueden seguir en preview ‚Üí evaluar su uso seg√∫n proyecto.  
- Migrar puede requerir actualizar dependencias (Material, librer√≠as de terceros).  
- Requiere TypeScript relativamente reciente.  
- Verificar compatibilidad con herramientas de build o bundling existentes.

---

