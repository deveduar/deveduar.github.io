creation date: 2025-05-17 16:14
tags:
  - JS
  - turbo
  - framework
keywords:
source:
status: üåü
Parent: "Area-Prog"
cssclasses:
  - hide-embedded-header1
  - wide
categories: "[Frontend](/frontend/frontend/)"
public_note: "true"
# Turbo
``

- [Software engineering](/software%20engineering/software-engineering/)
- [javascript](/desarrollo%20web/javascript/)
- app blog con jekyll
- Turbo Reference-events 
- Turbo Handbook-introduction 

## Conceptos Clave

- **Turbo** es un framework que permite mejorar la navegaci√≥n en aplicaciones web sin recargar la p√°gina completa.
- Funciona interceptando enlaces y formularios para cargar solo las partes necesarias.
- Compatible con HTML est√°ndar, no requiere frameworks JavaScript complejos.
- Facilita la creaci√≥n de **SPA (Single Page Applications)** ligeras y r√°pidas.
- Basado en **Drive**, **Frames** y **Streams** para optimizar el rendimiento.
- Soporta eventos personalizados y extensiones para funcionalidades avanzadas.

## Componentes Principales

- **Drive**
	- Controla la navegaci√≥n de la p√°gina.
	- Intercepta clics en enlaces y env√≠os de formularios.
	- Mantiene el historial de navegaci√≥n sin recargar la p√°gina.
- **Frames**
	- Permiten actualizar secciones espec√≠ficas del DOM.
	- Soportan la renderizaci√≥n parcial del HTML.
	- Mejoran el rendimiento al evitar recargar toda la p√°gina.
- **Streams**
	- Facilitan la actualizaci√≥n en tiempo real de contenido.
	- Permiten inyectar HTML directamente en partes espec√≠ficas de la p√°gina.
	- Se integran con websockets para eventos din√°micos.

## Eventos y Extensiones

- Turbo emite eventos en diferentes etapas del ciclo de vida de la navegaci√≥n:
	- `turbo:before-visit`
	- `turbo:visit`
	- `turbo:before-cache`
	- `turbo:load`
	- `turbo:frame-load`
- Se pueden agregar listeners personalizados para:
	- Animaciones de transici√≥n.
	- Registro de anal√≠ticas.
	- Validaciones previas a la navegaci√≥n.
- Extensiones permiten:
	- Integraci√≥n con frameworks JS.
	- Control avanzado de formularios y estados.
	- Funcionalidades de streaming de contenido din√°mico.

## Uso B√°sico

### HTML Estructura con Frames
{% raw %}
```html
<body>
	<turbo-frame id="main">
		<!-- Contenido din√°mico -->
	</turbo-frame>

	<nav>
		<a href="/pagina1">P√°gina 1</a>
		<a href="/pagina2">P√°gina 2</a>
	</nav>
</body>
```
{% endraw %}`

### Interceptar Formulario

{% raw %}
```html
<form action="/submit" method="post" data-turbo="true">
	<input type="text" name="nombre">
	<button type="submit">Enviar</button>
</form>
```
{% endraw %}

### Escucha de Eventos Turbo

{% raw %}
```javascript
document.addEventListener("turbo:load", () => {
	console.log("Contenido cargado con Turbo");
});

document.addEventListener("turbo:frame-load", (event) => {
	console.log("Frame cargado:", event.target.id);
});
```
{% endraw %}

## Buenas Pr√°cticas

- Mantener HTML sem√°ntico y limpio.
- Evitar sobrecargar frames anidados.
- Usar eventos para manejar interacciones din√°micas.
- Integrar Streams solo cuando se requiera contenido en tiempo real.
- Aprovechar la combinaci√≥n de Drive + Frames para SPA ligeras sin frameworks.

## Recursos

- [Turbo Handbook](https://turbo.hotwired.dev/handbook/introduction)
- [Turbo Reference](https://turbo.hotwired.dev/reference/events)
- Turbo Reference-events
- Turbo Handbook-introduction

# Turbo Avanzado

## Integraci√≥n con Frameworks

- Turbo puede coexistir con frameworks como Rails, React, Vue o Svelte:
	- Se puede usar Turbo para navegaci√≥n y actualizaciones parciales, mientras el framework maneja componentes complejos.
	- Ejemplo en Rails + React:
		- Rails sirve p√°ginas con `turbo-frame`.
		- React se monta solo dentro de un frame espec√≠fico.
	- En Vue o Svelte, los componentes pueden montar contenido din√°mico dentro de frames sin interferir con Turbo.

## Optimizaci√≥n y Rendimiento

- **Prefetching**: Turbo puede precargar p√°ginas vinculadas antes de la navegaci√≥n:
	{% raw %}
```html
	<link rel="turbo-prefetch" href="/pagina1">
	```
{% endraw %}
- **Cache control**:
	- Se puede deshabilitar cache para frames espec√≠ficos usando `data-turbo-cache="false"`.
	- Evitar recargar recursos pesados si ya est√°n en memoria.
- **Minimizar re-render**:
	- Actualizar solo frames necesarios.
	- Evitar frames anidados innecesarios que aumentan el DOM.

## Streaming Avanzado

- Uso de `turbo-stream` para actualizaciones en tiempo real:
	- Insertar, reemplazar, eliminar contenido din√°micamente.
	- Integraci√≥n con websockets o ActionCable:
	{% raw %}
```html
	<turbo-stream action="replace" target="mensaje_123">
		<template>
			<div>Nuevo contenido</div>
		</template>
	</turbo-stream>
	```
{% endraw %}
- Diferencia con actualizaci√≥n normal de frame:
	- Streams permiten m√∫ltiples targets en la misma respuesta.
	- Frames solo permiten reemplazar contenido dentro de un frame espec√≠fico.

## Transiciones y Animaciones

- Integrar animaciones al cargar contenido con Turbo:
	- Eventos √∫tiles:
		- `turbo:before-visit` ‚Üí preparar transici√≥n saliente.
		- `turbo:frame-load` ‚Üí animaci√≥n entrada de contenido.
	{% raw %}
```javascript
	document.addEventListener("turbo:frame-load", (event) => {
		event.target.classList.add("fade-in");
	});
	```
{% endraw %}
- Usar CSS con clases din√°micas para efectos suaves.

## Formularios Complejos

- Validaciones din√°micas:
	- Turbo permite mostrar errores sin recargar.
	- Ejemplo:
	{% raw %}
```html
	<form action="/registro" method="post" data-turbo="true">
		<input name="email" required>
		<div class="error" data-turbo-target="errors"></div>
	</form>
	```
{% endraw %}
- Manejo de respuestas JSON o HTML seg√∫n necesidad.
- Integraci√≥n con streams para mostrar mensajes de √©xito o error en tiempo real.

## SEO y Accesibilidad

- **SEO en SPA con Turbo**:
	- Mantener t√≠tulos y meta tags actualizados usando `<turbo-frame>` y eventos `turbo:load`.
	- Prefetch y caching ayudan a mejorar la experiencia y el rendimiento percibido.
- **Accesibilidad**:
	- Asegurar que lectores de pantalla detecten cambios de contenido.
	- Usar `role="region"` y `aria-live="polite"` en frames din√°micos:
	{% raw %}
```html
	<turbo-frame id="notificaciones" role="region" aria-live="polite"></turbo-frame>
	```
{% endraw %}

## Recursos Avanzados

- [Turbo Handbook: Streams](https://turbo.hotwired.dev/handbook/streams)
- [Turbo Prefetching](https://turbo.hotwired.dev/reference/drive#prefetching)
- [Turbo Rails Integration](https://hotwired.dev/)
