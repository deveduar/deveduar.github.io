---
date: 2025-10-15 11:53
title: BDD
tags:
keywords:
source:
status: ğŸŒŸ
Parent: "[[Area-Prog]]"
cssclasses:
public_note: "true"
category: testing
categories:
  - testing
  - BDD
  - gherkin
  - hide-embedded-header1
  - Testing
---
# ğŸ§© BDD (Behavior-Driven Development)
`$= dv.current().file.tags.join(" ")`

- [Testing](/testing/testing/)

## ğŸ“˜ Conceptos
- Behavior-Driven Development
	- ExtensiÃ³n de [TDD - Test Driven Development](/testing/tdd---test-driven-development/) centrada en el comportamiento del sistema.
	- Permite comunicaciÃ³n clara entre **desarrolladores, QA y negocio**.
- Lenguaje EspecÃ­fico de Dominio (_DSL_)
	- Lenguaje legible por humanos para definir comportamientos.
	- Ejemplo: Gherkin.
- Gherkin
	- Sintaxis estÃ¡ndar para definir escenarios BDD.
	- Palabras clave: `Feature`, `Scenario`, `Given`, `When`, `Then`, `And`, `But`.
	- Estructura bÃ¡sica: given, when, them - practica bdd
		- Ejemplo prÃ¡ctico:
- logica de negocio
	- Los tests se escriben desde la perspectiva del comportamiento esperado.
	- Permite validar funcionalidades de extremo a extremo y alinearlas con los objetivos del negocio.
	- Los escenarios describen **quÃ© se espera** del sistema, no cÃ³mo se implementa.
	- El cÃ³digo se escribe despuÃ©s, validando ese comportamiento.

{% raw %}
```gherkin
Feature: Login de usuario
Scenario: Usuario inicia sesiÃ³n correctamente
	Given el usuario existe con email "user@test.com" y password "1234"
	When el usuario envÃ­a una solicitud POST a "/login"
	Then el sistema responde con cÃ³digo 200 y un token JWT
```
{% endraw %}
## ğŸ§¾ DocumentaciÃ³n y referencias
- Â¿QuÃ© es BDD (Behavior Driven Development)-
- BDD Testing. Â¿CÃ³mo funciona el Behavior Driven Development-

## ğŸ› ï¸ Tools BDD
- Behat
	- Behat Documentation â€” Behat  documentation-guides.html
	- Compatible con Gherkin.
- SpecFlow
	- IntegraciÃ³n con .NET y Visual Studio.
	- Permite definir escenarios en Gherkin.
- Behave
	- Framework BDD para Python.
	- Compatible con Selenium y pruebas automatizadas.
- cucumber
	- Framework multiplataforma (JS, Java, Ruby, etc.).
	- Ejecuta escenarios definidos en Gherkin enlazados a cÃ³digo con step definitions.

## ğŸ”„ Buenas prÃ¡cticas BDD
- Escribir los escenarios **antes de implementar la funcionalidad**.
- Involucrar [Testing](/testing/testing/), QA y desarrollo en la definiciÃ³n de escenarios.
- Mantener el [DSL](/computer%20science/dsl/) consistente y legible para toda la organizaciÃ³n.
- Priorizar features crÃ­ticas y flujos de negocio.
- Reutilizar pasos comunes con step definitions.
- Integrar BDD en pipelines de CI/CD para asegurar **validaciÃ³n continua de comportamiento**.


## ğŸ§  Flujo general BDD
1. Definir el **comportamiento esperado** en lenguaje Gherkin.
2. Implementar los **step definitions** que conectan los pasos con cÃ³digo real.
3. Ejecutar los tests con una herramienta BDD (Cucumber, Behat, etc.).
4. Integrar los resultados en el pipeline [CICD](/devops/cicd/) para validar continuamente.

## Buenas prÃ¡cticas BDD

- Iniciar cada feature con una **historia de usuario** clara.
- Escribir escenarios legibles y **sin lÃ³gica tÃ©cnica**.
- Evitar repetir pasos; usar **steps reutilizables**.
- Mantener una **nomenclatura coherente** (nombres naturales y consistentes).
- Automatizar la ejecuciÃ³n en pipelines CI/CD.
- Integrar herramientas de reporting (Allure, Cucumber Reports, etc.).
- Usar **mocks o stubs** para componentes externos cuando sea necesario.
- Documentar escenarios fallidos con capturas o logs de ejecuciÃ³n.


## ğŸ’» Ejemplos PrÃ¡cticos de BDD

### ğŸ¥’ Ejemplo Cucumber (JavaScript)
{% raw %}
```gherkin
Feature: AutenticaciÃ³n
	Scenario: Login exitoso
		Given el usuario "admin" con contraseÃ±a "1234"
		When intenta iniciar sesiÃ³n
		Then el sistema muestra "Bienvenido, admin"
```
{% endraw %}

{% raw %}
```javascript
import { Given, When, Then } from "@cucumber/cucumber";
import assert from "assert";

let user;

Given('el usuario {string} con contraseÃ±a {string}', function (username, password) {
	user = { username, password };
});

When('intenta iniciar sesiÃ³n', function () {
	this.result = user.password === "1234" ? "Bienvenido, admin" : "Error";
});

Then('el sistema muestra {string}', function (message) {
	assert.strictEqual(this.result, message);
});
```
{% endraw %}

---

### ğŸ Ejemplo Behave (Python)

{% raw %}
```gherkin
Feature: Registro de usuario
	Scenario: Crear nuevo usuario
		Given un formulario vÃ¡lido
		When el usuario envÃ­a sus datos
		Then el sistema responde con "Usuario creado correctamente"
```
{% endraw %}

{% raw %}
```python
# steps/registro_steps.py
from behave import given, when, then

@given('un formulario vÃ¡lido')
def step_given_form(context):
	context.formulario = {"nombre": "Carlos", "email": "test@test.com"}

@when('el usuario envÃ­a sus datos')
def step_when_submit(context):
	context.resultado = "Usuario creado correctamente"

@then('el sistema responde con "{mensaje}"')
def step_then_response(context, mensaje):
	assert context.resultado == mensaje
```
{% endraw %}

---

### ğŸ§© Ejemplo SpecFlow (.NET / C#)

{% raw %}
```gherkin
Feature: Calculadora
	Scenario: Sumar dos nÃºmeros
		Given el primer nÃºmero es 5
		And el segundo nÃºmero es 7
		When los sumo
		Then el resultado debe ser 12
```
{% endraw %}

{% raw %}
```csharp
using TechTalk.SpecFlow;
using NUnit.Framework;

[Binding]
public class CalculadoraSteps
{
	private int num1, num2, resultado;

	[Given(@"el primer nÃºmero es (.*)")]
	public void DadoElPrimerNumeroEs(int n) => num1 = n;

	[Given(@"el segundo nÃºmero es (.*)")]
	public void DadoElSegundoNumeroEs(int n) => num2 = n;

	[When(@"los sumo")]
	public void CuandoLosSumo() => resultado = num1 + num2;

	[Then(@"el resultado debe ser (.*)")]
	public void EntoncesElResultadoDebeSer(int esperado)
		=> Assert.AreEqual(esperado, resultado);
}
```
{% endraw %}

---

### ğŸ§± Ejemplo Behat (PHP)

{% raw %}
```gherkin
Feature: API de usuarios
	Scenario: Consultar datos del usuario
		Given existe un usuario con ID 1
		When hago una peticiÃ³n GET a "/users/1"
		Then la respuesta contiene "nombre"
```
{% endraw %}

{% raw %}
```php
<?php
use Behat\Behat\Context\Context;
use PHPUnit\Framework\Assert;

class UserContext implements Context
{
	private $response;

	/** @Given existe un usuario con ID :id */
	public function existeUsuario($id)
	{
		// SimulaciÃ³n de existencia de usuario
	}

	/** @When hago una peticiÃ³n GET a :endpoint */
	public function hagoPeticionGET($endpoint)
	{
		$this->response = ["nombre" => "Carlos"];
	}

	/** @Then la respuesta contiene :campo */
	public function respuestaContiene($campo)
	{
		Assert::assertArrayHasKey($campo, $this->response);
	}
}
```
{% endraw %}