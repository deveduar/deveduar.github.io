---
date: 2025-01-29 17:40
title: gatsby
keywords:
source:
status: üåü
Parent: "[[Area-Prog]]"
public_note: "true"
category: Frontend
tags:
  - framework
  - react
---
# Gatsby
`$= dv.current().file.tags.join(" ")`

## Descripci√≥n general
Gatsby es un **framework** moderno basado en [react](/frontend/react/) para la construcci√≥n de sitios web de alto rendimiento. Combina caracter√≠sticas de SPA, SSG y capacidades de SSR h√≠brido, permitiendo generar sitios est√°ticos optimizados mientras conserva flexibilidad para contenido din√°mico. Su arquitectura est√° centrada en un sistema de **data layer** unificado mediante [GraphQL](/backend/graphql/), lo que simplifica la integraci√≥n con APIs, archivos locales, servicios externos o un [CMS](/desarrollo%20web/cms/) headless.

## Caracter√≠sticas principales
- **Enfoque est√°tico por defecto (SSG)**  
	- Generaci√≥n anticipada de p√°ginas a partir de contenido estructurado.  
	- Beneficios: carga r√°pida, SEO alto, despliegue sencillo en plataformas como [netifly](/cloud/netifly/).
- **Soporte para SSR e ISR (h√≠brido)**  
	- Renderizado de p√°ginas en tiempo de petici√≥n cuando se necesita contenido fresco.  
	- Incremental Static Regeneration (ISR) permite regenerar p√°ginas seg√∫n demanda.
- **Data Layer unificado con GraphQL**  
	- Todas las fuentes de datos se consultan mediante [GraphQL](/backend/graphql/).  
	- Evita mezclar m√∫ltiples llamadas rest o servicios aislados.  
	- Facilita la composici√≥n y el filtrado de datos complejos.
- **Arquitectura basada en React**  
	- Componentes reutilizables para el frontend.  
	- No usa un [Motor de plantillas](/desarrollo%20web/motor-de-plantillas/), sino l√≥gica y vistas unificadas en JavaScript/JSX.
- **Ecosistema de plugins**  
	- Integraci√≥n con im√°genes optimizadas, fuentes, CMS, APIs, seguridad, rutas, etc.  
	- Extensi√≥n mediante gatsby-config.js sin duplicar l√≥gica.
- **Performance por defecto**  
	- Optimizaci√≥n de im√°genes.  
	- Prefetch de recursos.  
	- Divisi√≥n autom√°tica de bundles.  
	- Rutas r√°pidas mediante hidraci√≥n progresiva.

## Arquitectura del flujo de datos
- **Fuentes de datos (Sources)**  
	- Markdown, JSON, APIs rest, bases de datos, servicios headless [CMS](/desarrollo%20web/cms/).  
	- Todo se transforma en un ‚ÄúGatsby Data Graph‚Äù.
- **Transformers**  
	- Procesan y normalizan contenido (Markdown a HTML, im√°genes a formatos optimizados‚Ä¶).  
- **GraphQL Layer**  
	- Punto √∫nico de acceso a todo el contenido.  
	- Las p√°ginas consultan datos solo con las queries necesarias.
- **Build System**  
	- Genera HTML est√°tico (SSG) o renderiza en tiempo real (SSR).  
	- Empaqueta assets optimizados.
- **Runtime**  
	- Se comporta como SPA una vez cargado el cliente.  
	- Navegaci√≥n instant√°nea entre p√°ginas.

## Cu√°ndo usar Gatsby
- Sitios que necesitan **velocidad y SEO**: blogs, documentaci√≥n, landing pages.  
- Proyectos basados en m√∫ltiples fuentes de contenido.  
- Integraciones intensivas con [CMS](/desarrollo%20web/cms/) headless.  
- Necesidad de un equilibrio entre **SSG** y **SSR** sin perder rendimiento.

## Cu√°ndo NO usar Gatsby
- Aplicaciones altamente interactivas orientadas a estado complejo, donde un framework puramente SPA puede ser m√°s simple.  
- Proyectos donde no se justifica la capa de [GraphQL](/backend/graphql/).

## Comparaci√≥n con otras arquitecturas

### Gatsby vs SSG tradicional
- Gatsby ofrece:
	- GraphQL para datos, en lugar de pipeline manual.
	- Imagen optimizada autom√°ticamente.
	- Navegaci√≥n estilo SPA.

### Gatsby vs Motor de plantillas
- Los motores de plantillas generan HTML mediante plantillas est√°ticas (Ej: EJS, Liquid).  
- Gatsby trabaja con componentes de [react](/frontend/react/), l√≥gica de estado y GraphQL.

### Gatsby vs SPA
- SPA: renderiza todo en el cliente, peor para SEO sin SSR.  
- Gatsby: renderizado previo del HTML, mejor SEO y rendimiento.

### Gatsby vs SSR puro
- SSR puro genera p√°ginas en cada petici√≥n.  
- Gatsby permite SSR solo cuando es necesario y combina esto con SSG e ISR.

---

## Instalaci√≥n y configuraci√≥n b√°sica

### Requisitos
- Node.js  
- npm o yarn  
- Conocimientos b√°sicos de [react](/frontend/react/)  

### Instalaci√≥n inicial
{% raw %}
```bash
npm init gatsby
```
{% endraw %}`

### Estructura b√°sica del proyecto

{% raw %}
```text
.
‚îú‚îÄ gatsby-config.js        # Configuraci√≥n general y plugins
‚îú‚îÄ gatsby-node.js          # L√≥gica avanzada: creaci√≥n de p√°ginas, hooks
‚îú‚îÄ src/
‚îÇ	‚îú‚îÄ pages/
‚îÇ	‚îÇ	‚îú‚îÄ index.js
‚îÇ	‚îÇ	‚îî‚îÄ about.js
‚îÇ	‚îú‚îÄ components/
‚îÇ	‚îî‚îÄ styles/
‚îî‚îÄ static/
```
{% endraw %}

---

## P√°ginas y componentes

### Creaci√≥n de p√°ginas

{% raw %}
```jsx
import * as React from "react"

export default function AboutPage() {
	return (
		<main>
			<h1>Acerca de m√≠</h1>
			<p>Esta es una p√°gina creada con Gatsby.</p>
		</main>
	)
}
```
{% endraw %}

### Link interno optimizado

{% raw %}
```jsx
import { Link } from "gatsby"

<Link to="/about">Ir a About</Link>
```
{% endraw %}

---

## Uso de GraphQL

### Query en una p√°gina

{% raw %}
```jsx
import React from "react"
import { graphql } from "gatsby"

export default function BlogPage({ data }) {
	return (
		<div>
			<h1>{data.site.siteMetadata.title}</h1>
		</div>
	)
}

export const query = graphql`
	query {
		site {
			siteMetadata {
				title
			}
		}
	}
`
```
{% endraw %}

### Consultas con variables (ejemplo)

{% raw %}
```graphql
query($slug: String!) {
	markdownRemark(fields: { slug: { eq: $slug } }) {
		html
		frontmatter {
			title
		}
	}
}
```
{% endraw %}

---

## Plugins esenciales

### Configuraci√≥n b√°sica (gatsby-config.js)

{% raw %}
```js
module.exports = {
	siteMetadata: {
		title: "Mi sitio Gatsby",
		description: "Ejemplo b√°sico con plugins",
	},
	plugins: [
		"gatsby-plugin-image",
		"gatsby-plugin-sharp",
		"gatsby-transformer-sharp",
		{
			resolve: "gatsby-source-filesystem",
			options: { name: "images", path: `${__dirname}/src/images/` },
		},
	],
}
```
{% endraw %}

### Tipos de plugins

- **Source:** conectan con datos (Markdown, CMS, APIs).
- **Transformer:** procesan el contenido (markdown‚ÜíHTML‚Ä¶).
- **UI y rendimiento:** im√°genes, fuentes, cache, scripts.
- **SEO:** metadata autom√°tica, sitemap, robots, etc.
    

---

## Integraci√≥n con CMS

Gatsby se integra f√°cilmente con:
- Sanity
- Strapi
- Contentful
- WordPress como CMS headless
- Ghost
- Archivos Markdown locales

La capa GraphQL unifica todo antes del build.

---

## Despliegue

- [netifly](/cloud/netifly/)
- Vercel
- Gatsby Cloud
- Render
- Cualquier hosting est√°tico (SSG)
- SSR requiere plataforma compatible con serverless o Node.

---

## Recursos

- [Quick Start | Gatsby](https://www.gatsbyjs.com/docs/quick-start/)
- Documentaci√≥n oficial: [https://www.gatsbyjs.com/docs](https://www.gatsbyjs.com/docs)