---
date: 2025-05-12 22:51
title: nx
tags:
keywords:
source:
status: üåü
Parent: "[[Area-Prog]]"
cssclasses:
public_note: "true"
category: nx
categories:
  - nx
  - compilacion
  - runners
  - test-runner
  - hide-embedded-header1
  - wide
  - Automatizacion y Build
---
# Nx
``$= dv.current().file.tags.join(" ")``

## Concepto general
Nx es una plataforma de **task orchestration** y **build system** dise√±ada principalmente para trabajar con [monorepo](/backend/monorepo/). Proporciona herramientas para escalar proyectos grandes, mejorar el rendimiento de builds y tests, y mantener una arquitectura consistente a lo largo del tiempo.

Nx no es solo un CLI, sino un ecosistema que combina:
- Orquestaci√≥n inteligente de tareas
- Gesti√≥n avanzada de dependencias
- Cach√© distribuido e incremental
- Generaci√≥n y estandarizaci√≥n de c√≥digo
- Integraci√≥n nativa con flujos de [CICD](/devops/cicd/)

## Relaci√≥n con Monorepo
Nx est√° profundamente orientado a la gesti√≥n de [monorepo](/backend/monorepo/):
- Permite alojar m√∫ltiples aplicaciones y librer√≠as en un √∫nico repositorio.
- Facilita la compartici√≥n de c√≥digo com√∫n mediante librer√≠as reutilizables.
- Hace expl√≠citas las dependencias entre proyectos internos.
- Escala mejor que enfoques tradicionales al evitar builds y tests innecesarios.

Ver tambi√©n:
- monorepos guia basica
- nx guia basica

## Orquestaci√≥n de tareas
La **orquestaci√≥n de tareas** es uno de los pilares de Nx:
- Ejecuta tareas (build, test, lint, e2e, etc.) respetando el grafo de dependencias.
- Determina autom√°ticamente el orden correcto de ejecuci√≥n.
- Permite ejecutar tareas en paralelo cuando no existen dependencias.
- Optimiza pipelines locales y de [CICD](/devops/cicd/).

Ejemplos de tareas orquestadas:
- `build` de aplicaciones dependientes de librer√≠as
- `test` solo de proyectos afectados por cambios
- `lint` incremental

## Grafo de dependencias
Nx construye un **dependency graph** del workspace:
- Incluye aplicaciones, librer√≠as y relaciones entre ellas.
- Detecta dependencias expl√≠citas e impl√≠citas.
- Es clave para calcular qu√© proyectos est√°n afectados por un cambio.
- Ayuda a mantener una arquitectura limpia y controlada.

Este grafo es la base de:
- Cach√© inteligente
- Affected commands
- Optimizaci√≥n de pipelines

## Cach√© inteligente
Nx incorpora un sistema de **cach√© inteligente**:
- Cachea el resultado de tareas (build, test, lint).
- Reutiliza resultados si los inputs no han cambiado.
- Funciona tanto en local como de forma remota (Remote Cache).
- Reduce dr√°sticamente tiempos de ejecuci√≥n en equipos y CI.

Beneficios principales:
- Builds m√°s r√°pidos
- Menor consumo de recursos
- Feedback m√°s r√°pido para desarrolladores

## Gesti√≥n de dependencias
Nx mejora la **gesti√≥n de dependencias** dentro del monorepo:
- Controla dependencias entre librer√≠as internas.
- Permite definir reglas de dependencia (por ejemplo, capas).
- Evita dependencias circulares o no deseadas.
- Facilita refactors seguros a gran escala.

Relacionado con:
- Automatizacion
- [Automatizacion y Build](/uncategorized/automatizacion-y-build/)

## Generaci√≥n de c√≥digo
Nx ofrece **code generation** mediante generators:
- Genera aplicaciones, librer√≠as y componentes.
- Aplica convenciones y buenas pr√°cticas autom√°ticamente.
- Reduce errores humanos y trabajo repetitivo.
- Facilita la adopci√≥n de est√°ndares de arquitectura.

Los generators pueden ser:
- Oficiales de Nx
- Espec√≠ficos de frameworks (Angular, React, etc.)
- Personalizados por el equipo

## Testing
Nx est√° estrechamente integrado con [Testing](/testing/testing/):
- Ejecuta tests solo en proyectos afectados.
- Orquesta distintos tipos de tests (unitarios, integraci√≥n, e2e).
- Integra herramientas comunes del ecosistema.
- Optimiza el tiempo total de ejecuci√≥n en CI.

## Compartir c√≥digo com√∫n
Nx promueve la creaci√≥n de **librer√≠as compartidas**:
- Centraliza l√≥gica com√∫n (UI, dominio, utilidades).
- Facilita la reutilizaci√≥n entre m√∫ltiples aplicaciones.
- Reduce duplicaci√≥n de c√≥digo.
- Mejora la mantenibilidad a largo plazo.

Las librer√≠as pueden organizarse por:
- Dominio
- Tipo (UI, data-access, utils)
- Capas arquitect√≥nicas

## Automatizaci√≥n y CI/CD
Nx encaja de forma natural con flujos de [CICD](/devops/cicd/):
- Calcula autom√°ticamente qu√© tareas ejecutar en cada pipeline.
- Reduce tiempos de CI al evitar trabajo innecesario.
- Facilita pipelines m√°s simples y deterministas.
- Compatible con sistemas de cach√© remota compartida.

Relacionado con:
- [CICD](/devops/cicd/)
- Automatizacion

## Documentaci√≥n relevante
### Gu√≠as y referencias
- Why Nx-why-nx
- Nx Monorepo Angular-nx-monorepo-angular-e6bd090b7e1a
- nx guia basica

## Casos de uso habituales
- Monorepos con m√∫ltiples aplicaciones frontend y backend
- Equipos grandes con necesidad de escalar builds y tests
- Proyectos que requieren fuerte control arquitect√≥nico
- Organizaciones que buscan optimizar tiempos de CI

# Nx ‚Äî Conceptos Avanzados y Temas Complementarios

## Affected Commands
Nx introduce el concepto de **affected commands** para optimizar ejecuciones:
- Determina qu√© proyectos se ven impactados por un cambio en el c√≥digo.
- Se basa en el grafo de dependencias y el historial de Git.
- Evita ejecutar tareas en proyectos no afectados.

Ejemplos de uso:
- `nx affected:test`
- `nx affected:build`
- `nx affected:lint`

Este enfoque es clave para monorepos grandes y pipelines eficientes de [CICD](/devops/cicd/).

## Inputs y Outputs de tareas
Nx define cada tarea en t√©rminos de **inputs** y **outputs**:
- Inputs: archivos, configuraciones y dependencias que influyen en el resultado.
- Outputs: artefactos generados por la tarea.
- Permiten invalidar o reutilizar cach√© con precisi√≥n.

Esto garantiza:
- Reproducibilidad
- Cach√© determinista
- Menos falsos positivos al recalcular tareas

## Task Pipelines
Nx permite definir **pipelines de tareas**:
- Describe c√≥mo una tarea depende de otras.
- Se configuran en `nx.json`.
- Permite herencia y reutilizaci√≥n de configuraciones.

Casos comunes:
- `build` depende de `build` de librer√≠as
- `test` depende de `build`
- `lint` independiente y paralelizable

## Plugins de Nx
Nx es extensible mediante **plugins**:
- A√±aden soporte para frameworks, herramientas o flujos espec√≠ficos.
- Incluyen generators, executors y presets.
- Permiten adaptar Nx a necesidades concretas del equipo.

Tipos de plugins:
- Oficiales
- De la comunidad
- Internos (custom plugins)

## Executors
Los **executors** definen c√≥mo se ejecuta una tarea:
- Encapsulan l√≥gica de ejecuci√≥n (build, test, deploy).
- Pueden ser reutilizados por m√∫ltiples proyectos.
- Son configurables y extensibles.

Ventajas:
- Separaci√≥n entre configuraci√≥n y ejecuci√≥n
- Consistencia entre proyectos
- Facilitan automatizaci√≥n avanzada

## Nx Cloud
Nx Cloud extiende las capacidades de Nx:
- Cach√© remoto compartido entre desarrolladores y CI.
- Distribuci√≥n de tareas entre agentes.
- Visualizaci√≥n avanzada de pipelines.

Beneficios principales:
- Reducci√≥n significativa de tiempos de CI
- Escalabilidad horizontal
- Mejor feedback para equipos grandes

## Distribuci√≥n de tareas
Nx soporta **task distribution**:
- Ejecuta tareas en paralelo en m√∫ltiples m√°quinas.
- Ideal para test suites grandes.
- Se integra con Nx Cloud y sistemas de CI modernos.

Esto permite:
- Escalar pipelines sin complejidad adicional
- Aprovechar mejor la infraestructura disponible

## Control de arquitectura
Nx permite imponer **restricciones arquitect√≥nicas**:
- Reglas de dependencia entre librer√≠as.
- Validaci√≥n autom√°tica durante linting.
- Prevenci√≥n de accesos indebidos entre capas.

Casos t√≠picos:
- UI no depende de data-access
- Dominios aislados entre s√≠
- Core independiente de apps

## Versionado y releases
Nx facilita el **versionado en monorepos**:
- Versionado independiente o unificado.
- Automatizaci√≥n de releases.
- Integraci√≥n con changelogs y tags.

Es especialmente √∫til en:
- Librer√≠as compartidas
- Plataformas internas
- Ecosistemas con m√∫ltiples consumidores

## Migraciones
Nx incluye soporte para **migraciones**:
- Actualiza configuraciones y dependencias de forma segura.
- Aplica cambios incrementales y reproducibles.
- Reduce riesgo en upgrades grandes.

Las migraciones:
- Son versionadas
- Son auditables
- Mantienen compatibilidad progresiva

## Workspaces heterog√©neos
Nx no se limita a un solo stack:
- Permite mezclar m√∫ltiples tecnolog√≠as en un mismo monorepo.
- Gestiona dependencias cruzadas entre stacks.
- Unifica flujos de build y test.

Ejemplos:
- Frontend y backend en el mismo repositorio
- Herramientas internas junto a aplicaciones productivas

## Observabilidad del workflow
Nx ofrece visibilidad sobre el estado del workspace:
- Visualizaci√≥n del dependency graph.
- Inspecci√≥n de tareas y pipelines.
- Diagn√≥stico de cuellos de botella.

Esto ayuda a:
- Optimizar arquitectura
- Detectar dependencias innecesarias
- Mejorar rendimiento global

## Seguridad y control de cambios
Nx contribuye a la seguridad del desarrollo:
- Limita el impacto de cambios accidentales.
- Reduce superficie de error en CI.
- Facilita auditor√≠as de dependencias internas.

Relacionado con:
- [Testing](/testing/testing/)
- [Automatizacion y Build](/uncategorized/automatizacion-y-build/)
- [CICD](/devops/cicd/)

