---
date: 2024-11-21 18:20
title: pug
tags:
  - pug
  - template-engine
  - nodejs
keywords:
source:
status: üåü
Parent: "[[Area-Prog]]"
cssclasses:
  - hide-embedded-header1
  - wide
categories:
  - Motor de plantillas
public_note: "true"
category: Motor de plantillas
---
# pug
`$= dv.current().file.tags.join(" ")`

## Descripci√≥n general
Pug es un **motor de plantillas (template engine)** para [node.js](/backend/node-js/) que permite generar HTML de forma declarativa y concisa. Se caracteriza por una **sintaxis basada en indentaci√≥n**, eliminando la necesidad de etiquetas de cierre expl√≠citas y reduciendo considerablemente el ruido visual del HTML tradicional.

Est√° ampliamente utilizado en aplicaciones **Node.js + Express**, sistemas MVC, SSR (Server-Side Rendering) y generaci√≥n de vistas din√°micas.

## Enlaces y recursos oficiales
- [node.js](/backend/node-js/)
- [GitHub - pugjs/pug: Pug ‚Äì robust, elegant, feature rich template engine for Node.js](https://github.com/pugjs/pug?tab=readme-ov-file)
- [Pug HTML Template Engine: A Beginner's Guide ‚Äî SitePoint](https://www.sitepoint.com/a-beginners-guide-to-pug/)

## Caracter√≠sticas principales
- Sintaxis compacta basada en indentaci√≥n
- Generaci√≥n de HTML din√°mico
- Soporte nativo para layouts y herencia de plantillas
- Variables, condiciones y bucles
- Mixins reutilizables
- Inclusi√≥n de archivos parciales
- Integraci√≥n directa con Express y otros frameworks
- Compilaci√≥n a HTML est√°tico

## Sintaxis b√°sica
- Las etiquetas HTML se representan por su nombre
- Los atributos se definen entre par√©ntesis
- El contenido se escribe en la misma l√≠nea o anidado por indentaci√≥n
- El texto plano se escribe directamente

Ejemplo conceptual:
- `div` define un `<div>`
- `div.container` define un `<div class="container">`
- `#id` define un identificador
- La jerarqu√≠a depende de la indentaci√≥n

## Variables y datos din√°micos
Pug permite inyectar variables desde el backend y utilizarlas directamente en la vista.

- Acceso a variables mediante interpolaci√≥n
- Soporte para expresiones JavaScript
- Escapado autom√°tico de HTML por defecto
- Posibilidad de renderizado sin escape expl√≠cito

Casos comunes:
- Renderizado de datos de base de datos
- Personalizaci√≥n de vistas por usuario
- Construcci√≥n din√°mica de listas y tablas

## Condicionales
Soporta estructuras de control similares a JavaScript:
- `if`
- `else if`
- `else`
- Operadores l√≥gicos y comparaciones

Uso t√≠pico:
- Mostrar u ocultar secciones seg√∫n permisos
- Renderizar mensajes de error o √©xito
- Controlar flujos de interfaz

## Bucles e iteraciones
Permite recorrer arrays y objetos:
- `each`
- `for`

Aplicaciones habituales:
- Listados de usuarios
- Men√∫s din√°micos
- Tablas de resultados
- Logs y eventos

## Mixins (componentes reutilizables)
Los mixins funcionan como **funciones de plantilla** reutilizables.

Caracter√≠sticas:
- Aceptan par√°metros
- Permiten bloques anidados
- Reducen duplicaci√≥n de c√≥digo
- Facilitan la creaci√≥n de componentes UI

Ejemplos de uso:
- Botones
- Cards
- Formularios
- Modales

## Layouts y herencia de plantillas
Pug permite definir una plantilla base y extenderla.

Conceptos clave:
- `extends` para heredar de un layout
- `block` para definir secciones reemplazables
- Reutilizaci√≥n de cabeceras y footers
- Estructuraci√≥n clara de vistas grandes

## Includes y parciales
Permite dividir vistas en archivos m√°s peque√±os:
- Inclusi√≥n de fragmentos HTML/Pug
- Organizaci√≥n modular
- Facilita mantenimiento

Usos t√≠picos:
- Navbar
- Footer
- Sidebars
- Componentes comunes

## Comentarios
Pug soporta dos tipos de comentarios:
- Comentarios visibles en HTML
- Comentarios solo para Pug (no renderizados)

Esto permite:
- Documentar plantillas
- Desactivar bloques temporalmente
- Mantener notas internas de desarrollo

## Integraci√≥n con Express
Pug es uno de los motores m√°s usados con Express.

Flujo t√≠pico:
- Configurar Pug como view engine
- Definir carpeta de vistas
- Renderizar con `res.render()`
- Pasar variables desde el controlador

Ventajas:
- Renderizado r√°pido
- Curva de aprendizaje moderada
- Integraci√≥n nativa y estable

## Seguridad
Aspectos relevantes:
- Escapado autom√°tico de HTML (prevenci√≥n de XSS)
- Renderizado sin escape solo bajo control expl√≠cito
- Separaci√≥n l√≥gica entre datos y presentaci√≥n

Buenas pr√°cticas:
- No renderizar HTML sin sanitizar
- Validar datos antes de pasarlos a la vista
- Mantener l√≥gica compleja fuera de la plantilla

## Casos de uso comunes
- Aplicaciones web SSR
- Dashboards administrativos
- Prototipado r√°pido de interfaces
- Generaci√≥n de HTML est√°tico
- Sistemas internos y backoffice

## Ventajas
- C√≥digo m√°s legible y corto
- Menor repetici√≥n
- Alta productividad
- Ecosistema maduro
- Amplio soporte comunitario

## Limitaciones
- Dependencia fuerte de la indentaci√≥n
- Menos popular en arquitecturas SPA modernas
- Curva inicial para desarrolladores acostumbrados a HTML puro
- No orientado a frontend reactivo sin SSR

## Comparaci√≥n con otros motores
- Frente a EJS: sintaxis m√°s compacta
- Frente a Handlebars: mayor expresividad
- Frente a JSX: menos acoplado a frameworks frontend
- Frente a HTML puro: mayor dinamismo y reutilizaci√≥n

# pug ‚Äî casos de uso con ejemplos y alternativas actuales (2025)

## Renderizado de vistas en Express (SSR cl√°sico)
Uso t√≠pico de Pug como motor de vistas en aplicaciones [node.js](/backend/node-js/) con Express.

### Ejemplo de configuraci√≥n Express
```js
const express = require("express")
const app = express()

app.set("view engine", "pug")
app.set("views", "./views")

app.get("/", (req, res) => {
	res.render("index", {
		title: "Dashboard",
		user: { name: "Eduardo", role: "admin" }
	})
})

app.listen(3000)
````

### Ejemplo de plantilla Pug

```pug
doctype html
html
	head
		title= title
	body
		h1 Hola #{user.name}
		if user.role === "admin"
			p Acceso administrativo habilitado
```

## Dashboards internos y backoffice

Muy com√∫n en:

* Paneles administrativos
* Herramientas internas
* Sistemas de gesti√≥n

Ventaja clave:

* HTML limpio
* Poco JavaScript en frontend
* Renderizado r√°pido

### Ejemplo de listado din√°mico

```pug
h2 Usuarios
ul
	each user in users
		li #{user.email} ‚Äî #{user.status}
```

## Generaci√≥n de HTML est√°tico

Pug puede usarse como **generador de HTML est√°tico** para documentaci√≥n o sitios simples.

### Ejemplo de compilaci√≥n est√°tica

```bash
pug src/views --out dist --pretty
```

Casos habituales:

* Documentaci√≥n t√©cnica
* Landings simples
* Prototipos r√°pidos

## Emails transaccionales

Uso frecuente de Pug para generar **plantillas de correo HTML**.

Ventajas:

* Reutilizaci√≥n de layouts
* Separaci√≥n clara de l√≥gica y contenido
* F√°cil integraci√≥n con nodemailer

### Ejemplo de template de email

```pug
table
	tr
		td
			h2 Hola #{name}
			p Tu pedido #{orderId} ha sido confirmado
```

## Prototipado r√°pido de UI

Ideal para:

* Wireframes funcionales
* Pruebas de dise√±o
* Validaci√≥n r√°pida con negocio

Raz√≥n:

* Menos ruido que HTML
* Escritura muy r√°pida
* F√°cil refactor

## Microservicios de renderizado

Arquitectura donde un servicio se dedica solo a:

* Renderizar HTML
* Devolver fragmentos
* Generar PDFs

Pug encaja bien por:

* Simplicidad
* Rendimiento
* Bajo overhead

## Sistemas legacy o h√≠bridos

Muy usado cuando:

* No se quiere SPA
* El frontend es m√≠nimo
* El backend controla el flujo

Ejemplo:

* Apps corporativas
* Intranets
* Herramientas IT

# Alternativas actuales a Pug (2025)

## EJS

Motor de plantillas cl√°sico basado en HTML.

Ventajas:

* HTML casi puro
* Curva de aprendizaje m√≠nima
* Muy estable

Limitaciones:

* M√°s verboso
* Menos reutilizaci√≥n que Pug

Caso recomendado:

* Equipos muy orientados a HTML tradicional

## Handlebars

Motor declarativo y restrictivo.

Ventajas:

* Separaci√≥n estricta de l√≥gica
* Templates predecibles
* Muy usado en entornos grandes

Limitaciones:

* Menos expresivo
* Helpers necesarios para l√≥gica compleja

Caso recomendado:

* Equipos grandes
* Proyectos con normas estrictas

## Nunjucks

Motor inspirado en Jinja2.

Ventajas:

* Potente sistema de herencia
* Sintaxis clara
* Muy flexible

Limitaciones:

* M√°s verboso que Pug
* Menos popular que antes

Caso recomendado:

* Proyectos complejos sin SPA

## JSX (React / Next.js)

Renderizado mediante componentes.

Ventajas:

* Ecosistema dominante
* UI reactiva
* SSR avanzado con Next.js

Limitaciones:

* Mayor complejidad
* Overkill para apps simples

Caso recomendado:

* Frontend moderno
* SPAs y SSR avanzados

## Astro

Framework moderno orientado a contenido.

Ventajas:

* HTML est√°tico optimizado
* M√≠nimo JavaScript
* Excelente rendimiento

Limitaciones:

* No es solo un template engine
* Nuevo paradigma

Caso recomendado:

* Sitios de contenido
* Documentaci√≥n
* Marketing sites

## Marko

Motor de eBay orientado a rendimiento.

Ventajas:

* Muy r√°pido
* Soporta componentes
* SSR eficiente

Limitaciones:

* Ecosistema peque√±o
* Menos comunidad

Caso recomendado:

* Apps SSR de alto rendimiento

## Comparativa r√°pida de decisi√≥n

* Backoffice / SSR simple ‚Üí **Pug**
* HTML cl√°sico ‚Üí **EJS**
* Control estricto ‚Üí **Handlebars**
* SSR moderno / SPA ‚Üí **JSX + Next.js**
* Sitios est√°ticos modernos ‚Üí **Astro**
* Alto rendimiento SSR ‚Üí **Marko**

## Criterios para elegir Pug en 2025

* Backend-driven UI
* Poco frontend reactivo
* Equipo Node.js
* Necesidad de velocidad y simplicidad
* Preferencia por sintaxis concisa

